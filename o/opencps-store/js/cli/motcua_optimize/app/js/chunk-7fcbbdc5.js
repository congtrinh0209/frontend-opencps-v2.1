(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7fcbbdc5","chunk-6d1dc782","chunk-8f0291f0","chunk-29bdcefd","chunk-2d0a2d2b"],{"000e":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{style:t.viewMobile?"":"text-align: left;position: absolute;line-height: 46px;"},[t._v("Tổng số "),i("span",{staticClass:"text-bold primary--text"},[t._v(t._s(t.total))]),t._v(" hồ sơ. ")]),t.total>0?i("div",{staticClass:"vue-tiny-pagination pagination layout",style:t.viewMobile?"":"justify-content: flex-end; -webkit-justify-content: flex-end;"},[i("div",{staticClass:"pr-3 xs4 sm2 flex"},[i("v-autocomplete",{attrs:{items:t.totalPagesData,"item-text":"text","item-value":"value"},on:{input:t.goToPage},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1),i("ul",{staticClass:"tiny-pagination",class:t.customClass},[i("li",{staticClass:"page-item",class:t.classFirstPage},[i("button",{staticClass:"pagination__navigation",class:t.classFirstPage,on:{click:function(e){return e.preventDefault(),t.lastPageLast(e)}}},[i("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("first_page")])])]),i("li",{staticClass:"page-item",class:t.classFirstPage},[i("button",{staticClass:"pagination__navigation",class:t.classFirstPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.lastPage(e)}}},[i("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_left")])])]),i("li",{staticClass:"page-item",staticStyle:{"margin-right":"0"}},[i("button",{staticClass:"pagination__navigation pagination__navigation--disabled text-bold primary--text",staticStyle:{"border-right":"0","border-left":"0"}},[t._v("\n          "+t._s(t.titlePage)+"\n        ")])]),i("li",{staticClass:"page-item",class:t.classLastPage,staticStyle:{"margin-right":"0"}},[i("button",{staticClass:"pagination__navigation",class:t.classLastPage,staticStyle:{"border-left":"0"},on:{click:function(e){return e.preventDefault(),t.nextPage(e)}}},[i("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("chevron_right")])])]),i("li",{staticClass:"page-item",class:t.classLastPage},[i("button",{staticClass:"pagination__navigation",class:t.classLastPage,on:{click:function(e){return e.preventDefault(),t.nextPageLast(e)}}},[i("i",{staticClass:"material-icons icon",attrs:{"aria-hidden":"true"}},[t._v("last_page")])])])])]):t._e()])},n=[],s=(i("6762"),i("2fdb"),i("e814")),o=i.n(s),r=(i("c5f6"),i("cadf"),i("551c"),i("097d"),i("9029")),l="TinyPagination",c={name:l,props:{total:{type:Number,required:!0},page:{type:Number,default:1},lang:{type:String,default:"en"},customClass:{type:String},currentLimit:{type:Number,default:15},limits:{type:Array,default:function(){return[10,15,20,50,100]}},showLimit:{type:Boolean,default:!0}},data:function(){return{version:"0.2.1",currentPage:1,translations:{en:{prev:"Previous",title:"Page",next:"Next"}},availableLanguages:["en"]}},created:function(){this.currentPage=this.page},watch:{page:function(t){this.currentPage=o()(t)}},computed:{translation:function(){return this.availableLanguages.includes(this.lang)?this.translations[this.lang]:this.translations["en"]},totalPages:function(){return Math.ceil(this.total/this.currentLimit)},totalPagesData:function(){for(var t=[],e={},i=1;i<=this.totalPages;++i)e={value:i,text:"Trang "+i},t.push(e);return t},titlePage:function(){return"".concat(this.currentPage)},classFirstPage:function(){return{"c-not-allowed pagination__navigation--disabled":1===this.currentPage}},classLastPage:function(){return{"c-not-allowed pagination__navigation--disabled":this.currentPage===this.totalPages}},viewMobile:function(){return r["isMobile"]}},methods:{nextPage:function(){this.currentPage!==this.totalPages&&(this.currentPage+=1,this.$emit("tiny:change-page",{page:this.currentPage}))},lastPage:function(){this.currentPage>1&&(this.currentPage-=1,this.$emit("tiny:change-page",{page:this.currentPage}))},nextPageLast:function(){this.currentPage=this.totalPages,this.$emit("tiny:change-page",{page:this.totalPages})},lastPageLast:function(){this.currentPage=1,this.$emit("tiny:change-page",{page:1})},goToPage:function(){this.$emit("tiny:change-page",{page:this.currentPage})},onLimitChange:function(){this.currentPage=1}}},d=c,u=i("2877"),p=i("6544"),h=i.n(p),f=i("c6a6"),m=Object(u["a"])(d,a,n,!1,null,null,null);e["default"]=m.exports;h()(m,{VAutocomplete:f["a"]})},"014b":function(t,e,i){"use strict";var a=i("e53d"),n=i("07e3"),s=i("8e60"),o=i("63b6"),r=i("9138"),l=i("ebfd").KEY,c=i("294c"),d=i("dbdb"),u=i("45f2"),p=i("62a0"),h=i("5168"),f=i("ccb9"),m=i("6718"),_=i("47ee"),g=i("9003"),v=i("e4ae"),y=i("f772"),b=i("36c3"),T=i("1bc3"),D=i("aebd"),x=i("a159"),C=i("0395"),S=i("bf0b"),w=i("d9f6"),P=i("c3a1"),k=S.f,F=w.f,E=C.f,I=a.Symbol,O=a.JSON,N=O&&O.stringify,A="prototype",M=h("_hidden"),$=h("toPrimitive"),j={}.propertyIsEnumerable,B=d("symbol-registry"),V=d("symbols"),H=d("op-symbols"),U=Object[A],L="function"==typeof I,R=a.QObject,K=!R||!R[A]||!R[A].findChild,q=s&&c(function(){return 7!=x(F({},"a",{get:function(){return F(this,"a",{value:7}).a}})).a})?function(t,e,i){var a=k(U,e);a&&delete U[e],F(t,e,i),a&&t!==U&&F(U,e,a)}:F,W=function(t){var e=V[t]=x(I[A]);return e._k=t,e},Y=L&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},z=function(t,e,i){return t===U&&z(H,e,i),v(t),e=T(e,!0),v(i),n(V,e)?(i.enumerable?(n(t,M)&&t[M][e]&&(t[M][e]=!1),i=x(i,{enumerable:D(0,!1)})):(n(t,M)||F(t,M,D(1,{})),t[M][e]=!0),q(t,e,i)):F(t,e,i)},G=function(t,e){v(t);var i,a=_(e=b(e)),n=0,s=a.length;while(s>n)z(t,i=a[n++],e[i]);return t},J=function(t,e){return void 0===e?x(t):G(x(t),e)},X=function(t){var e=j.call(this,t=T(t,!0));return!(this===U&&n(V,t)&&!n(H,t))&&(!(e||!n(this,t)||!n(V,t)||n(this,M)&&this[M][t])||e)},Q=function(t,e){if(t=b(t),e=T(e,!0),t!==U||!n(V,e)||n(H,e)){var i=k(t,e);return!i||!n(V,e)||n(t,M)&&t[M][e]||(i.enumerable=!0),i}},Z=function(t){var e,i=E(b(t)),a=[],s=0;while(i.length>s)n(V,e=i[s++])||e==M||e==l||a.push(e);return a},tt=function(t){var e,i=t===U,a=E(i?H:b(t)),s=[],o=0;while(a.length>o)!n(V,e=a[o++])||i&&!n(U,e)||s.push(V[e]);return s};L||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=p(arguments.length>0?arguments[0]:void 0),e=function(i){this===U&&e.call(H,i),n(this,M)&&n(this[M],t)&&(this[M][t]=!1),q(this,t,D(1,i))};return s&&K&&q(U,t,{configurable:!0,set:e}),W(t)},r(I[A],"toString",function(){return this._k}),S.f=Q,w.f=z,i("6abf").f=C.f=Z,i("355d").f=X,i("9aa9").f=tt,s&&!i("b8e3")&&r(U,"propertyIsEnumerable",X,!0),f.f=function(t){return W(h(t))}),o(o.G+o.W+o.F*!L,{Symbol:I});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;et.length>it;)h(et[it++]);for(var at=P(h.store),nt=0;at.length>nt;)m(at[nt++]);o(o.S+o.F*!L,"Symbol",{for:function(t){return n(B,t+="")?B[t]:B[t]=I(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in B)if(B[e]===t)return e},useSetter:function(){K=!0},useSimple:function(){K=!1}}),o(o.S+o.F*!L,"Object",{create:J,defineProperty:z,defineProperties:G,getOwnPropertyDescriptor:Q,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),O&&o(o.S+o.F*(!L||c(function(){var t=I();return"[null]"!=N([t])||"{}"!=N({a:t})||"{}"!=N(Object(t))})),"JSON",{stringify:function(t){var e,i,a=[t],n=1;while(arguments.length>n)a.push(arguments[n++]);if(i=e=a[1],(y(e)||void 0!==t)&&!Y(t))return g(e)||(e=function(t,e){if("function"==typeof i&&(e=i.call(this,t,e)),!Y(e))return e}),a[1]=e,N.apply(O,a)}}),I[A][$]||i("35e8")(I[A],$,I[A].valueOf),u(I,"Symbol"),u(Math,"Math",!0),u(a.JSON,"JSON",!0)},"0395":function(t,e,i){var a=i("36c3"),n=i("6abf").f,s={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],r=function(t){try{return n(t)}catch(e){return o.slice()}};t.exports.f=function(t){return o&&"[object Window]"==s.call(t)?r(t):n(a(t))}},"0838":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Ngày hẹn trả\n      ")]),i("v-card",[i("v-card-text",[i("v-layout",{staticClass:"pl-2",attrs:{wrap:""}},[i("v-icon",{staticClass:"hover-pointer",attrs:{color:"primary"},on:{click:t.showDatePicker}},[t._v("event")]),i("vue-ctk-date-time-picker",{ref:"datepicker",staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0,formatted:"DD/MM/YYYY HH:mm",label:t.dueDateInput?"":"Chọn ngày","min-date":t.minDate},model:{value:t.dueDateInput,callback:function(e){t.dueDateInput=e},expression:"dueDateInput"}})],1)],1)],1)],1)],1)],1)},n=[],s=(i("6b54"),i("f576"),i("cadf"),i("551c"),i("097d"),i("e30a")),o=i.n(s),r={components:{"vue-ctk-date-time-picker":o.a},props:["dueDateEdit"],data:function(){return{dueDateInput:"",minDate:null}},created:function(){var t=this;t.dueDateInput=t.dueDateEdit?t.formatDateInput(t.dueDateEdit):"",console.log("dueDateInput",t.dueDateInput)},watch:{},mounted:function(){this.dueDateInput=this.dueDateEdit?this.formatDateInput(this.dueDateEdit):"",console.log("dueDateInput",this.dueDateInput),this.minDate=this.getCurentDateTime("date")},methods:{getDateInput:function(){var t=this;console.log("vm.dueDateInput",t.dueDateInput);var e=t.dueDateInput?new Date(t.dueDateInput).getTime():"";return e},getCurentDateTime:function(t){var e=new Date;return"datetime"===t?"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):"date"===t?"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")):void 0},formatDateInput:function(t){return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))},showDatePicker:function(){this.$refs.datepicker.showDatePicker()}}},l=r,c=i("2877"),d=i("6544"),u=i.n(d),p=i("b0af"),h=i("99d9"),f=i("cd55"),m=i("49e2"),_=i("132d"),g=i("a722"),v=Object(c["a"])(l,a,n,!1,null,null,null);e["a"]=v.exports;u()(v,{VCard:p["a"],VCardText:h["b"],VExpansionPanel:f["a"],VExpansionPanelContent:m["a"],VIcon:_["a"],VLayout:g["a"]})},1136:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-expansion-panel",{attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Thông tin chung hồ sơ")]),i("v-card",[i("v-card-text",{staticClass:"py-0"},[i("v-layout",{staticClass:"px-2 py-2",attrs:{wrap:""}},[1!==t.originality?i("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Chủ hồ sơ: ")]),i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.applicantName))])]),i("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[i("span",{staticClass:"pr-2"},[t._v("Địa chỉ: ")]),i("v-tooltip",{attrs:{top:""}},[i("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)),t.thongTinChiTietHoSo.wardName?i("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]):t._e()]),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)),t.thongTinChiTietHoSo.wardName?i("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]):t._e()])])],1),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pl-0"},[t._v("Thư điện tử: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactEmail)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Điện thoại: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactTelNo)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("v-menu",{staticStyle:{position:"relative !important"},attrs:{"offset-y":""}},[i("span",{staticClass:"pr-2",attrs:{slot:"activator"},slot:"activator"},[t._v("\n                  Thông tin người nộp\n                  "),i("v-icon",{staticStyle:{position:"absolute",right:"-12px",top:"-2px"},attrs:{color:"blue",size:"22"}},[t._v("arrow_drop_down")])],1),i("v-list",{staticClass:"px-3 py-2"},[i("div",{staticClass:"xs12 sm12 py-1"},[i("span",{staticClass:"pr-2"},[t._v("Tên người nộp:")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                      "+t._s(t.thongTinChiTietHoSo.applicantName)+"\n                    ")]):i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateName)+" ")])]),i("div",{staticClass:"xs12 sm12 py-1"},[i("span",{staticClass:"pr-2"},[t._v("Địa chỉ:")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                      "+t._s(t.thongTinChiTietHoSo.address)+" "+t._s(t.thongTinChiTietHoSo.wardName)+"\n                      "),t.thongTinChiTietHoSo.wardName?i("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.districtName)+", "+t._s(t.thongTinChiTietHoSo.cityName))]):t._e()]):i("span",{staticClass:"pl-0 text-bold"},[t._v(" \n                      "+t._s(t.thongTinChiTietHoSo.delegateAddress)+" "+t._s(t.thongTinChiTietHoSo.delegateWardName)+"\n                      "),t.thongTinChiTietHoSo.delegateWardName?i("span",[t._v(", "+t._s(t.thongTinChiTietHoSo.delegateDistrictName)+", "+t._s(t.thongTinChiTietHoSo.delegateCityName))]):t._e()])]),i("div",{staticClass:"xs12 sm12 py-1"},[i("span",{staticClass:"pr-2"},[t._v("Thư điện tử:")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactEmail)+" ")]):i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateEmail)+" ")])]),i("div",{staticClass:"xs12 sm12 py-1"},[i("span",{staticClass:"pr-2"},[t._v("Số điện thoại:")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.contactTelNo)+" ")]):i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.delegateTelNo)+" ")])])])],1)],1)]):t._e(),1===t.originality?i("v-flex",{staticClass:"pr-3",attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Mã hồ sơ: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.dossierNo)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Cơ quan: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.govAgencyName)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Trạng thái: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierStatusText)+" ")])])]):t._e(),1!==t.originality?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[t.thongTinChiTietHoSo.online?i("span",{staticClass:"pr-2"},[t._v("Ngày gửi trực tuyến: ")]):i("span",{staticClass:"pr-2"},[t._v("Ngày nộp hồ sơ: ")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.submitDate)+" ")]):i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày tiếp nhận: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate))])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Thời hạn giải quyết: ")]),t.thongTinChiTietHoSo.durationCount>0?i("span",{staticClass:"pl-0 text-bold "},[t._v(" \n                "+t._s(t.durationText(t.thongTinChiTietHoSo.durationUnit,t.thongTinChiTietHoSo.durationCount))+" làm việc \n              ")]):i("span",{staticClass:"pl-0 text-bold "},[t._v("\n                Không quy định\n              ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày hẹn trả: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dueDate))])])]):i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[t.thongTinChiTietHoSo.online?i("span",{staticClass:"pr-2"},[t._v("Ngày gửi trực tuyến: ")]):i("span",{staticClass:"pr-2"},[t._v("Ngày nộp hồ sơ: ")]),t.thongTinChiTietHoSo.online?i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.submitDate)+" ")]):i("span",{staticClass:"pl-0 text-bold"},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate)+" ")])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày tiếp nhận: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.receiveDate))])]),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Ngày hẹn trả: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dueDate))])])]),1!==t.originality?i("v-flex",{attrs:{xs12:"",sm4:""}},[i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Mã hồ sơ: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.dossierNo)+" ")])]),t.thongTinChiTietHoSo.originDossierNo?i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Hồ sơ gốc: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v("  "+t._s(t.thongTinChiTietHoSo.originDossierNo)+" ")])]):t._e(),i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Trạng thái: ")]),i("span",{staticClass:"pl-0 text-bold "},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierStatusText)+" ")])]),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("\n              Ghi chú:\n            ")]):t._e(),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[i("v-tooltip",{attrs:{top:""}},[i("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.dossierNote)+" ")]),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierNote)+" ")])])],1):t._e(),t.thongTinChiTietHoSo["groupDossierId"]?i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pr-2"},[t._v("Nhóm hồ sơ: ")]),i("span",{staticClass:"pl-0 text-bold",style:t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?"cursor: pointer; color: #0072bc":"",attrs:{title:t.thongTinChiTietHoSo["permission"].indexOf("write")>=0?"Chi tiết nhóm hồ sơ":""},on:{click:t.detailGroup}},[t._v("\n                "+t._s(t.groupDossierName)+"\n              ")])]):t._e(),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("\n              Ghi chú:\n            ")]):t._e()]):i("v-flex",{attrs:{xs12:"",sm4:""}},[t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1",staticStyle:{color:"#0b72ba"}},[t._v("\n              Ghi chú:\n            ")]):t._e(),t.thongTinChiTietHoSo.dossierNote&&"null"!==t.thongTinChiTietHoSo.dossierNote&&t.thongTinChiTietHoSo.dossierNote.indexOf("<br/>")<0&&t.thongTinChiTietHoSo.dossierNote.indexOf("</br>")<0?i("div",{staticClass:"xs12 sm12 pb-1 overHidden"},[i("v-tooltip",{attrs:{top:""}},[i("span",{staticClass:"text-bold ",attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(t.thongTinChiTietHoSo.dossierNote)+" ")]),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(t.thongTinChiTietHoSo.dossierNote)+" ")])])],1):t._e(),t.thongTinChiTietHoSo.extendDate?i("div",{staticClass:"xs12 sm12 pb-1"},[i("span",{staticClass:"pl-0 text-bold"},[t._v("Hẹn lại: "+t._s(t.thongTinChiTietHoSo.extendDate))])]):t._e()])],1)],1)],1)],1)],1)},n=[],s=(i("6b54"),i("f576"),i("cadf"),i("551c"),i("097d"),{props:{detailDossier:{type:Object,default:function(){}}},watch:{detailDossier:function(t){var e=this;e.thongTinChiTietHoSo=t,e.thongTinChiTietHoSo["groupDossierId"]&&e.$store.dispatch("getDetailDossier",e.thongTinChiTietHoSo["groupDossierId"]).then(function(t){e.groupDossierNo=t["dossierNo"],e.groupDossierName=t["dossierName"]})}},components:{},data:function(){return{thongTinChiTietHoSo:{},groupDossierNo:"",groupDossierName:"",showContactDetail:!1}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()}},created:function(){var t=this;t.thongTinChiTietHoSo=t.detailDossier,t.thongTinChiTietHoSo["groupDossierId"]&&t.$store.dispatch("getDetailDossier",t.thongTinChiTietHoSo["groupDossierId"]).then(function(e){t.groupDossierNo=e["dossierNo"],t.groupDossierName=e["dossierName"]})},mounted:function(){var t=this;t.thongTinChiTietHoSo=t.detailDossier},methods:{initData:function(t){var e=this;e.$store.dispatch("getDetailDossier",t).then(function(t){e.thongTinChiTietHoSo=t,console.log("thongTinChiTietHoSo",e.thongTinChiTietHoSo)})},goBack:function(){window.history.back()},durationText:function(t,e){var i;if(1===t&&e>8){var a,n=Math.floor(e/8)+" ngày";a=e%8!==0?8*(e/8-Math.floor(e/8))+" giờ":"",i="".concat(n," ").concat(a)}else 0===t?i=e+" ngày":1===t&&e<=8&&(i=e+" giờ");return i},detailGroup:function(){var t=this;t.thongTinChiTietHoSo["permission"].indexOf("write")>=0&&t.$router.push("/danh-sach-ho-so/0/nhom-ho-so/"+t.thongTinChiTietHoSo["groupDossierId"])}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""}}}),o=s,r=i("2877"),l=i("6544"),c=i.n(l),d=i("b0af"),u=i("99d9"),p=i("cd55"),h=i("49e2"),f=i("0e8f"),m=i("132d"),_=i("a722"),g=i("8860"),v=i("e449"),y=i("3a2f"),b=Object(r["a"])(o,a,n,!1,null,null,null);e["a"]=b.exports;c()(b,{VCard:d["a"],VCardText:u["b"],VExpansionPanel:p["a"],VExpansionPanelContent:h["a"],VFlex:f["a"],VIcon:m["a"],VLayout:_["a"],VList:g["a"],VMenu:v["a"],VTooltip:y["a"]})},"24fb":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"taotailieuketqua",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(" Kết quả xử lý\n      ")]),i("v-card",t._l(t.createFiles,function(e,a){return i("div",{key:e.partNo+"cr",staticClass:"form_alpaca",staticStyle:{position:"relative"}},[i("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:t.currentFormView==="formAlpaca"+e.partNo+t.id?[!0]:[!1]}},[i("v-expansion-panel-content",{attrs:{"hide-actions":""}},[i("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[i("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},[i("div",{staticClass:"mr-2",staticStyle:{"min-width":"20px",display:"flex"},on:{click:function(i){t.loadAlpcaFormClick(e)}}},[i("div",{staticClass:"header__tphs",staticStyle:{"min-width":"20px"}},[i("span",{staticClass:"text-bold"},[t._v(t._s(a+1)+".")]),t._v("  ")]),i("div",{staticClass:"header__tphs"},[t._v("\n                      "+t._s(e.partName)+" "),e.required?i("span",{staticStyle:{color:"red"}},[t._v(" (*)")]):t._e(),t._v("\n                        \n                      "),e.hasForm?i("span",{staticStyle:{color:"#004b94"}},[t._v("(Bản khai trực tuyến)")]):t._e(),t._v("\n                        \n                      ")])]),t._l(t.dossierFilesItems,function(a,n){return e.partNo+t.id!==a.dossierPartNo+t.id||a.eForm?t._e():i("div",{key:n+"cr"},[i("div",{staticStyle:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"25px","font-size":"12px"}},[i("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(a)}}},[i("v-icon",{staticClass:"mr-1",attrs:{color:t.getDocumentTypeIcon(a.fileType)["color"],size:t.getDocumentTypeIcon(a.fileType)["size"]}},[t._v("\n                          "+t._s(t.getDocumentTypeIcon(a.fileType)["icon"])+"\n                        ")]),t._v("\n                        "+t._s(a.displayName)+" - \n                        "),i("i",[t._v(t._s(a.modifiedDate))])],1),i("v-btn",{staticClass:"mx-0 my-0",attrs:{title:"Xóa",icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.deleteSingleFile(a,n)}}},[i("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1),7===a["dossierPartType"]?i("v-btn",{staticClass:"mx-0 my-0",attrs:{title:"Đính kèm cho hồ sơ khác",icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.attachOtherDossier(a)}}},[i("v-icon",{attrs:{color:"primary",size:"13"}},[t._v("fas fa fa-clone")])],1):t._e()],1)])})],2)]),e.eForm?i("v-card",[i("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[i("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+e.partNo+t.id}},[e.eForm?i("v-btn",{attrs:{color:"primary",id:"saveBtn"+e.partNo+e.templateFileNo},on:{click:function(i){i.stopPropagation(),t.saveAlpacaForm(e,a)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("save")]),t._v(" \n                          Lưu lại\n                        ")],1):t._e(),e.daKhai&&e.eForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){i.stopPropagation(),t.previewFileEfom(e,a)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("print")]),t._v(" \n                          In\n                        ")],1):t._e(),e.daKhai&&e.eForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){i.stopPropagation(),t.deleteSingleFileEform(e,a)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("delete")]),t._v(" \n                          Xóa\n                        ")],1):t._e()],1),i("div",{attrs:{id:"formAlpaca"+e.partNo+t.id}})])],1)],1)],1):t._e()],1)],1),i("div",{staticClass:"absolute__btn group__thanh_phan pr-3 mr-1"},[t.loading?i("content-placeholders",{staticClass:"mt-1"},[i("content-placeholders-text",{attrs:{lines:1}})],1):i("v-layout",{attrs:{row:"",wrap:""}},[i("v-flex",{staticStyle:{width:"100px"}},[i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(i){t.onUploadSingleFile(i,e)}}}),t.progressUploadPart+t.id===e.partNo+t.id?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.progressUploadPart+t.id!==e.partNo+t.id&e.eForm?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){i.stopPropagation(),t.loadAlpcaFormClick(e)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"#004b94"}},[t._v("edit")])],1)],1),i("span",[t._v("Khai trực tuyến")])],1):t._e(),t.progressUploadPart+t.id!==e.partNo+t.id?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){t.pickFile(e)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"#004b94"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?i("span",[t._v("Tải giấy tờ lên (Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB)")]):i("span",[t._v("Tải giấy tờ lên")])],1):t._e()],1)],1)],1)],1)}),0),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"1000",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v(t._s(t.documentType))]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)],1),i("v-dialog",{attrs:{"hide-overlay":"",persistent:"","max-width":"350",transition:"fade-transition"},model:{value:t.dialogConfirm,callback:function(e){t.dialogConfirm=e},expression:"dialogConfirm"}},[i("v-card",{attrs:{flat:""}},[i("v-toolbar",{attrs:{flat:"",dark:"",color:"#1867c0"}},[i("v-toolbar-title",{staticStyle:{"font-size":"16px"}},[t._v(t._s(t.labelConfirm))]),i("v-spacer")],1),i("v-card-actions",{staticClass:"mt-3"},[i("v-flex",{staticClass:"text-xs-center"},[i("v-btn",{staticClass:"mr-2",attrs:{color:"primary"},nativeOn:{click:function(e){return t.confirmAction(e)}}},[i("v-icon",[t._v("send")]),t._v(" \n            Đồng ý\n          ")],1),i("v-btn",{staticClass:"ml-2",staticStyle:{color:"#fff"},attrs:{color:"red"},nativeOn:{click:function(e){t.dialogConfirm=!1}}},[i("v-icon",[t._v("close")]),t._v(" \n            Bỏ qua\n          ")],1)],1)],1)],1)],1),i("v-dialog",{attrs:{"max-width":"1000",transition:"fade-transition"},model:{value:t.dialogSelectDosier,callback:function(e){t.dialogSelectDosier=e},expression:"dialogSelectDosier"}},[i("v-card",{attrs:{flat:""}},[i("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("Chọn hồ sơ")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelAddFile(e)}}},[i("v-icon",[t._v("close")])],1)],1),i("v-card-text",{staticClass:"pt-0 pb-0 px-0"},[i("ho-so-nhom",{attrs:{dossiersgroup:t.dossierIntoGroup}})],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(e){t.addFileToDossier()}}},[i("v-icon",[t._v("send")]),t._v(" \n          Xác nhận\n        ")],1),i("v-btn",{staticStyle:{color:"#fff"},attrs:{color:"red"},nativeOn:{click:function(e){return t.cancelAddFile(e)}}},[i("v-icon",[t._v("close")]),t._v(" \n          Bỏ qua\n        ")],1)],1)],1)],1)],1)},n=[],s=i("e211"),o=s["a"],r=i("2877"),l=i("6544"),c=i.n(l),d=i("4ca6"),u=i("8336"),p=i("b0af"),h=i("99d9"),f=i("169a"),m=i("cd55"),_=i("49e2"),g=i("0e8f"),v=i("132d"),y=i("a722"),b=i("490a"),T=i("9910"),D=i("71d9"),x=i("2a7f"),C=i("3a2f"),S=Object(r["a"])(o,a,n,!1,null,null,null);e["a"]=S.exports;c()(S,{VBadge:d["a"],VBtn:u["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["b"],VDialog:f["a"],VExpansionPanel:m["a"],VExpansionPanelContent:_["a"],VFlex:g["a"],VIcon:v["a"],VLayout:y["a"],VProgressCircular:b["a"],VSpacer:T["a"],VToolbar:D["a"],VToolbarTitle:x["b"],VTooltip:C["a"]})},"26ed":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{"background-color":"white",width:"100%"}},["overdue"===t.type||"preoverdue"===t.type?i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",["overdue"===t.type?i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),i("span",[t._v("Lý do chậm hạn trả")]),i("span",{staticStyle:{color:"red"}},[t._v(" *")])]):i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),i("span",[t._v("Lý do")]),i("span",{staticStyle:{color:"red"}},[t._v(" *")])]),i("v-card",[i("v-card-text",{staticClass:"py-2 px-2"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"mx-3",attrs:{xs12:""}},[i("v-form",{ref:"delayNoteForm",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{box:"","multi-line":"",rows:3,rules:function(){return""!==t.delayNote||"Trường dữ liệu bắt buộc"}},model:{value:t.delayNote,callback:function(e){t.delayNote=e},expression:"delayNote"}})],1)],1)],1)],1)],1)],1)],1):t._e(),i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),"overdue"===t.type||"preoverdue"===t.type?i("span",[t._v("Ngày hẹn lại")]):t._e(),"betimes"===t.type?i("span",[t._v("Ngày hẹn trả sớm")]):t._e()]),i("v-card",[i("v-card-text",[i("v-layout",{staticClass:"pl-2",attrs:{wrap:""}},[i("v-icon",{staticClass:"hover-pointer",attrs:{color:"blue"},on:{click:t.showDatePicker}},[t._v("event")]),i("vue-ctk-date-time-picker",{ref:"datepicker",staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0,formatted:"DD/MM/YYYY HH:mm",label:t.extendDateInput?"":"Chọn ngày","min-date":t.minDate},model:{value:t.extendDateInput,callback:function(e){t.extendDateInput=e},expression:"extendDateInput"}})],1)],1)],1)],1)],1)],1)},n=[],s=(i("28a5"),i("768b")),o=(i("6b54"),i("f576"),i("cadf"),i("551c"),i("097d"),i("e30a")),r=i.n(o),l={components:{"vue-ctk-date-time-picker":r.a},props:["extendDateEdit","type"],data:function(){return{extendDateInput:"",minDate:null,delayNote:""}},created:function(){},watch:{},mounted:function(){this.extendDateInput=this.extendDateEdit?this.parseCurrentDate(this.extendDateEdit):this.formatDateInput(new Date),console.log("extendDateInput",this.extendDateInput),this.minDate=this.getCurentDateTime("date")},methods:{doExport:function(){var t,e=this,i=e.extendDateInput?new Date(e.extendDateInput).getTime():"";return t="overdue"===e.type||"preoverdue"===e.type?{text:e.delayNote,extendDate:i,valid:e.$refs.delayNoteForm.validate()}:{text:e.delayNote,extendDate:i,valid:!0},t},getCurentDateTime:function(t){var e=new Date;return"datetime"===t?"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):"date"===t?"".concat(e.getFullYear(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")):void 0},formatDateInput:function(t){return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0")," ").concat(t.getHours().toString().padStart(2,"0"),":").concat(t.getMinutes().toString().padStart(2,"0"))},showDatePicker:function(){this.$refs.datepicker.showDatePicker()},parseCurrentDate:function(t){if(!t)return null;var e=t.split(" "),i=Object(s["a"])(e,2),a=i[0],n=i[1],o="".concat(a).split("/"),r=Object(s["a"])(o,3),l=r[0],c=r[1],d=r[2],u="".concat(n).split(":"),p=Object(s["a"])(u,3),h=p[0],f=p[1];p[2];return"".concat(d,"-").concat(c.padStart(2,"0"),"-").concat(l.padStart(2,"0")," ").concat(h,":").concat(f)}}},c=l,d=i("2877"),u=i("6544"),p=i.n(u),h=i("b0af"),f=i("99d9"),m=i("cd55"),_=i("49e2"),g=i("0e8f"),v=i("4bd4"),y=i("132d"),b=i("a722"),T=i("2677"),D=Object(d["a"])(c,a,n,!1,null,null,null);e["a"]=D.exports;p()(D,{VCard:h["a"],VCardText:f["b"],VExpansionPanel:m["a"],VExpansionPanelContent:_["a"],VFlex:g["a"],VForm:v["a"],VIcon:y["a"],VLayout:b["a"],VTextField:T["a"]})},"32a6":function(t,e,i){var a=i("241e"),n=i("c3a1");i("ce7e")("keys",function(){return function(t){return n(a(t))}})},"335e":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.dossiersgroup.length>0?i("div",{staticClass:"mb-3"},[i("v-data-table",{staticClass:"table-landing table-bordered",attrs:{"select-all":"",headers:t.headers,items:t.dossiersgroup,pagination:t.pagination,"hide-actions":"","item-key":"dossierId"},on:{"update:pagination":function(e){t.pagination=e}},scopedSlots:t._u([{key:"headers",fn:function(e){return[i("tr",[i("th",{staticClass:"v_data_table_check_all",staticStyle:{"padding-left":"14px !important"},attrs:{width:"32px"}},[i("v-checkbox",{attrs:{"input-value":e.all,indeterminate:e.indeterminate,primary:"","hide-details":""},nativeOn:{click:function(e){return t.toggleAllSelectDialog(e)}}})],1),t._l(t.headers,function(e){return i("th",{key:e.text,class:e["class"]?e["class"]:"",attrs:{width:e["width"]?e["width"]+"px":""}},[i("v-tooltip",{attrs:{bottom:""}},[i("span",{attrs:{slot:"activator"},slot:"activator"},[t._v(t._s(e.text))]),i("span",[t._v(t._s(e.text))])])],1)})],2)]}},{key:"items",fn:function(e){return[i("tr",{staticStyle:{cursor:"pointer"}},[i("td",{staticClass:"text-xs-center pl-3",staticStyle:{height:"40px !important"},attrs:{width:"32px"}},[i("v-checkbox",{attrs:{primary:"","hide-details":""},model:{value:e.selected,callback:function(i){t.$set(e,"selected",i)},expression:"props.selected"}})],1),i("td",{staticClass:"text-xs-center",staticStyle:{height:"40px !important"},attrs:{width:"50px"},on:{click:function(i){t.viewDetail(e.item,e.index)}}},[i("span",[t._v(t._s(t.pagination.page*t.pagination.rowsPerPage-t.pagination.rowsPerPage+e.index+1))])]),i("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"250px"},on:{click:function(i){t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(e.item.dossierNo)+"\n          ")]),i("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},on:{click:function(i){t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(e.item.applicantName)+"\n          ")]),i("td",{staticClass:"text-xs-left",staticStyle:{height:"40px !important"},attrs:{width:"200px"},on:{click:function(i){t.viewDetail(e.item,e.index)}}},[t._v("\n            "+t._s(e.item.dossierSubStatusText?e.item.dossierSubStatusText:e.item.dossierStatusText)+"\n          ")])])]}}]),model:{value:t.selectedAttach,callback:function(e){t.selectedAttach=e},expression:"selectedAttach"}}),t.dossiersgroup.length>10?i("div",{staticClass:"text-xs-center layout wrap mt-2 pr-1",staticStyle:{position:"relative"}},[i("div",{staticClass:"flex pagging-table px-2"},[i("tiny-pagination",{attrs:{total:t.dossiersgroup.length,currentLimit:15,page:t.pagination.page,"custom-class":"custom-tiny-class"},on:{"tiny:change-page":t.paggingData}})],1)]):t._e()],1):t._e()])},n=[],s=(i("6b54"),i("bd86")),o=i("854a"),r=i.n(o),l=(i("1157"),i("000e"));r.a.options={closeButton:!0,timeOut:"5000"};var c={props:["index","id","dossiersgroup"],components:{"tiny-pagination":l["default"]},data:function(){var t;return t={detailGroup:!1,dialogImportDosier:!1,dialogSelectDosier:!1,groupDossierList:[],groupDossierSelected:"",dossiersgroup:[]},Object(s["a"])(t,"dossiersgroup",[]),Object(s["a"])(t,"selected",[]),Object(s["a"])(t,"selectedAttach",[]),Object(s["a"])(t,"stepList",[]),Object(s["a"])(t,"stepSelected",""),Object(s["a"])(t,"btnDynamics",[]),Object(s["a"])(t,"processOptionSelected",""),Object(s["a"])(t,"inputTypes",[6]),Object(s["a"])(t,"outputTypesGroup",[7]),Object(s["a"])(t,"inputTypesIntoGroup",[1,3,6]),Object(s["a"])(t,"outputTypes",[2]),Object(s["a"])(t,"loadingAction",!1),Object(s["a"])(t,"dialogAddGroup",!1),Object(s["a"])(t,"activeAddDossierIntoGroup",!1),Object(s["a"])(t,"headers",[{text:"STT",align:"center",sortable:!1,class:"text-xs-center"},{text:"Mã hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Tên chủ hồ sơ",align:"center",sortable:!1,class:"text-xs-center"},{text:"Trạng thái",align:"center",sortable:!1,class:"text-xs-center"}]),Object(s["a"])(t,"filesGroupDossier",[]),Object(s["a"])(t,"progressUploadFile",!1),Object(s["a"])(t,"totalDossier",0),Object(s["a"])(t,"valueProgress",0),Object(s["a"])(t,"countDossierSuccess",0),Object(s["a"])(t,"pagination",{rowsPerPage:15,page:1}),t},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},filesAdd:function(){return this.$store.getters.getFilesAdd},activeAddFileGroup:function(){return this.$store.getters.activeAddFileGroup}},created:function(){var t=this;t.$nextTick(function(){t.$router.history.current.query})},mounted:function(){},watch:{$route:function(t,e){t.query},selectedAttach:function(t){var e=this;e.$store.commit("setSelectDossierGroup",t)},selected:function(t){},activeAddFileGroup:function(t){var e=this;console.log("val activeAddFileGroup",t),e.stepSelected="",e.dialogSelectDosier=t}},methods:{paggingData:function(t){var e=this;e.pagination.page=t.page},changeStep:function(){var t=this;setTimeout(function(){t.stepSelected?(t.dossiersgroup=t.dossiersgroup.filter(function(e){return String(e["stepCode"])===String(t.stepSelected["stepCode"])}),t.$store.dispatch("pullProcessSteps",t.stepSelected).then(function(e){e.hasOwnProperty("menuGroup")&&e.menuGroup?t.$store.dispatch("getDetailMenuConfig",e).then(function(e){if(e.hasOwnProperty("buttonConfig")&&e.buttonConfig)try{t.btnDynamics=JSON.parse(e["buttonConfig"])["buttons"],t.btnDynamics=t.btnDynamics.filter(function(t){return"ACTIONS"===t["form"]}),t.btnDynamics=t.btnDynamics.filter(function(e){return!e.hasOwnProperty("onlySteps")||e.hasOwnProperty("onlySteps")&&e["onlySteps"].filter(function(e){return String(e)===String(t.stepSelected["stepCode"])})>0})}catch(i){t.btnDynamics=[]}else t.btnDynamics=[]}):t.btnDynamics=[]})):(t.dossiersgroup=t.dossiersgroup,t.btnDynamics=[])},200)},viewDetail:function(t,e){var i=this;i.$router.history.current.query;i.$router.push("/danh-sach-ho-so/0/chi-tiet-ho-so/"+t["dossierId"])},addFileToDossier:function(){var t=this,e=t.selectedAttach.map(function(t){return t.dossierId}).toString(),i=t.filesAdd.map(function(t){return t.dossierFileId}).toString(),a={dossierIds:e,dossierFileId:i};t.$store.dispatch("uploadFileDossierGroup",a).then(function(e){r.a.success("Đính kèm tài liệu thành công"),t.$store.commit("setActiveAddFileGroup",!1)})},cancelAddFile:function(){var t=this;t.$store.commit("setActiveAddFileGroup",!1)},toggleAll:function(){var t=this;t.selected.length?t.selected=[]:t.selected=t.dossiersgroup},toggleAllSelectDialog:function(){var t=this;console.log("toggleAllSelectDialog",t.dossiersgroup,t.selectedAttach),t.selectedAttach.length?t.selectedAttach=[]:t.selectedAttach=t.dossiersgroup,console.log("toggleAllSelectDialog 2",t.selectedAttach)},goBack:function(){var t=this,e=t.$router.history.current.params,i=t.$router.history.current.query;t.activeAddDossierIntoGroup?(t.activeAddDossierIntoGroup=!1,t.getDetaiGroup(t.id)):t.$router.push({path:"/danh-sach-ho-so/"+e.index,query:i})}}},d=c,u=i("2877"),p=i("6544"),h=i.n(p),f=i("ac7c"),m=i("8fea"),_=i("3a2f"),g=Object(u["a"])(d,a,n,!1,null,null,null);e["a"]=g.exports;h()(g,{VCheckbox:f["a"],VDataTable:m["a"],VTooltip:_["a"]})},"454f":function(t,e,i){i("46a7");var a=i("584a").Object;t.exports=function(t,e,i){return a.defineProperty(t,e,i)}},"469f":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("7d7b")},"46a7":function(t,e,i){var a=i("63b6");a(a.S+a.F*!i("8e60"),"Object",{defineProperty:i("d9f6").f})},"47ee":function(t,e,i){var a=i("c3a1"),n=i("9aa9"),s=i("355d");t.exports=function(t){var e=a(t),i=n.f;if(i){var o,r=i(t),l=s.f,c=0;while(r.length>c)l.call(t,o=r[c++])&&e.push(o)}return e}},"4a3a":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",{key:1},[""!==t.esignType&&"digital"!==t.esignType&&"plugin"!==t.esignType?i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),i("span",[t._v("Duyệt hồ sơ")])]):t._e(),i("v-card",[i("v-card-text",{staticClass:"px-0 py-0"},["captcha"===t.esignType?i("v-flex",{staticClass:"my-3",attrs:{xs12:"",sm12:""}},[i("span",{staticClass:"ml-3",staticStyle:{color:"#ec0f0f"}},[t._v("(*) Xác thực ký duyệt hồ sơ")]),i("v-captcha",{ref:"captcha"})],1):t._e(),"password"===t.esignType?i("v-flex",{staticClass:"my-3 pl-3",attrs:{xs12:"",sm4:""}},[i("span",{staticClass:"ml-3",staticStyle:{color:"#ec0f0f"}},[t._v("(*) Xác thực ký duyệt hồ sơ")]),i("v-text-field",{attrs:{box:"",label:"Nhập mật khẩu xác thực","append-icon":t.e1?"visibility":"visibility_off","append-icon-cb":function(){return t.e1=!t.e1},rules:[function(t){return!!t||"Yêu cầu nhập mật khẩu"}],type:t.e1?"password":"text",name:"input-10-2",required:""},model:{value:t.passWord,callback:function(e){t.passWord=e},expression:"passWord"}})],1):t._e()],1)],1)],1)],1)],1)},n=[],s=i("f499"),o=i.n(s),r=i("a745"),l=i.n(r),c=(i("cadf"),i("551c"),i("097d"),i("1157")),d=i.n(c),u=i("854a"),p=i.n(u),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-flex",{staticClass:"text-xs-center",attrs:{xs12:"",sm12:""}},[i("span",[t._v("Kéo thả các ô vuông đúng thứ tự của từ")]),i("br"),i("v-chip",{staticStyle:{"background-color":"#81D4FA"},attrs:{label:"","text-color":"white"}},[t._v("\n      "+t._s(t.captcha)+"\n    ")])],1),i("div",{directives:[{name:"drag-and-drop",rawName:"v-drag-and-drop:options",value:t.options,expression:"options",arg:"options"}],staticClass:"drag-wrapper text-xs-center mt-3"},[i("ul",{staticClass:"captcha-wrap",attrs:{id:"captcha"}},t._l(t.arrCaptcha,function(e,a){return i("li",{key:a,staticClass:"item-captcha",staticStyle:{padding:"10px 15px","background-color":"#81D4FA","margin-right":"2px",color:"#fff","font-weight":"bold"}},[t._v(t._s(e))])}),0)])],1)},f=[],m=(i("6b54"),i("f576"),i("28a5"),i("a026")),_=i("d8c5"),g=i.n(_);m["a"].use(g.a);var v={props:["index"],components:{},data:function(){return{options:{dropzoneSelector:"ul.captcha-wrap"},arrCaptcha:[],captcha:"",currentlyDragging:null,loggedEvent:"",images:[{name:"Image 1",src:"http://placehold.it/100/000000/ffffff"},{name:"Image 2",src:"http://placehold.it/100/C93742/ffffff"},{name:"Image 3",src:"http://placehold.it/100/6894D1/ffffff"}]}},computed:{loading:function(){return this.$store.getters.loading}},created:function(){var t=this;t.makeRandomString(),t.shuffleArrCaptcha(t.arrCaptcha)},watch:{},methods:{makeRandomString:function(){for(var t=this,e="",i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<4;a++)e+=i.charAt(Math.floor(Math.random()*i.length));e&&(t.arrCaptcha=t.shuffleArrCaptcha(e.split(""))),t.captcha=e},shuffleArrCaptcha:function(t){var e=t.length,i=null,a=0;while(e>0)a=Math.floor(Math.random()*e),e--,i=t[e],t[e]=t[a],t[a]=i;return t},checkValidCatcha:function(){var t=this,e="",i=d()("#captcha").children();console.log(i);for(var a=0;a<i.length;a++)e+=i[a].innerHTML;return t.captcha===e}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())}return""}}},y=v,b=i("2877"),T=i("6544"),D=i.n(T),x=i("cc20"),C=i("0e8f"),S=Object(b["a"])(y,h,f,!1,null,null,null),w=S.exports;function P(){return document.getElementById("plugin0")}D()(S,{VChip:x["a"],VFlex:C["a"]}),p.a.options={closeButton:!0,timeOut:"5000"};var k=P,F={props:{detailDossier:{},dataEsign:{},filesPdfSignPlugin:{type:Array,default:function(){return[]}}},components:{"v-captcha":w},data:function(){return{tabActive:"tabs-1",filesSign:[],activeKS:!1,noteReason:"",thongTinHoSo:{},passWord:"",e1:!0}},created:function(){""!==this.esignType&&"digital"!==this.esignType||(this.activeKS=!0)},computed:{kysoSuccess:function(){return this.$store.getters.kysoSuccess},esignType:function(){return this.dataEsign.signatureType}},watch:{},mounted:function(){""!==this.esignType&&"digital"!==this.esignType||(this.activeKS=!0)},methods:{changeActive:function(){var t=this;console.log("tabActive",t.tabActive)},doExport:function(){var t=this,e={textValue:t.noteReason,required:"password"===t.esignType?t.passWord:"digital"===t.esignType||""===t.esignType?t.activeKS:t.$refs.captcha.checkValidCatcha()};return console.log("exportData",e),e},checkCreateFile:function(t){var e;e=l()(t.createFiles)?t.createFiles:[t.createFiles];var i=!1;if(e.length>0)for(var a=e.length,n=0;n<a;n++){var s=e[n];0===s.counter&&(i=!0)}else i=!0;return i},showConfigSignService:function(){vgca_show_config()},viewFileKySo:function(t,e){},signAction:function(t,e){var i=function(t){var e=JSON.parse(t);console.log(e),e.Status},a={FileUploadHandler:"",SessionId:""};a["FileName"]=t["url"];var n=o()(a);vgca_sign_approved(n,i)},kySo:function(t){console.log("run ky so data payload",t);var e,i=this;e=l()(t.createFiles)?t.createFiles:[t.createFiles];var a=[],n=!1;if(e.length>0)for(var s=e.length,o=0;o<s;o++){var r=e[o];if(0===r.counter){n=!0;break}var c=r.dossierFileId,d=r.dossierPartId;if(c&&d&&"digital"===i.esignType){var u=c+","+d;a.push(u)}else if(c&&"digital"!==i.esignType){var p=c;a.push(p)}}else alert("Không tồn tại tệp điện tử. Vui lòng kiểm tra lại");console.log("idArr",a);var h=t.eSignature;if(h){if(n)return void alert("Tệp điện tử chưa sẵn sàng. Xin vui lòng chờ trong giây lát");if(a){var f,m={};m.actionCode=t.actionCode,m.actionUser=window.themeDisplay.getUserName()?window.themeDisplay.getUserName():"",m.actionNote="",m.postStepCode=t.postStepCode?t.postStepCode:"",m.payload=t.payload?t.payload:"",m.assignUsers=t.assignUsers?t.assignUsers:"",m.payment=t.payment?t.payment:"",m.userNote=t.userNote?t.userNote:"",f=a.join(",");var _=t.actionName;if(console.log("strIdArr",f),console.log("paramObj",m),"digital"===i.esignType){if(!k().valid)return h=!1,void alert("Plugin ký số không hoạt động");i.kyDuyetYCGiamDinh(f,m,_)}else"captcha"!==i.esignType&&"password"!==i.esignType&&""!==i.esignType||i.completeKyDuyetCaptchaSignature(f,m,_)}}},kyDuyetYCGiamDinh:function(t,e,i){var a=this,n="/o/rest/v2/defaultsignature/digitalSignature/"+a.detailDossier.dossierId+"/hashComputed";console.log(a.detailDossier.dossierId),d.a.ajax({type:"POST",url:n,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay.authToken},data:{strIdArr:t,actionCode:e.actionCode,postStepCode:e.postStepCode},success:function(t){console.log(t);var n=t.msg;if("fileEntryId"!==n){var s=t.hashComputers,o=t.signFieldNames,r=t.fileNames,l=t.fileEntryId;console.log("hashComputers: "+s),console.log("signFieldNames: "+o),console.log("fileNames: "+r),console.log("msgs: "+n);var c=[];if(k().valid){for(var d=0;d<s.length;d++){var u=s[d],p=k().Sign(u);if(0===p||7===p){var h=k().Signature,f=o[d],m=r[d];console.log("sign: "+h),console.log("signFieldName: "+f),console.log("fileName: "+m),c.push(h)}else alert(k().ErrorMessage)}a.completeKyDuyetManyYCGiamDinh(c.join(","),o.join(","),r.join(","),l.join(","),e,i)}else alert("Plugin ký số không hoạt động")}else alert("Không tìm thấy file bản thảo. Tạm dừng tiến trình ký số")},error:function(t){}})},completeKyDuyetManyYCGiamDinh:function(t,e,i,a,n,s){var r=this,l="/o/rest/v2/defaultsignature/digitalSignature/"+r.detailDossier.dossierId+"/dossierFiles";d.a.ajax({type:"PUT",url:l,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay.authToken},data:{actionCode:n["actionCode"],actionUser:n["actionUser"],actionNote:n["actionNote"],assignUserId:n["assignUserId"],postStepCode:n["postStepCode"],subUsers:n["subUsers"],payload:n["payload"]?o()(n["payload"]):"",assignUsers:n["assignUsers"],payment:n["payment"]?o()(n["payment"]):"",userNote:n["userNote"],sign:t,signFieldName:e,fileName:i,fileEntryId:a},success:function(t){console.log(t);var e=t.msg;"success"===e?(r.$store.commit("setKysoSuccess",!0),p.a.success("Thực hiện ký số thành công")):"fileEntryId"===e?alert("Không tìm thấy file bản thảo. Tạm dừng tiến trình ký số"):alert(e)},error:function(){alert("Thực hiện ký số thất bại")}})},completeKyDuyetCaptchaSignature:function(t,e,i){var a=this,n="/o/rest/v2/defaultsignature/"+a.detailDossier.dossierId+"/dossierFiles";d.a.ajax({type:"PUT",url:n,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId()?window.themeDisplay.getScopeGroupId():"",Token:window.Liferay.authToken?window.Liferay.authToken:""},data:{actionCode:e["actionCode"],actionUser:e["actionUser"],actionNote:e["actionNote"],assignUserId:e["assignUserId"],postStepCode:e["postStepCode"],subUsers:e["subUsers"],payload:e["payload"]?o()(e["payload"]):"",assignUsers:e["assignUsers"],payment:e["payment"]?o()(e["payment"]):"",userNote:e["userNote"],fileEntryId:t},success:function(t){a.$store.commit("setKysoSuccess",!0),p.a.success("Thực hiện ký số thành công.")},error:function(){p.a.error("Thực hiện ký số thất bại")}})},completeKyDuyetYCGiamDinh:function(t,e,i,a,n,s){var o=this,r="/o/rest/v2/defaultsignature/digitalSignature/"+o.detailDossier.dossierId+"/dossierFile";d.a.ajax({type:"PUT",url:r,async:!1,dataType:"json",headers:{groupId:window.themeDisplay.getScopeGroupId(),Token:window.Liferay?window.Liferay.authToken:"","Cache-Control":"no-cache"},data:{actionCode:n["actionCode"],actionUser:n["actionUser"],actionNote:n["actionNote"],assignUserId:n["assignUserId"],postStepCode:n["postStepCode"],subUsers:n["subUsers"],sign:t,signFieldName:e,fileName:i,fileEntryId:a},success:function(t){console.log(t);var e=t.msg;"success"===e?p.a.success("Yêu cầu của bạn được thực hiện thành công."):"fileEntryId"===e?alert("Cảnh báo: Không tìm thấy file bản thảo. Tạm dừng tiến trình đóng dấu số"):alert(e)},error:function(){alert("ky so false")}})}}},E=F,I=i("b0af"),O=i("99d9"),N=i("cd55"),A=i("49e2"),M=i("132d"),$=i("2677"),j=Object(b["a"])(E,a,n,!1,null,null,null);e["a"]=j.exports;D()(j,{VCard:I["a"],VCardText:O["b"],VExpansionPanel:N["a"],VExpansionPanelContent:A["a"],VFlex:C["a"],VIcon:M["a"],VTextField:$["a"]})},"4ca6":function(t,e,i){"use strict";i("d4c0a");var a=i("b64a"),n=i("98a1"),s=i("c22b"),o=i("00ab"),r=i("58df");e["a"]=Object(r["a"])(a["a"],n["a"],Object(s["b"])(["left","bottom"]),o["a"]).extend({name:"v-badge",props:{color:{type:String,default:"primary"},overlap:Boolean,transition:{type:String,default:"fab-transition"},value:{default:!0}},computed:{classes:function(){return{"v-badge--bottom":this.bottom,"v-badge--left":this.left,"v-badge--overlap":this.overlap}}},render:function(t){var e=this.$slots.badge&&[t("span",this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",attrs:this.$attrs,directives:[{name:"show",value:this.isActive}]}),this.$slots.badge)];return t("span",{staticClass:"v-badge",class:this.classes},[this.$slots.default,t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},e)])}})},"4ea3":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"comment-temp"},[i("div",[i("v-expansion-panel",{staticClass:"expansion-pl-transparent",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("v-card",{staticClass:"comments__container"},[i("v-card-text",{staticClass:"pl-4"},[i("div",{attrs:{id:"comments-container-el"}})])],1)],1)],1)],1)])},n=[],s=i("a4bb"),o=i.n(s),r=(i("f576"),i("6b54"),i("c5f6"),i("28a5"),i("7f7f"),i("cadf"),i("551c"),i("097d"),i("854a")),l=i.n(r);l.a.options={closeButton:!0,timeOut:"10000"};var c={props:["classPK","className"],data:function(){return{usersComment:[],comment:[],argShowMore:!0,checkOpinion:!0,validFileUpload:!0,fileTypeAllow:["png","jpg","jpeg","pdf","docx","doc","xls","xlsx","txt","rtf"]}},computed:{loading:function(){return this.$store.getters.loading},initData:function(){return this.$store.getters.loadingInitData}},watch:{classPK:function(t){var e=this;e.$store.dispatch("loadUsersComment",t).then(function(t){e.usersComment=t,e.initComment()}).catch(function(t){e.initComment()})}},created:function(){},mounted:function(){},methods:{runComment:function(){var t=this;t.classPK&&t.initComment()},validateFile:function(t){var e=this,i=t.file.name?t.file.name.split("."):"",a=i?i[i.length-1]:"",n=e.fileTypeAllow,s=10,o=n?n.filter(function(t){return t===a}):"";e.validFileUpload=!1,o&&o.length>0?Number(t.file.size)<=1048576*s?e.validFileUpload=!0:(l.a.error("Tài liệu tải lên dung lượng tối đa là "+s+" MB"),e.validFileUpload=!1):(l.a.error("Tài liệu tải lên chỉ chấp nhận các định dạng "+n.toString()),e.validFileUpload=!1)},initComment:function(){var t=this;window.$("#comments-container-el").comments({profilePictureURL:"https://png.icons8.com/material/50/000000/guest-male.png",textareaRows:2,enableAttachments:!0,enableHashtags:!0,enablePinging:!1,postCommentOnEnter:!1,forceResponsive:!1,readOnly:!1,textareaPlaceholderText:"Thêm bình luận mới",newestText:"Mới nhất",oldestText:"Cũ nhất",popularText:"Phổ biến",attachmentsText:"Đính kèm",sendText:"Gửi",replyText:"Trả lời",editText:"Sửa",editedText:"Đã sửa",youText:"Bạn",saveText:"Ghi lại",deleteText:"Xóa",hideRepliesText:"Ẩn câu trả lời",noCommentsText:"Không có bình luận nào",noAttachmentsText:"Không có tệp đính kèm",attachmentDropText:"Kéo thả tệp đính kèm",fieldMappings:{id:"commentId",parent:"parent",userId:"userId",created:"createdDate",modified:"modifiedDate",content:"content",fileURL:"fileUrl",fileMimeType:"fileType",fileName:"fileName",pings:"pings",creator:"userId",fullname:"fullname",profileURL:"profileUrl",profilePictureURL:"pictureUrl",isNew:"isNew",createdByAdmin:"isAdmin",createdByCurrentUser:"createdByCurrentUser",upvoteCount:"upvoteCount",userHasUpvoted:"userHasUpvoted",email:"email",opinion:"opinion",className:"className",classPK:"classPK"},timeFormatter:function(t){if(t){var e=new Date(t);return e.setHours(e.getHours()-7),"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""},getUsers:function(e,i){e(t.usersComment)},getComments:function(e,i){var a={classPK:t.classPK,className:t.className},n=t.$store.dispatch("loadCommentItems",a);n.then(function(i){var a=[];window.$.each(i,function(e,i){t.comment=i,t.formatComment(t.comment),a.push(t.comment)}),e(a)}).catch(function(t){e([]),i()})},postComment:function(e,i,a){e.classPK=t.classPK,e.className=t.className,e.opinion=document.getElementById("opinion").checked,t.$store.dispatch("postComment",e).then(function(e){e.opinion&&window.$(".opinion").hide(),document.getElementById("opinion").checked=!1,t.comment=e,t.formatComment(t.comment),i(t.comment)})},putComment:function(e,i,a){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("putComment",e).then(function(e){t.comment=e,t.formatComment(t.comment),i(t.comment)})},deleteComment:function(e,i,a){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("deleteComment",e).then(function(t){i()}).catch(function(t){a(),console.log(t)})},upvoteComment:function(e,i,a){e.classPK=t.classPK,e.className=t.className,t.$store.dispatch("upvoteComment",e).then(function(e){t.comment=e,t.formatComment(t.comment),i(t.comment)}).catch(function(t){console.log(t)})},uploadAttachments:function(e,i,a){var n=0,s=[],r=function(){n++,n===e.length&&(0===s.length?a():i(s))};window.$(e).each(function(e,i){var a=new FormData;window.$(o()(i)).each(function(t,e){var n=i[e];n&&a.append(e,n)}),a.append("file",i.file),a.append("className",t.className),a.append("classPK",t.classPK),a.append("parent",null!=i.parent?i.parent:0),a.append("fileName",i.file.name),a.append("fileType",i.file.type),a.append("fileSize",i.file.size),a.append("pings",i.pings.join()),a.append("opinion",document.getElementById("opinion").checked),a.append("email",""),a.append("fullname",t.initData.user.userName),a.append("opinion",document.getElementById("opinion").checked);var n={file:i.file};t.validateFile(n),t.validFileUpload?window.$.ajax({url:t.initData.commentApi+"/uploads",dataType:"json",type:"POST",headers:{groupId:t.initData.groupId},data:a,cache:!1,contentType:!1,processData:!1,success:function(e){e.opinion&&window.$(".opinion").hide(),document.getElementById("opinion").checked=!1,t.formatComment(e),s.push(t.comment),r(),e.opinion&&window.$(".opinion").hide(),document.getElementById("opinion").checked=!1},error:function(t,e){r()}}):r()})}})},formatComment:function(t){var e=this;e.comment=t,0===t.parent&&(e.comment.parent=null),""===t.fileName&&(e.comment.fileName=null),""===t.fileType&&(e.comment.fileType=null),""===t.fileUrl&&(e.comment.fileUrl=null),""===t.pictureUrl&&(e.comment.pictureUrl="https://png.icons8.com/material/50/000000/guest-male.png"),e.comment.fullname=t.fullname,e.comment.opinion=t.opinion,e.comment.pings=t.pings.toString().split(","),e.comment.createdDate=e.comment.createDate,e.comment.modifiedDate=e.comment.modifiedDate},dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear(),"  ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""}}},d=c,u=i("2877"),p=i("6544"),h=i.n(p),f=i("b0af"),m=i("99d9"),_=i("cd55"),g=i("49e2"),v=Object(u["a"])(d,a,n,!1,null,null,null);e["a"]=v.exports;h()(v,{VCard:f["a"],VCardText:m["b"],VExpansionPanel:_["a"],VExpansionPanelContent:g["a"]})},"54a1":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("95d5")},"5d58":function(t,e,i){t.exports=i("d8d6")},"5d73":function(t,e,i){t.exports=i("469f")},"5de0":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[t.loading?i("content-placeholders",{staticClass:"mt-3"},[i("content-placeholders-text",{attrs:{lines:1}})],1):t.dossierSelected.length>0?i("div",{staticClass:"row-header"},[i("div",{staticClass:"background-triangle-big"},[i("span",[t._v(t._s(t.actionActive["tiltle"]?t.actionActive["tiltle"]:"XỬ LÝ HỒ SƠ"))])]),i("div",{staticClass:"layout row wrap header_tools row-blue"},[i("div",{staticClass:"flex xs8 sm10 pl-3 text-ellipsis text-bold",attrs:{title:t.dossierSelected[0].serviceName}},[t._v("\n        "+t._s(t.dossierSelected[0].serviceName)+"\n      ")]),i("div",{staticClass:"flex xs4 sm2 text-right",staticStyle:{"margin-left":"auto"}},[i("v-btn",{staticClass:"my-0 mx-0 btn-border-left",attrs:{flat:"","active-class":"temp_active"},on:{click:t.goBack}},[i("v-icon",{attrs:{size:"16"}},[t._v("reply")]),t._v("  \n          Quay lại\n        ")],1)],1)])]):t._e(),t.dossierSelected.length>0?i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("v-card",[i("v-card-text",{staticClass:"px-0 pt-0"},[i("v-data-table",{staticClass:"table-landing table-bordered",attrs:{headers:t.headersTable,items:t.dossierSelected,"hide-actions":""},scopedSlots:t._u([{key:"items",fn:function(e){return[i("tr",{class:{active:e.index%2==1}},[i("td",{staticClass:"text-xs-center"},[i("div",[i("span",[t._v(t._s(e.index+1))])])]),i("td",{staticClass:"text-xs-left"},[i("div",[i("span",[t._v(t._s(e.item.dossierNo))]),i("br"),e.item.online?i("span",{staticStyle:{color:"blue"}},[t._v("Hồ sơ trực tuyến")]):i("span",{staticStyle:{color:"green"}},[t._v("Hồ sơ một cửa")])])]),i("td",{staticClass:"text-xs-left"},[i("div",[i("span",[t._v(t._s(e.item.applicantName))])])]),i("td",{staticClass:"text-xs-left"},[i("div",[i("span",[t._v(t._s(e.item.wardName)+", "+t._s(e.item.districtName)+", "+t._s(e.item.cityName))])])])])]}}])})],1)],1)],1)],1):t._e(),i("v-dialog",{attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("File đính kèm")]),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("clear")])],1),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1),i("div",[t.btnStateVisible?i("v-layout",{attrs:{wrap:""}},[t.showFormBoSungThongTinNgan?i("form-bo-sung-thong-tin",{ref:"formBoSungThongTinNgan",attrs:{dossier_id:Number(t.id),action_id:Number(t.actionIdCurrent)}}):t._e(),t.showPhanCongNguoiThucHien?i("phan-cong",{ref:"phancong",attrs:{type:t.type_assign},model:{value:t.assign_items,callback:function(e){t.assign_items=e},expression:"assign_items"}}):t._e(),t.showTaoTaiLieuKetQua?i("tai-lieu-ket-qua",{attrs:{detailDossier:t.thongTinChiTietHoSo,createFiles:t.createFiles}}):t._e(),t.showExtendDateEdit?i("ngay-gia-han",{ref:"ngaygiahan",attrs:{type:t.typeExtendDate,extendDateEdit:t.extendDateEdit}}):t._e(),t.showEditDate?i("ngay-hen-tra",{ref:"ngayhentra",attrs:{dueDateEdit:t.dueDateEdit}}):t._e(),t.showTraKetQua?i("tra-ket-qua",{attrs:{detailDossier:t.thongTinChiTietHoSo,createFiles:t.returnFiles}}):t._e(),t.showThuPhi?i("thu-phi",{attrs:{viaPortal:t.viaPortalDetail,detailDossier:t.thongTinChiTietHoSo},model:{value:t.payments,callback:function(e){t.payments=e},expression:"payments"}}):t._e(),t.showPostalService?i("thong-tin-buu-chinh",{attrs:{postalService:t.thongTinChiTietHoSo}}):t._e(),t.showYkienCanBoThucHien?i("y-kien-can-bo",{ref:"ykiencanbo",attrs:{user_note:t.userNote}}):t._e(),i("div",{staticClass:"my-2 mx-3"},[i("v-btn",{attrs:{color:"primary",loading:t.loadingActionProcess,disabled:t.loadingActionProcess},nativeOn:{click:function(e){t.processAction()}}},[i("v-icon",[t._v("save")]),t._v(" \n          Xác nhận\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1),i("v-btn",{attrs:{color:"primary"},on:{click:function(e){t.goBack()}}},[i("v-icon",{attrs:{size:"16"}},[t._v("reply")]),t._v("  \n          Quay lại\n        ")],1)],1)],1):t._e(),t.btnStateVisible?t._e():i("v-alert",{attrs:{outline:"",color:"success",icon:"check_circle",value:!0}},[t._v("\n      Thực hiện thành công!\n    ")])],1),i("v-dialog",{attrs:{scrollable:"",persistent:"","max-width":"700px"},model:{value:t.dialog_statusAction,callback:function(e){t.dialog_statusAction=e},expression:"dialog_statusAction"}},[i("v-card",[i("v-card-title",{staticClass:"headline"},[t._v("\n        Trạng thái xử lý\n      ")]),i("v-btn",{staticClass:"mx-0 my-0 absolute__btn_panel mr-2",attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.closeDialogStatusAction(e)}}},[i("v-icon",[t._v("clear")])],1),i("v-card-text",{staticStyle:{"max-height":"350px"}},t._l(t.dossierSelected,function(e,a){return i("div",{key:e.dossierId},[i("v-layout",{staticClass:"py-1 align-center row-list-style",staticStyle:{"border-bottom":"1px solid #ddd",position:"relative"},attrs:{wrap:""}},[i("v-flex",{attrs:{xs11:""}},[i("span",{staticClass:"text-bold",staticStyle:{position:"absolute"}},[t._v(t._s(a+1)+".")]),i("div",{staticClass:"ml-4"},[i("span",{staticClass:"text-bold"},[t._v(t._s(e.dossierNo))]),t._v(" - "+t._s(e.applicantName))])]),i("v-flex",{staticClass:"text-right",attrs:{xs1:""}},[e.statusAction?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{attrs:{slot:"activator",size:"20",color:"primary"},slot:"activator"},[t._v("\n                  check\n                ")]),i("span",[t._v("Thành công")])],1):i("v-tooltip",{attrs:{top:""}},[i("v-icon",{attrs:{slot:"activator",size:"20",color:"red darken-3"},slot:"activator"},[t._v("\n                  block\n                ")]),i("span",[t._v("Thất bại")])],1)],1)],1)],1)}),0),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"primary",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){t.processAction()}}},[i("v-icon",{attrs:{size:"20"}},[t._v("refresh")]),t._v(" \n          Thử lại\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1),i("v-btn",{attrs:{color:"red",dark:"",loading:t.loadingAction,disabled:t.loadingAction},nativeOn:{click:function(e){return t.closeDialogStatusAction(e)}}},[i("v-icon",[t._v("undo")]),t._v(" \n          Thoát\n          "),i("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])],1)],1)],1)],1)],1)},n=[],s=(i("f576"),i("f499")),o=i.n(s),r=(i("6b54"),i("a481"),i("c5f6"),i("a745")),l=i.n(r),c=i("795b"),d=i.n(c),u=(i("5df3"),i("ac6a"),i("28a5"),i("4ea3"),i("1136")),p=i("7121"),h=i("c23d"),f=i("f374"),m=i("4a3a"),_=i("87c1"),g=i("24fb"),v=i("d80f"),y=i("6e92"),b=i("0838"),T=i("26ed"),D=i("8bf2"),x={props:["index"],components:{"thong-tin-co-ban-ho-so":u["a"],"phan-cong":p["default"],"tra-ket-qua":h["a"],"thu-phi":f["a"],"ky-duyet":m["a"],"y-kien-can-bo":_["default"],"tai-lieu-ket-qua":g["a"],"form-bo-sung-thong-tin":v["default"],"thanh-phan-ho-so":y["a"],"ngay-hen-tra":b["a"],"ngay-gia-han":T["a"],"thong-tin-buu-chinh":D["a"]},data:function(){return{headersTable:[{text:"#",align:"center",sortable:!1},{text:"Mã hồ sơ",align:"center",sortable:!1},{text:"Chủ hồ sơ",align:"center",sortable:!1},{text:"Địa chỉ",align:"center",sortable:!1}],mutilpleAction:!1,actionExits:[],dossierProcess:[],countProcessed:0,activeNotify:!1,dialog_statusAction:!1,thongTinChiTietHoSo:{},nextActions:[],payments:"",dossierActions:[],itemselect:"",actionNote:"",actionsSubmitLoading:!1,showThongTinCoBanHoSo:!1,showYkienCanBoThucHien:!1,showFormBoSungThongTinNgan:!1,showPhanCongNguoiThucHien:!1,showTaoTaiLieuKetQua:!1,showKyPheDuyetTaiLieu:!1,showTraKetQua:!1,showThuPhi:!1,showEditDate:!1,showExtendDateEdit:!1,showPostalService:!1,dueDateEdit:"",checkInput:0,viaPortalDetail:0,showThucHienThanhToanDienTu:!1,dossierItemDialogPick:"",itemDialogPick:"",resultDialogPick:"",indexDialogPick:"",userNote:0,partView:"",stateView:!1,payment_type:0,type_assign:0,returnFiles:[],assign_items:[],btnStateVisible:!0,dialogActionProcess:!1,rollbackable:!1,dialogPDF:!1,dialogPDFLoading:!1,loadingActionProcess:!1,loadingAction:!1,arrDossierId:[],actionActiveTmp:[]}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},dossierSelected:function(){var t=this;return t.$store.getters.dossierSelected},actionActive:function(){return console.log("actionActive-------",this.$store.getters.actionActive),this.$store.getters.actionActive},activeGetCounter:function(){return this.$store.getters.activeGetCounter}},created:function(){var t=this;t.$nextTick(function(){t.btnIndex=-1;var e=t.$router.history.current.query;if(console.log("currentQuery",e),0===t.dossierSelected.length){var i=[];if(e.hasOwnProperty("dossiers")){var a=e.dossiers.split(",");t.arrDossierId=a,a.forEach(function(e){i.push(t.$store.dispatch("getDetailDossier",e))}),d.a.all(i).then(function(e){t.$store.dispatch("loadDossierSelected",e)}).catch(function(t){})}}else{var n=[];if(e.hasOwnProperty("dossiers")){var s=e.dossiers.split(",");t.arrDossierId=s,s.forEach(function(e){n.push(t.$store.dispatch("getDetailDossier",e))}),d.a.all(n).then(function(e){t.$store.dispatch("loadDossierSelected",e)}).catch(function(t){})}}try{if(void 0===t.actionActive.action||null===t.actionActive.action||""===t.actionActive.action){var o=JSON.parse(e.actionActive);o&&t.$store.dispatch("loadActionActive",o)}}catch(r){console.log(r)}t.getNextActions()})},updated:function(){var t=this;t.$nextTick(function(){})},watch:{},methods:{initData:function(t){},goBack:function(){window.history.back()},processPullBtnDetailRouter:function(t,e,i,a){console.log("result Nextaction",i);var n=this,s=!1;if(n.dossierId=t.dossierId,n.showYkienCanBoThucHien=!1,n.showFormBoSungThongTinNgan=!1,n.showPhanCongNguoiThucHien=!1,n.showTaoTaiLieuKetQua=!1,n.showKyPheDuyetTaiLieu=!1,n.showTraKetQua=!1,n.showThuPhi=!1,n.showEditDate=!1,n.showThucHienThanhToanDienTu=!1,n.dossierItemDialogPick=t,n.itemDialogPick=e,n.resultDialogPick=i,n.indexDialogPick=a,n.userNote=0,null!==i&&void 0!==i&&"undefined"!==i&&(i.hasOwnProperty("userNote")||i.hasOwnProperty("extraForm")||i.hasOwnProperty("allowAssignUser")||i.hasOwnProperty("createFiles")||i.hasOwnProperty("eSignature")||i.hasOwnProperty("returnFiles")||i.hasOwnProperty("payment")||i.hasOwnProperty("checkInput"))){if(!i.hasOwnProperty("userNote")||1!==i.userNote&&"1"!==i.userNote&&2!==i.userNote&&"2"!==i.userNote||(s=!0,n.showYkienCanBoThucHien=!0,n.userNote=i.userNote),i.hasOwnProperty("extraForm")&&i.extraForm&&(s=!0,n.showFormBoSungThongTinNgan=!0),i.hasOwnProperty("allowAssignUser")&&0!==i.allowAssignUser&&(console.log("allowAssignUser",i.toUsers),l()(i.toUsers)?n.assign_items=i.toUsers:n.assign_items=[i.toUsers],n.type_assign=i.allowAssignUser,s=!0,n.showPhanCongNguoiThucHien=!0),i.hasOwnProperty("createFiles")&&null!==i.createFiles&&void 0!==i.createFiles&&"undefined"!==i.createFiles&&i.createFiles.length>0&&(s=!0,n.showTaoTaiLieuKetQua=!0,n.createFiles=i.createFiles),i.hasOwnProperty("eSignature")&&i.eSignature&&(s=!0,n.showKyPheDuyetTaiLieu=!0),i.hasOwnProperty("returnFiles")&&null!==i.returnFiles&&void 0!==i.returnFiles&&"undefined"!==i.returnFiles&&i.returnFiles.length>0&&(s=!0,n.showTraKetQua=!0,n.returnFiles=i.returnFiles),i.hasOwnProperty("payment")&&null!==i.payment&&void 0!==i.payment&&"undefined"!==i.payment&&i.payment.requestPayment>0)if(3===i.payment.requestPayment||"3"===i.payment.requestPayment){s=!0,n.showThanhToanDienTu=!0;var o={dossierId:n.dossierId,referenceUid:t.referenceUid};n.$store.dispatch("loadDossierPayments",o).then(function(t){n.paymentProfile=t}).catch(function(t){})}else s=!0,n.showThuPhi=!0,n.payments=i.payment,n.viaPortalDetail=t.viaPostal;i.hasOwnProperty("checkInput")&&null!==i.checkInput&&void 0!==i.checkInput&&"undefined"!==i.checkInput&&(n.checkInput=i.checkInput,2===i.checkInput&&(s=!0,n.$refs.thanhphanhoso.initData(n.thongTinChiTietHoSo))),i.hasOwnProperty("receiving")&&null!==i.receiving&&void 0!==i.receiving&&"undefined"!==i.receiving&&!0===i.receiving.editable&&(s=!0,n.showEditDate=!0,n.dueDateEdit=""!==i.receiving.dueDate?new Date(i.receiving.dueDate):"",n.receiveDateEdit=i.receiving.receiveDate)}s&&(n.dialogActionProcess=!0,n.loadingActionProcess=!1)},processPullBtnDetail:function(t,e){var i=this;i.btnIndex=e,i.itemAction=t,i.actionIdCurrent=t.processActionId;var a={dossierId:i.dossierSelected[0].dossierId,actionId:t.processActionId};i.dialogActionProcess=!1,i.$store.dispatch("processPullBtnDetail",a).then(function(a){i.processPullBtnDetailRouter(i.dossierSelected[0],t,a,e)})},doCopy:function(t,e,i,a){var n=this,s={dossierId:t.dossierId};n.loadingAction=!0,n.$store.dispatch("doCopy",s).then(function(t){n.loadingAction=!1,n.indexAction=-1,n.$router.push({path:"/danh-sach-ho-so/"+n.index+"/ho-so/"+t.dossierId+"/"+n.itemAction.form,query:n.$router.history.current.query})})},doCancel:function(t,e,i,a){var n=this;if(n.loadingAction=!0,a)console.log(n.selected);else{var s={dossierId:t.dossierId};n.$store.dispatch("doCancel",s).then(function(t){n.loadingAction=!1,n.indexAction=-1,n.$router.push({path:"/danh-sach-ho-so/"+n.index+"/ho-so/"+t.dossierId+"/"+n.itemAction.form,query:n.$router.history.current.query})})}},processAction:function(){var t=this,e=t.$store.getters.loadingInitData,i=e.user.userName?e.user.userName:"";if(t.dossierProcess=t.dossierSelected.filter(function(t){return!1===t["statusAction"]||!t["statusAction"]}),t.countProcessed=0,t.mutilpleAction){for(var a in t.actionExits)for(var n in t.dossierSelected)if(!1===t.dossierSelected[n]["statusAction"]||!t.dossierSelected[n]["statusAction"]){var s={dossierId:t.dossierSelected[n].dossierId,actionCode:t.actionExits[a].actionCode,actionUser:i};t.postAction(s,t.dossierSelected[n],n)}}else for(var o in t.dossierSelected)if(!1===t.dossierSelected[o]["statusAction"]||!t.dossierSelected[o]["statusAction"]){var r={dossierId:t.dossierSelected[o].dossierId,actionCode:t.actionActive.action,actionUser:i};t.postAction(r,t.dossierSelected[o],o)}},postAction:function(t,e,i){var a=this,n=!0,s=!0;if(a.showPhanCongNguoiThucHien){t["toUsers"]=a.assign_items;var o=a.$refs.phancong.doExport();console.log("validPhanCong",o),n=!!o}var r=null;if(a.payments&&(r={requestPayment:a.payments["requestPayment"],advanceAmount:Number(a.payments["advanceAmount"].toString().replace(/\./g,"")),feeAmount:Number(a.payments["feeAmount"].toString().replace(/\./g,"")),serviceAmount:Number(a.payments["serviceAmount"].toString().replace(/\./g,"")),shipAmount:Number(a.payments["shipAmount"].toString().replace(/\./g,""))}),a.showThuPhi&&(t["payment"]=r),a.showFormBoSungThongTinNgan&&(t["payload"]=a.$refs.formBoSungThongTinNgan.formSubmitData()),a.showKyPheDuyetTaiLieu)a.$refs.kypheduyettailieu.doExport();if(a.showEditDate){var l=a.$refs.ngayhentra.getDateInput();console.log("dueDateEdit",l);var c={dueDate:l,receiveDate:a.receiveDateEdit};t["payload"]=c}if(a.showYkienCanBoThucHien){var d=a.$refs.ykiencanbo.doExport(),u="";d.valid?(s=!0,u=d.text):s=!1,t["userNote"]=u}a.validateAction=!(!n||!s);a.$router.history.current.query;a.showYkienCanBoThucHien,a.validateAction&&(a.loadingActionProcess=!0,a.$store.dispatch("processDossierRouter",t).then(function(t){a.countProcessed+=1,a.dossierSelected[i]["statusAction"]=!0,a.countProcessed===a.dossierProcess.length*a.actionExits.length&&a.activeNotify?a.dialog_statusAction=!0:a.countProcessed===a.dossierProcess.length*a.actionExits.length&&(a.loadingActionProcess=!1,a.loadingAction=!1,a.btnStateVisible=!1,setTimeout(function(){a.goBack()},500))}).catch(function(t){a.countProcessed+=1,a.activeNotify=!0,a.dossierSelected[i]["statusAction"]=!1,a.countProcessed===a.dossierProcess.length*a.actionExits.length&&a.activeNotify?a.dialog_statusAction=!0:a.countProcessed===a.dossierProcess.length*a.actionExits.length&&(a.loadingActionProcess=!1,a.loadingAction=!1,a.btnStateVisible=!1,setTimeout(function(){a.goBack()},500))}))},doPrint02:function(t,e,i,a){var n=this;if(null===n.thuTucHanhChinhSelected||void 0===n.thuTucHanhChinhSelected||"undefined"===n.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var s={document:e.document,serviceCode:n.thuTucHanhChinhSelected.serviceCode,govAgencyCode:n.thuTucHanhChinhSelected.govAgencyCode,dossiers:o()(n.selected)};n.dialogPDFLoading=!0,n.dialogPDF=!0,n.$store.dispatch("doPrint02",s).then(function(t){n.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})}},doPrint03:function(t,e,i,a){var n=this;n.dialogPDFLoading=!0,n.dialogPDF=!0;var s={dossierId:t.dossierId,document:e.document};n.$store.dispatch("doPrint03",s).then(function(t){n.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})},doGuiding:function(t,e,i,a){var n=this;if(null===n.thuTucHanhChinhSelected||void 0===n.thuTucHanhChinhSelected||"undefined"===n.thuTucHanhChinhSelected)alert("Loại thủ tục bắt buộc phải chọn");else{var s={serviceConfigId:n.thuTucHanhChinhSelected.serviceConfigId};n.dialogPDFLoading=!0,n.dialogPDF=!0,n.$store.dispatch("doGuiding",s).then(function(t){n.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview").src=t})}},getNextActions:function(){var t=this;console.log("run next action");t.$router.history.current.query;var e={};t.dossierSelected.length>0?e["dossierId"]=t.dossierSelected[0].dossierId:e["dossierId"]=t.arrDossierId[0];var i=t.$router.history.current.query;t.$store.dispatch("pullNextactions",e).then(function(e){e=e.filter(function(t){return 1===t.enable});var a=[];if(void 0!==t.actionActive.action&&null!==t.actionActive.action&&"undefined"!==t.actionActive.action&&""!==t.actionActive.action&&(a=t.actionActive.action.split(",")),1===a.length){t.actionExits=a;var n=e.filter(function(e){return e.actionCode.toString()===t.actionActive.action.toString()});t.dialogActionProcess=!0,t.mutilpleAction=!1,t.processPullBtnDetail(n[0],i.btnIndex)}else{for(var s in t.mutilpleAction=!0,t.actionExits=[],a){var o,r=!1;for(var l in e)if(a[s].toString()===e[l].actionCode.toString()){r=!0,o=e[l];break}r&&t.actionExits.push(o)}t.dialogActionProcess=!0,console.log("actionExits",t.actionExits[0]),t.actionExits[0]&&t.processPullBtnDetail(t.actionExits[0],i.btnIndex)}})},postNextActions:function(t){var e=this;if(t["dossierId"]=e.thongTinChiTietHoSo.dossierId,t.allowAssignUser>0)e.$store.dispatch("reassignDossier",t).then(function(i){console.log(i);var a={dossierId:e.dossierId,actionCode:t.actionCode,actionNote:e.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};e.$store.dispatch("postAction",a).then(function(t){console.log(t)})});else{var i={dossierId:e.dossierId,actionCode:t.actionCode,actionNote:e.actionNote,actionUser:"",payload:"",security:"",assignUsers:"",payment:"",createDossiers:""};e.$store.dispatch("postAction",i).then(function(t){console.log(t)})}},closeDialogStatusAction:function(){var t=this;t.dialog_statusAction=!1,t.btnStateVisible=!1,setTimeout(function(){t.goBack()},500)}},filters:{dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," | ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"))}return""},getMaxDueDate:function(t){var e=Math.max.apply(Math,t.map(function(t){return t.actionOverdue}));return e}}},C=x,S=i("2877"),w=i("6544"),P=i.n(w),k=i("0798"),F=i("8336"),E=i("b0af"),I=i("99d9"),O=i("12b2"),N=i("8fea"),A=i("169a"),M=i("cd55"),$=i("49e2"),j=i("0e8f"),B=i("132d"),V=i("a722"),H=i("490a"),U=i("9910"),L=i("3a2f"),R=Object(S["a"])(C,a,n,!1,null,null,null);e["default"]=R.exports;P()(R,{VAlert:k["a"],VBtn:F["a"],VCard:E["a"],VCardActions:I["a"],VCardText:I["b"],VCardTitle:O["a"],VDataTable:N["a"],VDialog:A["a"],VExpansionPanel:M["a"],VExpansionPanelContent:$["a"],VFlex:j["a"],VIcon:B["a"],VLayout:V["a"],VProgressCircular:H["a"],VSpacer:U["a"],VTooltip:L["a"]})},"610f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("label",{class:t.className,style:t.maxWidth,attrs:{role:"checkbox",title:t.toggled?t.title_checked:t.title_unchecked,"aria-checked":t.ariaChecked}},[i("input",{staticClass:"v-switch-input",attrs:{type:"checkbox"},on:{change:function(e){return e.stopPropagation(),t.toggle(e)}}}),i("div",{staticClass:"v-switch-core",style:t.coreStyle},[i("div",{staticClass:"v-switch-button",style:t.buttonStyle})]),t.labels?[t.toggled?i("span",{staticClass:"v-switch-label v-left",style:t.labelStyle,domProps:{innerHTML:t._s(t.labelChecked)}}):i("span",{staticClass:"v-switch-label v-right",style:t.labelStyle,domProps:{innerHTML:t._s(t.labelUnchecked)}})]:t._e()],2)},n=[],s=(i("6b54"),i("c5f6"),i("5d58")),o=i.n(s),r=i("67bb"),l=i.n(r);function c(t){return c="function"===typeof l.a&&"symbol"===typeof o.a?function(t){return typeof t}:function(t){return t&&"function"===typeof l.a&&t.constructor===l.a&&t!==l.a.prototype?"symbol":typeof t},c(t)}function d(t){return d="function"===typeof l.a&&"symbol"===c(o.a)?function(t){return c(t)}:function(t){return t&&"function"===typeof l.a&&t.constructor===l.a&&t!==l.a.prototype?"symbol":c(t)},d(t)}i("cadf"),i("551c"),i("097d");var u={colorChecked:"#75C791",colorUnchecked:"#bfcbd9",cssColors:!1,labelChecked:"on",labelUnchecked:"off",width:50,height:22,margin:3},p=function(t,e){return"object"===d(t)&&t.hasOwnProperty(e)},h=function(t){return t+"px"},f={name:"toggle-button",props:{title_checked:"",title_unchecked:"",value:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},sync:{type:Boolean,default:!1},speed:{type:Number,default:300},color:{type:[String,Object],validator:function(t){return"object"===d(t)?t.checked||t.unchecked:"string"===typeof t}},cssColors:{type:Boolean,default:!1},labels:{type:[Boolean,Object],default:!1,validator:function(t){return"object"===d(t)?t.checked||t.unchecked:"boolean"===typeof t}},height:{type:Number,default:u.height},width:{type:Number,default:u.width}},computed:{className:function(){var t=this.toggled,e=this.disabled;return["vue-js-switch",{toggled:t,disabled:e}]},ariaChecked:function(){return this.toggled.toString()},coreStyle:function(){return{width:h(this.width),height:h(this.height),backgroundColor:this.cssColors?null:this.colorCurrent,borderRadius:h(Math.round(this.height/2))}},maxWidth:function(){return{width:h(this.width)+"!important"}},buttonRadius:function(){return this.height-2*u.margin},distance:function(){return h(this.width-this.height+u.margin)},buttonStyle:function(){return{width:h(this.buttonRadius),height:h(this.buttonRadius),transition:"transform ".concat(this.speed,"ms"),transform:this.toggled?"translate3d(".concat(this.distance,", 3px, 0px)"):null}},labelStyle:function(){return{lineHeight:h(this.height)}},colorChecked:function(){var t=this.color;return"object"!==d(t)?t||u.colorChecked:p(t,"checked")?t.checked:u.colorChecked},colorUnchecked:function(){var t=this.color;return p(t,"unchecked")?t.unchecked:u.colorUnchecked},colorCurrent:function(){return this.toggled?this.colorChecked:this.colorUnchecked},labelChecked:function(){return p(this.labels,"checked")?this.labels.checked:u.labelChecked},labelUnchecked:function(){return p(this.labels,"unchecked")?this.labels.unchecked:u.labelUnchecked}},watch:{value:function(t){this.sync&&(this.toggled=!!t)}},data:function(){return{toggled:!!this.value}},methods:{toggle:function(t){this.toggled=!this.toggled,this.$emit("input",this.toggled),this.$emit("change",{value:this.toggled,srcEvent:t})}}},m=f,_=i("2877"),g=Object(_["a"])(m,a,n,!1,null,null,null);e["a"]=g.exports},"63ff":function(t,e,i){},6718:function(t,e,i){var a=i("e53d"),n=i("584a"),s=i("b8e3"),o=i("ccb9"),r=i("d9f6").f;t.exports=function(t){var e=n.Symbol||(n.Symbol=s?{}:a.Symbol||{});"_"==t.charAt(0)||t in e||r(e,t,{value:o.f(t)})}},"67bb":function(t,e,i){t.exports=i("f921")},"69d3":function(t,e,i){i("6718")("asyncIterator")},"6abf":function(t,e,i){var a=i("e6f3"),n=i("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return a(t,n)}},"6e92":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("v-card",{attrs:{flat:""}},[t._l(t.dossierTemplateItemsFilter,function(e,a){return i("div",{key:e.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative",overflow:"hidden"}},[i("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:t.currentFormView==="formAlpaca"+e.partNo+t.id?[!0]:[!1]}},[i("v-expansion-panel-content",{attrs:{"hide-actions":""}},[i("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[i("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},[i("div",{staticClass:"mr-2",staticStyle:{"min-width":"20px",display:"flex"},on:{click:function(i){e.hasForm&&t.loadAlpcaFormClick(e)}}},[i("div",{staticClass:"header__tphs",staticStyle:{"min-width":"20px"}},[i("span",{staticClass:"text-bold"},[t._v(t._s(a+1)+".")]),t._v("  ")]),i("div",{staticClass:"header__tphs",staticStyle:{"text-align":"justify"}},[e.partTip&&e.partTip["tip"]?i("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[i("span",{attrs:{slot:"activator"},slot:"activator"},[t._v("\n                      "+t._s(e.partName)+"\n                      "),e.required?i("span",{staticStyle:{color:"red"}},[t._v("   (*) ")]):t._e()]),e.partTip["tip"]?i("span",[t._v(t._s(e.partTip["tip"]))]):t._e()]):i("span",[t._v("\n                    "+t._s(e.partName)+" "),e.required?i("span",{staticStyle:{color:"red"}},[t._v("   (*) ")]):t._e(),e.hasForm?i("span",{staticStyle:{color:"#004b94"}},[t._v("(Bản khai trực tuyến)")]):t._e()]),t._v("\n                    \n                  "),!e.hasForm&&e.hasFileTemp?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(i){i.stopPropagation(),t.downloadFileTemplate(e,a)}},slot:"activator"},[t._v("save_alt")]),i("span",[t._v("Biểu mẫu điền thủ công")])],1):t._e()],1)]),i("div",{staticStyle:{display:"flex"}},[1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?i("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(t){return!!t||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13,i.key,"Enter"))return null;t.changeFileComment(e,a)}},model:{value:e.fileComment,callback:function(i){t.$set(e,"fileComment",i)},expression:"item.fileComment"}}):t._e(),1===t.checkInput&&2===e.fileCheck&&e.stateEditFileCheck?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){i.stopPropagation(),t.changeFileComment(e,a)}},slot:"activator"},[i("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("send")])],1),i("span",[t._v("Gửi")])],1):t._e()],1),e.fileComment&&!e.stateEditFileCheck?i("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[t._v(t._s(e.fileComment))]):t._e(),e.fileComment&&!e.stateEditFileCheck&&1===t.checkInput?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.stateEditFileCheck=!e.stateEditFileCheck}},slot:"activator"},[t._v("edit")]),i("span",[t._v("Chỉnh sửa ý kiến")])],1):t._e(),t._l(t.dossierFilesItems,function(a,n){return e.partNo===a.dossierPartNo?i("div",{key:n},[a.eForm?t._e():i("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"0px"}},[i("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(a)}}},[0!==a.fileSize?i("v-icon",{staticClass:"mr-1",attrs:{color:t.getDocumentTypeIcon(a.fileType)["color"],size:t.getDocumentTypeIcon(a.fileType)["size"]}},[t._v("\n                      "+t._s(t.getDocumentTypeIcon(a.fileType)["icon"])+"\n                    ")]):t._e(),t._v("\n                    "+t._s(a.displayName)+" - \n                    "),i("i",[t._v(t._s(a.modifiedDate))])],1),t.onlyView||1===t.checkInput?t._e():i("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.deleteSingleFile(a,n)}}},[i("v-icon",{staticStyle:{color:"red"}},[t._v("delete_outline")])],1)],1)]):t._e()}),i("div",{staticClass:"mr-3 my-2 py-2",staticStyle:{display:"none","max-height":"250px",overflow:"auto",border:"1px dashed #f3ae75","border-radius":"5px",position:"relative"},attrs:{id:"fileApplicant-"+e.partNo}},[t._l(t.dossierFilesApplicant,function(n,s){return n.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&e.partNo===n.dossierPartNo?i("div",{key:s},[n.eForm&&0!==n.fileSize?i("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"3px"}},[i("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[i("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(n)}},slot:"activator"},[i("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),t._v("  \n                        "+t._s(n.dossierTemplateNo?n.dossierTemplateNo:n.referenceUid)+"."+t._s(n.fileType)+" - \n                        "),i("i",[t._v(t._s(n.modifiedDate))])]),i("span",[t._v("Bản khai trực tuyến")])]),t.progressUploadPart===n.dossierFileId?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.onlyView||t.progressUploadPart?t._e():i("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){t.attachToDossier(n,a)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[t._v("cloud_download")])],1)],1),i("span",[t._v("Sử dụng giấy tờ này")])],1)],1):i("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":t.onlyView?"5px":"3px"}},[i("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[i("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.viewGiayToDaNop(n)}},slot:"activator"},[0!==n.fileSize?i("v-icon",{staticStyle:{color:"#0d71bb"}},[t._v("attach_file")]):t._e(),t._v("\n                        "+t._s(n.displayName)+" - \n                        "),i("i",[t._v(t._s(n.modifiedDate))])],1),i("span",[t._v("Đính kèm")])]),t.progressUploadPart===n.dossierFileId?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.onlyView||t.progressUploadPart?t._e():i("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(e){t.attachToDossier(n,a)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[t._v("cloud_download")])],1)],1),i("span",[t._v("Sử dụng giấy tờ này")])],1)],1)]):t._e()}),i("v-btn",{staticClass:"mx-0 my-0",staticStyle:{position:"absolute",right:"0px",top:"0px"},attrs:{flat:"",icon:"",color:"red"},on:{click:function(i){i.stopPropagation(),t.showFilesApplicant(e.partNo)}}},[i("v-icon",[t._v("clear")])],1)],2)],2)]),e.hasForm?i("v-card",{attrs:{flat:""}},[i("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[i("v-layout",{attrs:{wrap:""}},[t.stateView?t._e():i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[i("div",{style:t.pstFixed>t.pstEl&&t.pstFixed<t.endEl+t.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+e.partNo+t.id}},[e["editForm"]&&e.hasForm&&!t.onlyView&&1!==t.checkInput?i("v-btn",{attrs:{color:"primary",disabled:t.loadingApacal},on:{click:function(i){i.stopPropagation(),t.saveAlpacaForm(e,a)}}},[t.loadingApacal?i("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):i("v-icon",{attrs:{color:"white"}},[t._v("save")]),t._v(" \n                      Lưu lại\n                    ")],1):t._e(),e["editForm"]&&e.daKhai&&e.hasForm?i("v-btn",{attrs:{color:"primary",disabled:t.loadingApacal},on:{click:function(i){i.stopPropagation(),t.previewFormAlpaca(e,a)}}},[t.loadingApacal?i("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):i("v-icon",{attrs:{color:"white"}},[t._v("print")]),t._v(" \n                      Xem\n                    ")],1):t._e(),e["editForm"]||!e.hasForm||t.onlyView?t._e():i("v-btn",{attrs:{color:"primary"},on:{click:function(i){i.stopPropagation(),t.editFormAlpaca(e)}}},[i("v-icon",{attrs:{color:"white"}},[t._v("edit")]),t._v(" \n                      Sửa\n                    ")],1),e.daKhai&&e.hasForm&&!t.onlyView&&1!==t.checkInput?i("v-btn",{attrs:{color:"primary",disabled:t.loadingApacal},on:{click:function(i){i.stopPropagation(),t.deleteSingleFileEform(e,a)}}},[t.loadingApacal?i("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):i("v-icon",{attrs:{color:"white"}},[t._v("delete")]),t._v(" \n                      Xóa\n                    ")],1):t._e()],1),e["editForm"]?i("div",{style:{"pointer-events: none":t.onlyView},attrs:{id:"formAlpaca"+e.partNo+t.id}}):t._e(),e["editForm"]?t._e():i("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"displayPDF"+e.partNo+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])],1)],1)],1):t._e()],1)],1),i("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[t.loading?i("content-placeholders",{staticClass:"mt-1"},[i("content-placeholders-text",{attrs:{lines:1}})],1):i("v-layout",{attrs:{row:"",wrap:""}},[1===t.originality||t.onlyView?t._e():i("v-flex",{staticClass:"layout wrap mr-2",staticStyle:{width:"100px"}},[i("v-text-field",{staticClass:"counter-up-down text-xs-center",staticStyle:{width:"100px"},style:t.onlyView?"pointer-events: none":"",attrs:{title:"Số lượng","append-icon":"add","prepend-inner-icon":"remove","clear-icon":"mdi-close-circle",type:"number",solo:"",flat:"",height:"32"},on:{"click:append":function(e){t.increaseCounter(a)},"click:prepend-inner":function(e){t.decreaseCounter(a)},input:function(e){t.changeRecordCount(a)}},model:{value:t.dossierTemplateItems[a]["recordCount"],callback:function(e){t.$set(t.dossierTemplateItems[a],"recordCount",e)},expression:"dossierTemplateItems[index]['recordCount']"}})],1),1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput?t._e():i("v-flex",{staticClass:"layout wrap",staticStyle:{width:"100px"}},[i("v-select",{style:t.onlyView?"pointer-events: none":"",attrs:{items:t.fileMarkItems},on:{change:function(e){t.changeFileMark(e,a)}},model:{value:t.dossierTemplateItems[a].fileMark,callback:function(e){t.$set(t.dossierTemplateItems[a],"fileMark",e)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===t.checkInput?i("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[i("v-select",{attrs:{items:t.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(e){t.changeFileCheck(e,a)}},model:{value:t.dossierTemplateItems[a].fileCheck,callback:function(e){t.$set(t.dossierTemplateItems[a],"fileCheck",e)},expression:"dossierTemplateItems[index].fileCheck"}})],1):e.fileCheck>0?i("v-flex",{staticClass:"layout wrap",style:{width:"40px","align-items":"center","margin-left":"10px","margin-top":t.thongTinHoSo.online?"10px":"0px"}},[1===e.fileCheck?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[t._v("done")]),i("span",[t._v("Đạt")])],1):2===e.fileCheck?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[t._v("close")]),i("span",[t._v("Không đạt")])],1):t._e()],1):t._e(),1!==t.checkInput?i("v-flex",{class:{"text-xs-right":t.onlyView},style:{width:t.onlyView?"auto":"120px"}},[e["multiple"]?i("input",{staticStyle:{display:"none"},attrs:{type:"file",multiple:"",id:"file"+e.partNo},on:{change:function(i){t.onUploadSingleFile(i,e,a)}}}):i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+e.partNo},on:{change:function(i){t.onUploadSingleFile(i,e,a)}}}),3!==e.partType||3!==t.originality||t.onlyView?t._e():i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){t.addFileOther(e)}},slot:"activator"},[i("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[t._v("add")])],1),i("span",[t._v("Thêm giấy tờ khác")])],1),t.progressUploadPart===e.partNo?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):t._e(),t.progressUploadPart!==e.partNo&&!t.onlyView&e.hasForm?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){i.stopPropagation(),t.loadAlpcaFormClick(e)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"#004b94"}},[t._v("edit")])],1)],1),i("span",[t._v("Khai trực tuyến")])],1):t._e(),t.progressUploadPart!==e.partNo&&t.onlyView&e.hasForm?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-1 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",fab:"",dark:"",small:"",color:"primary"},on:{click:function(i){t.loadAlpcaFormClick(e)}},slot:"activator"},[i("v-icon",{staticStyle:{"font-size":"14px"}},[t._v("visibility")])],1),i("span",[t._v("Xem")])],1):t._e(),t.progressUploadPart===e.partNo||t.onlyView?t._e():i("v-tooltip",{attrs:{left:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){t.pickFile(e)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"#004b94"}},[t._v("cloud_upload")])],1)],1),e.partTip["extensions"]||e.partTip["maxSize"]?i("span",[t._v("Tải giấy tờ lên (Chấp nhận tải lên các định dạng: "+t._s(e.partTip["extensions"])+". Tối đa "+t._s(e.partTip["maxSize"])+" MB)")]):i("span",[t._v("Tải giấy tờ lên")])],1),t.partNoApplicantHasFile(e.partNo)&&!t.onlyView?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){t.showFilesApplicant(e.partNo)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"orange darken-3"}},[t._v("folder")])],1)],1),i("span",[t._v("Giấy tờ đã nộp")])],1):t._e()],1):t._e()],1)],1)],1)}),t.partTypes.includes(2)||3!==t.originality||t.partTypes.includes(6)||t.partTypes.includes(7)?t._e():i("div",[i("v-card",{attrs:{flat:""}},[i("v-card-text",{staticClass:"py-0 px-3 pl-4",attrs:{flat:""}},[t.onlyView?t._e():i("div",{staticClass:"my-2"},[i("v-textarea",{staticClass:"py-0",attrs:{box:"",rows:"3",label:"Ghi chú"},on:{input:t.changeApplicantNote},model:{value:t.applicantNoteDossier,callback:function(e){t.applicantNoteDossier=e},expression:"applicantNoteDossier"}})],1),t.onlyView&&t.applicantNoteDossier?i("v-text-field",{staticClass:"my-2",attrs:{label:"Ghi chú",readonly:"",box:""},model:{value:t.applicantNoteDossier,callback:function(e){t.applicantNoteDossier=e},expression:"applicantNoteDossier"}}):t._e()],1)],1)],1),i("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:t.dialogAddOtherTemp,callback:function(e){t.dialogAddOtherTemp=e},expression:"dialogAddOtherTemp"}},[i("v-card",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("Tên giấy tờ")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[i("v-icon",[t._v("close")])],1)],1),i("v-card-text",{staticClass:"pb-0 pt-4"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[i("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(t){return!!t||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:t.otherDossierTemplate,callback:function(e){t.otherDossierTemplate=e},expression:"otherDossierTemplate"}})],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"red darken-3",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.cancelDialog(e)}}},[t._v("\n              Quay lại\n              "),i("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])]),i("v-btn",{attrs:{color:"primary",flat:"flat",loading:t.loadingAddOther},nativeOn:{click:function(e){return t.addOtherTemplate(e)}}},[t._v("\n              Đồng ý\n              "),i("span",{attrs:{slot:"loader"},slot:"loader"},[t._v("Loading...")])])],1)],1)],1)],1)],2),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t.pdfEform?i("span",[t._v("Bản in đã khai trực tuyến")]):i("span",[t._v("Tài liệu đính kèm")])]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},n=[],s=i("92fe"),o=s["a"],r=i("2877"),l=i("6544"),c=i.n(l),d=i("4ca6"),u=i("8336"),p=i("b0af"),h=i("99d9"),f=i("169a"),m=i("cd55"),_=i("49e2"),g=i("0e8f"),v=i("4bd4"),y=i("132d"),b=i("a722"),T=i("490a"),D=i("b56d"),x=i("9910"),C=i("2677"),S=i("a844"),w=i("71d9"),P=i("2a7f"),k=i("3a2f"),F=Object(r["a"])(o,a,n,!1,null,null,null);e["a"]=F.exports;c()(F,{VBadge:d["a"],VBtn:u["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["b"],VDialog:f["a"],VExpansionPanel:m["a"],VExpansionPanelContent:_["a"],VFlex:g["a"],VForm:v["a"],VIcon:y["a"],VLayout:b["a"],VProgressCircular:T["a"],VSelect:D["a"],VSpacer:x["a"],VTextField:C["a"],VTextarea:S["a"],VToolbar:w["a"],VToolbarTitle:P["b"],VTooltip:k["a"]})},7121:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"phancong",staticStyle:{"background-color":"white",width:"100%"}},[3===t.type||4===t.type?i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Phân công chỉ đạo\n      ")]),i("v-card",[i("div",{staticClass:"px-4 py-1"},[i("v-layout",{attrs:{wrap:""}},t._l(t.data_uyquyen,function(e,a){return i("v-checkbox",{key:e.userId,staticStyle:{display:"inline-block","min-width":"190px","max-width":"190px"},attrs:{slot:"activator",title:e.userName},on:{change:function(e){t.changeDelegacy(e,a)}},slot:"activator",model:{value:e.assigned,callback:function(i){t.$set(e,"assigned",i)},expression:"item.assigned"}},[i("template",{slot:"label"},[i("span",{staticClass:"black--text"},[t._v(t._s(e.userName))])])],2)}),1)],1)])],1)],1):t._e(),i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Phân công người thực hiện\n      ")]),i("v-card",[1===t.type||3===t.type?i("div",{staticClass:"px-4 py-1"},[i("v-layout",{attrs:{wrap:""}},t._l(t.data_phancong,function(e,a){return i("v-checkbox",{key:e.userId,staticStyle:{display:"inline-block","min-width":"190px","max-width":"190px"},attrs:{slot:"activator",title:e.userName},on:{change:function(e){t.changeAssigned(e,a)}},slot:"activator",model:{value:e.assigned,callback:function(i){t.$set(e,"assigned",i)},expression:"item.assigned"}},[i("template",{slot:"label"},[i("span",{staticClass:"black--text"},[t._v(t._s(e.userName))])])],2)}),1)],1):t._e(),2===t.type||4===t.type?i("v-card-text",{staticClass:"px-4 py-1"},[i("v-layout",{staticClass:"my-1",attrs:{wrap:""}},t._l(t.data_phancong,function(e,a){return i("div",{key:e.userId,staticClass:"ml-3"},[i("v-layout",{attrs:{wrap:""}},[i("v-tooltip",{attrs:{top:""}},[i("v-checkbox",{staticStyle:{"min-width":"150px"},attrs:{slot:"activator",label:e.userName},on:{change:function(e){t.checkAsign(e,a)}},slot:"activator",model:{value:e.assigned,callback:function(i){t.$set(e,"assigned",i)},expression:"item.assigned"}}),i("span",{staticClass:"pl-0"},[t._v(" "+t._s(e.userName)+" ")])],1)],1)],1)}),0)],1):t._e()],1)],1)],1)],1)},n=[],s=(i("c5f6"),i("854a")),o=i.n(s),r=i("610f");o.a.options={closeButton:!0,timeOut:"2000"};var l={components:{"toggle-button":r["a"]},props:{assign_items:{type:Array,default:function(){return[]}},data_uyquyen:{type:Array,default:function(){return[]}},type:{type:Number,default:function(){return 1}},configNote:{type:Object,default:function(){}},detailDossier:{type:Object,default:function(){}}},model:{prop:"assign_items"},data:function(){return{data_phancong:[],assignedtype_items:{2:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2}],3:[{text:"Không có phân công",value:0},{text:"Thực hiện chính",value:1},{text:"Thực hiện phối hợp",value:2},{text:"Theo dõi",value:3}]},title_asign:{1:"PHÂN CÔNG NGƯỜI THỰC HIỆN",2:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP",3:"PHÂN CÔNG THỰC HIỆN, PHỐI HỢP VÀ THEO DÕI"},presenterAddGroup:!0,assignValidate:!0}},created:function(){setTimeout(function(){window.$(".btn-tgl").addClass("btn-hidden")},200)},mounted:function(){this.data_phancong=this.assign_items},methods:{changeAssigned:function(t,e){var i=this;0!==i.type&&(i.assign_items[e].assigned=!0===t?1:0)},changeDelegacy:function(t,e){var i=this;3!==i.type&&4!==i.type||(i.data_uyquyen[e].assigned=!0===t?1:0)},checkAsign:function(t,e){var i=this;t?(i.assign_items[e].assigned=1,window.$("#btn-".concat(e)).removeClass("btn-hidden")):(i.assign_items[e].assigned=0,window.$("#btn-".concat(e)).addClass("btn-hidden"))},changeTypeAssign:function(t,e){var i=this;t.value?(i.assign_items[e].assigned=1,window.$("#btn-".concat(e)).removeClass("btn-hidden")):(i.assign_items[e].assigned=2,window.$("#btn-".concat(e)).addClass("btn-hidden"))},doReAsign:function(){var t=this,e={dossierId:t.detailDossier.dossierId,users:t.data_uyquyen};t.$store.dispatch("postDossierUserAsign",e).then(function(t){o.a.success("Yêu cầu của bạn thực hiện thành công")}).catch(function(t){})},doExport:function(){var t=this,e=t.assign_items.filter(function(t){return Number(t.assigned)>0});return 0===e.length?(t.assignValidate=!1,t.assignValidate):(t.assignValidate=!0,t.assignValidate)},getDataDelegacy:function(){var t=this;return t.data_uyquyen}}},c=l,d=i("2877"),u=i("6544"),p=i.n(u),h=i("b0af"),f=i("99d9"),m=i("ac7c"),_=i("cd55"),g=i("49e2"),v=i("132d"),y=i("a722"),b=i("3a2f"),T=Object(d["a"])(c,a,n,!1,null,null,null);e["default"]=T.exports;p()(T,{VCard:h["a"],VCardText:f["b"],VCheckbox:m["a"],VExpansionPanel:_["a"],VExpansionPanelContent:g["a"],VIcon:v["a"],VLayout:y["a"],VTooltip:b["a"]})},"716b":function(t,e,i){(function(e,i){t.exports=i()})(0,function(){return function(t){function e(a){if(i[a])return i[a].exports;var n=i[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,a){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:a})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p=".",e(e.s=9)}([function(t,e,i){"use strict";e.a={prefix:"",suffix:"",thousands:",",decimal:".",precision:2}},function(t,e,i){"use strict";var a=i(2),n=i(5),s=i(0);e.a=function(t,e){if(e.value){var o=i.i(n.a)(s.a,e.value);if("INPUT"!==t.tagName.toLocaleUpperCase()){var r=t.getElementsByTagName("input");1!==r.length||(t=r[0])}t.oninput=function(){var e=t.value.length-t.selectionEnd;t.value=i.i(a.a)(t.value,o),e=Math.max(e,o.suffix.length),e=t.value.length-e,e=Math.max(e,o.prefix.length+1),i.i(a.b)(t,e),t.dispatchEvent(i.i(a.c)("change"))},t.onfocus=function(){i.i(a.b)(t,t.value.length-o.suffix.length)},t.oninput(),t.dispatchEvent(i.i(a.c)("input"))}}},function(t,e,i){"use strict";function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a;"number"==typeof t&&(t=t.toFixed(o(e.precision)));var i=t.indexOf("-")>=0?"-":"",a=s(t),n=l(a,e.precision),r=u(n).split("."),p=r[0],h=r[1];return p=c(p,e.thousands),e.prefix+i+d(p,h,e.decimal)+e.suffix}function n(t,e){var i=t.indexOf("-")>=0?-1:1,a=s(t),n=l(a,e);return parseFloat(n)*i}function s(t){return u(t).replace(/\D+/g,"")||"0"}function o(t){return r(0,t,20)}function r(t,e,i){return Math.max(t,Math.min(e,i))}function l(t,e){var i=Math.pow(10,e);return(parseFloat(t)/i).toFixed(o(e))}function c(t,e){return t.replace(/(\d)(?=(?:\d{3})+\b)/gm,"$1"+e)}function d(t,e,i){return e?t+i+e:t}function u(t){return t?t.toString():""}function p(t,e){var i=function(){t.setSelectionRange(e,e)};t===document.activeElement&&(i(),setTimeout(i,1))}function h(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!0),e}var f=i(0);i.d(e,"a",function(){return a}),i.d(e,"d",function(){return n}),i.d(e,"b",function(){return p}),i.d(e,"c",function(){return h})},function(t,e,i){"use strict";function a(t,e){e&&Object.keys(e).map(function(t){r.a[t]=e[t]}),t.directive("money",o.a),t.component("money",s.a)}Object.defineProperty(e,"__esModule",{value:!0});var n=i(6),s=i.n(n),o=i(1),r=i(0);i.d(e,"Money",function(){return s.a}),i.d(e,"VMoney",function(){return o.a}),i.d(e,"options",function(){return r.a}),i.d(e,"VERSION",function(){return l});var l="0.8.1";e.default=a,"undefined"!=typeof window&&window.Vue&&window.Vue.use(a)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(1),n=i(0),s=i(2);e.default={name:"Money",props:{value:{required:!0,type:[Number,String],default:0},masked:{type:Boolean,default:!1},precision:{type:Number,default:function(){return n.a.precision}},decimal:{type:String,default:function(){return n.a.decimal}},thousands:{type:String,default:function(){return n.a.thousands}},prefix:{type:String,default:function(){return n.a.prefix}},suffix:{type:String,default:function(){return n.a.suffix}}},directives:{money:a.a},data:function(){return{formattedValue:""}},watch:{value:{immediate:!0,handler:function(t,e){var a=i.i(s.a)(t,this.$props);a!==this.formattedValue&&(this.formattedValue=a)}}},methods:{change:function(t){this.$emit("input",this.masked?t.target.value:i.i(s.d)(t.target.value,this.precision))}}}},function(t,e,i){"use strict";e.a=function(t,e){return t=t||{},e=e||{},Object.keys(t).concat(Object.keys(e)).reduce(function(i,a){return i[a]=void 0===e[a]?t[a]:e[a],i},{})}},function(t,e,i){var a=i(7)(i(4),i(8),null,null);t.exports=a.exports},function(t,e){t.exports=function(t,e,i,a){var n,s=t=t||{},o=typeof t.default;"object"!==o&&"function"!==o||(n=t,s=t.default);var r="function"==typeof s?s.options:s;if(e&&(r.render=e.render,r.staticRenderFns=e.staticRenderFns),i&&(r._scopeId=i),a){var l=r.computed||(r.computed={});Object.keys(a).forEach(function(t){var e=a[t];l[t]=function(){return e}})}return{esModule:n,exports:s,options:r}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{directives:[{name:"money",rawName:"v-money",value:{precision:t.precision,decimal:t.decimal,thousands:t.thousands,prefix:t.prefix,suffix:t.suffix},expression:"{precision, decimal, thousands, prefix, suffix}"}],staticClass:"v-money",attrs:{type:"tel"},domProps:{value:t.formattedValue},on:{change:t.change}})},staticRenderFns:[]}},function(t,e,i){t.exports=i(3)}])})},"765d":function(t,e,i){i("6718")("observable")},"768b":function(t,e,i){"use strict";var a=i("a745"),n=i.n(a);function s(t){if(n()(t))return t}var o=i("5d73"),r=i.n(o);function l(t,e){var i=[],a=!0,n=!1,s=void 0;try{for(var o,l=r()(t);!(a=(o=l.next()).done);a=!0)if(i.push(o.value),e&&i.length===e)break}catch(c){n=!0,s=c}finally{try{a||null==l["return"]||l["return"]()}finally{if(n)throw s}}return i}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function d(t,e){return s(t)||l(t,e)||c()}i.d(e,"a",function(){return d})},"7d7b":function(t,e,i){var a=i("e4ae"),n=i("7cd6");t.exports=i("584a").getIterator=function(t){var e=n(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return a(e.call(t))}},"85f2":function(t,e,i){t.exports=i("454f")},"87c1":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),i("span",[t._v("Ý kiến chính thức")]),2===t.user_note?i("span",{staticClass:"red--text text--darken-3"},[t._v("*")]):t._e()]),i("v-card",[i("v-card-text",{staticClass:"py-2 px-4"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:""}},[i("v-form",{ref:"userNoteForm",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[i("v-text-field",{attrs:{"multi-line":"",rows:4,rules:2===t.user_note?[function(){return""!==t.noteYkien||"Trường dữ liệu bắt buộc"}]:[],box:"",label:"Nhập ý kiến"},model:{value:t.noteYkien,callback:function(e){t.noteYkien=e},expression:"noteYkien"}})],1)],1)],1)],1)],1)],1)],1)},n=[],s=(i("c5f6"),i("cadf"),i("551c"),i("097d"),{props:{user_note:{type:Number,required:!0},configNote:{type:Object,required:!1}},data:function(){return{noteYkien:"",valid:!1}},methods:{initData:function(t){var e=this;e.$store.dispatch("getDetailDossier",t).then(function(t){e.thongTinChiTietHoSo=t})},doExport:function(){var t=this,e={text:t.noteYkien,valid:t.$refs.userNoteForm.validate()};return e}}}),o=s,r=i("2877"),l=i("6544"),c=i.n(l),d=i("b0af"),u=i("99d9"),p=i("cd55"),h=i("49e2"),f=i("0e8f"),m=i("4bd4"),_=i("132d"),g=i("a722"),v=i("2677"),y=Object(r["a"])(o,a,n,!1,null,null,null);e["default"]=y.exports;c()(y,{VCard:d["a"],VCardText:u["b"],VExpansionPanel:p["a"],VExpansionPanelContent:h["a"],VFlex:f["a"],VForm:m["a"],VIcon:_["a"],VLayout:g["a"],VTextField:v["a"]})},"8aae":function(t,e,i){i("32a6"),t.exports=i("584a").Object.keys},"8bf2":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("Thông tin gửi bưu chính\n    ")]),i("v-card",[i("v-layout",{staticClass:"my-2",attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Dịch vụ đăng ký: ")])],1),i("v-flex",{attrs:{xs12:"",sm4:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v("VNPOST")])]),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Bưu cục: ")])],1),i("v-flex",{attrs:{xs12:"",sm4:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v(t._s(t.postName))])]),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Tên người nhận: ")])],1),i("v-flex",{attrs:{xs12:"",sm4:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v(t._s(t.postalService.applicantName))])]),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Số điện thoại: ")])],1),i("v-flex",{attrs:{xs12:"",sm4:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v(t._s(t.postalService.postalTelNo))])]),i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0"},[t._v("Địa chỉ: ")])],1),i("v-flex",{attrs:{xs12:"",sm10:""}},[i("p",{staticClass:"mb-0",staticStyle:{"padding-top":"9px"}},[t._v(t._s(t.postalService.postalAddress))])])],1)],1)],1)],1)},n=[],s=(i("c5f6"),i("cadf"),i("551c"),i("097d"),{props:{postalService:{type:Object,default:function(){}}},data:function(){return{postName:""}},computed:{},created:function(){var t=this;t.$nextTick(function(){var t=this;t.$store.dispatch("getVNPOSTcode").then(function(e){var i=e.filter(function(e){return Number(e.itemCode)===Number(t.postalService.postalCityCode)});i.length>0&&(t.postName=i[0].itemName)})})},methods:{}}),o=s,r=i("2877"),l=i("6544"),c=i.n(l),d=i("b0af"),u=i("cd55"),p=i("49e2"),h=i("0e8f"),f=i("132d"),m=i("a722"),_=i("e0c7"),g=Object(r["a"])(o,a,n,!1,null,null,null);e["a"]=g.exports;c()(g,{VCard:d["a"],VExpansionPanel:u["a"],VExpansionPanelContent:p["a"],VFlex:h["a"],VIcon:f["a"],VLayout:m["a"],VSubheader:_["a"]})},"92fe":function(module,__webpack_exports__,__webpack_require__){"use strict";var d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5176"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a745"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_12__),jquery__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_13__),toastr__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_14__);toastr__WEBPACK_IMPORTED_MODULE_14___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{onlyView:{type:Boolean,default:function(){return!1}},id:{type:String,default:function(){return"nm"}},partTypes:{type:Array,default:function(){return[1,3]}},checkInput:{type:Number,default:function(){return 0}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,loadingApacal:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],pdfEform:!1,sampleCount:0,serviceInfoId:0,fileMarkItems:[{text:"Không có",value:0},{text:"Bản chụp",value:1},{text:"Bản sao",value:2},{text:"Bản gốc",value:3},{text:"Bản dịch",value:4}],fileCheckItems:[{text:"Chưa kiểm tra",value:0},{text:"Đạt",value:1},{text:"Không đạt",value:2}],fileTemplateItems:[],fileTemplateNoString:"",dossierFilesApplicant:[],stateViewResult:!0,currentFormView:"",pstFixed:0,pstEl:0,endEl:0,applicantNoteDossier:"",doChange:""}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData},dossierTemplateItemsFilter:function(){var t=this,e=t.dossierTemplateItems;if(e.length>0){var i=e.filter(function(e){return t.partTypes.includes(e.partType)&&t.checkVisibleTemp(e,0)});return i}},applicantBussinessExit:function(){return this.$store.getters.getApplicantBussinessExit},applicantId:function(){return this.$store.getters.getApplicantIdNo},applicantNote:function(){return this.$store.getters.getApplicantNote}},mounted:function(){var t=this;t.page=1,t.$nextTick(function(){})},watch:{applicantBussinessExit:function(t){var e=this;t&&e.fileTemplateNoString&&e.getDossierFileApplicants(t,e.fileTemplateNoString)},applicantId:function(t){var e=this;t&&e.fileTemplateNoString&&e.getDossierFileApplicants(t,e.fileTemplateNoString)}},methods:{resetCounterTemplate:function(t,e){t.commit,t.state;var i=this;i.dossierTemplateItems.forEach(function(t){t.partNo===e.partNo&&(t.hasForm?t.count=1:t.count=0)})},recountFileTemplates:function(){var t=this;t.dossierTemplateItems.forEach(function(e){e.count=0,t.dossierFilesItems.forEach(function(t){e.partNo!==t.dossierPartNo||t.eForm||e.count++})})},initData:function(t){var e=this;e.thongTinHoSo=t,e.applicantNoteDossier=t["applicantNote"]&&String(t["applicantNote"]).indexOf("<br>[")<0?t["applicantNote"]:"";var i=[];null!==t["sampleCount"]&&void 0!==t["sampleCount"]&&"undefined"!==t["sampleCount"]&&(e.sampleCount=t["sampleCount"]),i.push(e.$store.dispatch("loadDossierTemplates",t)),i.push(e.$store.dispatch("loadDossierMark",t)),i.push(e.$store.dispatch("loadDossierFiles",t.dossierId)),i.push(e.$store.dispatch("getServiceInfo",{serviceInfoId:t.serviceCode})),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(i).then(function(t){var i=t[0],a=t[1],n=t[2],s=[];t[3].hasOwnProperty("serviceInfoId")&&(e.serviceInfoId=t[3].serviceInfoId),t[3].fileTemplates&&(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3___default()(t[3].fileTemplates)?s=t[3].fileTemplates:s.push(t[3].fileTemplates));var o=e.mergeDossierTemplateVsDossierFiles(i,n);if(o=e.mergeDossierTemplateVsDossierMark(o,a),o=e.mergeDossierTemplateVsFileTemplates(o,s),e.dossierFilesItems=n,e.dossierMarksItems=a,e.fileTemplateItems=s,e.dossierTemplateItems=o,(e.partTypes.includes(2)||e.partTypes.includes(7))&&e.dossierTemplateItems.length>0){var r=[];e.dossierTemplateItems.forEach(function(t){var i=e.dossierFilesItems.find(function(e){return t.partNo===e.dossierPartNo&&(2===t.partType||7===t.partType)});i&&r.push(t)}),e.dossierTemplateItems=r}e.changeStateViewResult(),setTimeout(function(t){e.genAllAlpacaForm(n,o),e.recountFileTemplates()},500);var l=[];for(var c in e.dossierTemplateItems)e.dossierTemplateItems[c]["fileTemplateNo"]&&l.push(e.dossierTemplateItems[c]["fileTemplateNo"]);l.length>0&&(e.fileTemplateNoString=l.toString(),e.applicantId&&!e.onlyView&&e.getDossierFileApplicants(e.applicantId,e.fileTemplateNoString))}).catch(function(t){})},genAllAlpacaForm:function(t,e){var i=this;if(t.length>0){var a=t.filter(function(t){return t.eForm}),n=e.filter(function(t){return t.hasForm&&i.partTypes.includes(t.partType)});a.length>0?a.forEach(function(t){t.eForm&&i.$store.dispatch("loadAlpcaForm",t)}):e.forEach(function(t){t.hasForm&&i.partTypes.includes(t.partType)&&(t["templateFileNo"]=i.thongTinHoSo.dossierTemplateNo,i.showAlpacaJSFORM(t))}),n.length!==a.length&&n.forEach(function(t){var e=a.findIndex(function(e){return t.partNo===e.dossierPartNo});-1===e&&(t["templateFileNo"]=i.thongTinHoSo.dossierTemplateNo,i.showAlpacaJSFORM(t))})}else e.forEach(function(t){t.hasForm&&i.partTypes.includes(t.partType)&&(t["templateFileNo"]=i.thongTinHoSo.dossierTemplateNo,i.showAlpacaJSFORM(t))})},postDossierMark:function(t,e){var i=this;t["dossierId"]=i.thongTinHoSo.dossierId,i.$store.dispatch("postDossierMark",t).then(function(t){}).catch(function(t){})},mergeDossierTemplateVsDossierFiles:function(t,e){var i=this;return 0!==e.length?t.forEach(function(t){t["editForm"]=!0,t["daKhai"]=!1,t["passRequired"]=!1;var a=e.find(function(e){return t.partNo===e.dossierPartNo&&i.partTypes.includes(t.partType)&&e.eForm&&!e.removed&&0!==e.fileSize});a&&(t["daKhai"]=!0,t["hasForm"]=!0,t["referenceUid"]=a["referenceUid"]),e.forEach(function(e){t.partNo===e.dossierPartNo&&(t["passRequired"]=!0)})}):t.forEach(function(t){t.hasForm&&(t["daKhai"]=!1,t["passRequired"]=!1,t["editForm"]=!0)}),t},mergeDossierTemplateVsDossierMark:function(t,e){return 0!==e.length?t.map(function(t){t["count"]=0,t["stateEditFileCheck"]=!1;var i=e.find(function(e){return e.dossierPartNo===t.partNo});return null!==i&&void 0!==i?(t["fileMark"]=i.fileMark,t["fileComment"]=i.fileComment,t["fileCheck"]=i.fileCheck,t["recordCount"]=i.recordCount):(t["fileMark"]=0,t["fileComment"]="",t["fileCheck"]=0,t["recordCount"]=""),t}):t&&t.forEach(function(t){t["stateEditFileCheck"]=!1,t["count"]=0,t["fileMark"]=0,t["fileComment"]="",t["fileCheck"]=0,t["stateEditFileCheck"]=!1}),t},mergeDossierTemplateVsFileTemplates:function(t,e){return 0!==e.length?t.map(function(t){var i=e.find(function(e){return e.fileTemplateNo===t.fileTemplateNo});return t["hasFileTemp"]=null!==i&&void 0!==i?i.fileTemplateNo:"",t}):t&&t.forEach(function(t){t["hasFileTemp"]=""}),t},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.thongTinHoSo.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').empty(),formScript=resScript?eval("("+resScript+")"):{},resData?(formData=eval("("+resData+")"),item["loaded"]=!0):formData={},formScript.data=formData,window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').alpaca(formScript)})})},saveAlpacaForm:function(t,e){var i=this,a=i.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm&&0!==e.fileSize});a?(a["dossierId"]=i.thongTinHoSo.dossierId,a["id"]=i.id,i.loadingApacal=!0,i.$store.dispatch("putAlpacaForm",a).then(function(t){setTimeout(function(){i.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.success("Thực hiện thành công")},3e3),i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(t){i.dossierFilesItems=t}).catch(function(t){}),i.dossierTemplateItems[e]["passRequired"]=!0}).catch(function(t){i.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})):(t["dossierId"]=i.thongTinHoSo.dossierId,t["id"]=i.id,i.loadingApacal=!0,i.$store.dispatch("postEform",t).then(function(t){setTimeout(function(){i.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.success("Thực hiện thành công"),i.dossierTemplateItems[e].daKhai=!0},3e3),i.dossierTemplateItems[e]["passRequired"]=!0,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(t){i.dossierFilesItems=t}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})}).catch(function(t){i.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},onDeleteAttackFiles:function(t){var e=this;console.log("delete");var i=confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?");i&&e.dossierFilesItems.forEach(function(i){i.dossierPartNo===t.partNo&&(i["dossierId"]=e.thongTinHoSo.dossierId,e.$store.dispatch("deleteAttackFiles",i).then(function(i){e.resetCounterTemplate(t),e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId)}).catch(function(t){}))})},changeApplicantNote:function(){var t=this;console.log("applicantNoteEdit",t.applicantNoteDossier),t.$store.commit("setApplicantNote",t.applicantNoteDossier)},pickFile:function(t){var e=this;e.stateAddFileOther=!1,document.getElementById("file"+t.partNo).value="",document.getElementById("file"+t.partNo).click()},onUploadSingleFile:function(t,e,i){var a=this;if(a.dossierTemplatesItemSelect=e,a.progressUploadPart=e.partNo,e["dossierId"]=a.thongTinHoSo.dossierId,e["dossierTemplateNo"]=a.thongTinHoSo.dossierTemplateNo,3!==e.partType)a.$store.dispatch("uploadSingleFile",e).then(function(t){a.dossierTemplateItems[i]["passRequired"]=!0,a.progressUploadPart="",a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then(function(t){a.dossierFilesItems=t,a.recountFileTemplates()})}).catch(function(t){t.length>0&&(a.dossierTemplateItems[i]["passRequired"]=!0),a.progressUploadPart="",a.$store.dispatch("loadDossierFiles",a.thongTinHoSo.dossierId).then(function(t){a.dossierFilesItems=t,a.recountFileTemplates()})});else{if(0===window.$('input[id="file'+e.partNo+'"]')[0].files.length)return void(a.progressUploadPart="");a.partView=e.partNo,a.stateView=!0,a.dialogAddOtherTemp=!0}},loadAlpcaForm:function(t){var e=this,i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i?(i["id"]=e.id,e.$store.dispatch("loadAlpcaForm",i)):e.dossierTemplateItems.forEach(function(i){i.hasForm&&t.partNo===i.partNo&&(i["templateFileNo"]=e.thongTinHoSo.dossierTemplateNo,e.showAlpacaJSFORM(i))})},loadAlpcaFormClick:function(t){var e=this;e.currentFormView==="formAlpaca"+t.partNo+e.id?e.currentFormView="":e.currentFormView="formAlpaca"+t.partNo+e.id,e.pstEl=e.endEl=0,setTimeout(function(){window.$('div[id="formAlpaca'+t.partNo+e.id+'"]').height()>200&&(e.pstEl=window.$('div[id="wrapForm'+t.partNo+e.id+'"]').offset().top,e.endEl=window.$('div[id="formAlpaca'+t.partNo+e.id+'"]').height(),jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).scroll(function(){e.pstFixed=jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).scrollTop()}))},500);var i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm&&e.fileSize});i?(i["id"]=e.id,e.$store.dispatch("loadAlpcaForm",i),t["editForm"]=!1,e.$store.dispatch("viewFile",i).then(function(t){document.getElementById("displayPDF"+i.dossierPartNo+e.id).src=t})):e.dossierTemplateItems.forEach(function(i){i.hasForm&&t.partNo===i.partNo&&(i["templateFileNo"]=e.thongTinHoSo.dossierTemplateNo,i["loaded"]||e.showAlpacaJSFORM(i))})},editFormAlpaca:function(t){var e=this;t["editForm"]=!0,setTimeout(function(){var i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i["id"]=e.id,e.$store.dispatch("loadAlpcaForm",i)},200)},deleteSingleFileEform:function(t,e){var i=this,a=confirm("Bạn có chắc chắn xóa file?");a&&i.dossierFilesItems.forEach(function(a){a.dossierPartNo===t.partNo&&a.eForm&&(a["dossierId"]=i.thongTinHoSo.dossierId,i.$store.dispatch("deleteDossierFile",a).then(function(a){i.dossierTemplateItems[e].daKhai=!1,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(a){if(i.dossierFilesItems=a,i.recountFileTemplates(),t["editForm"]=!0,setTimeout(function(){i.loadAlpcaForm(t)},200),0!==i.dossierFilesItems.length){var n=i.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo});i.dossierTemplateItems[e]["passRequired"]=!!n}else i.dossierTemplateItems[e]["passRequired"]=!1})}))})},previewFileEfom:function(t,e){var i=this;i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&!e.removed&&(e["dossierId"]=i.thongTinHoSo.dossierId,i.dialogPDFLoading=!0,i.dialogPDF=!0,i.onlyView?i.$store.dispatch("viewFile",e).then(function(t){i.dialogPDFLoading=!1,e["eForm"]?i.pdfEform=!0:i.pdfEform=!1,document.getElementById("dialogPDFPreview"+i.id).src=t}):(e["id"]=i.id,i.$store.dispatch("putAlpacaForm",e).then(function(t){setTimeout(function(){i.$store.dispatch("viewFile",e).then(function(t){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+i.id).src=t})},1e3)}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))})},previewFormAlpaca:function(t,e){var i=this;i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&!e.removed&&(e["dossierId"]=i.thongTinHoSo.dossierId,i.onlyView?(t["editForm"]=!1,i.$store.dispatch("viewFile",e).then(function(a){e["eForm"]?i.pdfEform=!0:i.pdfEform=!1,document.getElementById("displayPDF"+t.dossierPartNo+i.id).src=a})):(e["id"]=i.id,i.$store.dispatch("putAlpacaForm",e).then(function(a){t["editForm"]=!1,setTimeout(function(){i.$store.dispatch("viewFile",e).then(function(t){document.getElementById("displayPDF"+e.dossierPartNo+i.id).src=t})},500)}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))})},deleteSingleFile:function(t,e){var i=this,a=confirm("Bạn có chắc chắn xóa file đính kèm ?");a&&(t["dossierId"]=i.thongTinHoSo.dossierId,i.$store.dispatch("deleteDossierFile",t).then(function(a){i.fileViews.splice(e,1),i.partView=t.dossierPartNo,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(e){i.dossierFilesItems=e,i.setDaKhai(t)})}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},viewFile:function(t){var e=this,i=this;i.dossierFilesItems.forEach(function(a){a["dossierId"]=i.thongTinHoSo.dossierId,a.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",a)})},setDaKhai:function(t){var e=this,i=e.dossierFilesItems.findIndex(function(e){return e.dossierPartNo===t.dossierPartNo});if(-1===i){for(var a=0;a<e.dossierTemplateItems.length;a++)if(e.dossierTemplateItems[a].partNo===t.dossierPartNo){e.dossierTemplateItems[a]["passRequired"]=!1;break}}else for(a=0;a<e.dossierTemplateItems.length;a++)if(e.dossierTemplateItems[a].partNo===t.dossierPartNo){e.dossierTemplateItems[a]["passRequired"]=!0;break}},checkPartType3:function(){var t=this;if(0!==t.dossierTemplateItems.length)for(var e=0;e<t.dossierTemplateItems.length;e++)if(3===t.dossierTemplateItems[e].partType)return!0;return!1},viewFile2:function(t){var e=this;if(0!==t.fileSize)if(t["eForm"]?e.pdfEform=!0:e.pdfEform=!1,"doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType||"mp3"===t.fileType||"mp4"===t.fileType){var i=e.initDataResource.dossierApi+"/"+e.thongTinHoSo.dossierId+"/files/"+t.referenceUid;window.open(i)}else t["dossierId"]=e.thongTinHoSo.dossierId,t.referenceUid?(e.dialogPDFLoading=!0,e.dialogPDF=!0,e.$store.dispatch("viewFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t})):(toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("File dữ liệu không tồn tại"))},attachToDossier:function(t,e){var i=this;console.log(t,e),t["dossierId"]=i.thongTinHoSo.dossierId,3!==t.partType&&(i.progressUploadPart=t.dossierFileId,i.$store.dispatch("copyFile",t).then(function(t){i.progressUploadPart="",i.dossierTemplateItems[e]["passRequired"]=!0,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(t){i.dossierFilesItems=t,i.recountFileTemplates()})}).catch(function(t){i.progressUploadPart="",toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Đính kèm tài liệu thất bại")}))},viewGiayToDaNop:function(t){var e=this;if(0!==t.fileSize)if(t["eForm"]?e.pdfEform=!0:e.pdfEform=!1,"doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType||"mp3"===t.fileType||"mp4"===t.fileType){var i=e.initDataResource.dossierApi+"/"+t.dossierId+"/files/"+t.referenceUid;window.open(i)}else t.referenceUid?(e.dialogPDFLoading=!0,e.dialogPDF=!0,e.$store.dispatch("viewFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t})):(toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("File dữ liệu không tồn tại"))},viewFileWithPartNo:function(t){var e=this;if(e.dossierFilesItems){var i=e.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});if(!i)return;e.fileViews=i,e.partView!==t.partNo?(e.stateView=!0,e.partView=t.partNo):(e.stateView=!e.stateView,e.partView=t.partNo)}},saveMark:function(){var t=this;t.dossierTemplateItems&&t.dossierTemplateItems.forEach(function(e,i){1===e.partType&&(e["dossierId"]=t.thongTinHoSo.dossierId,t.$store.dispatch("postDossierMark",e))})},changeFileMark:function(t,e){var i=this;if(!i.onlyView){var a=i.dossierTemplateItems[e];a["dossierId"]=i.thongTinHoSo.dossierId,a["fileMark"]=t,a["checkInput"]=i.checkInput,i.$store.dispatch("postDossierMark",a),i.dossierTemplateItems[e].fileMark=t}},changeFileCheck:function(t,e){var i=this,a=i.dossierTemplateItems[e];a["dossierId"]=i.thongTinHoSo.dossierId,a["fileCheck"]=t,a["checkInput"]=i.checkInput,2!==t?(a["fileComment"]="",i.$store.dispatch("postDossierMark",a),i.dossierTemplateItems[e].fileCheck=t):a["stateEditFileCheck"]=!0},changeFileComment:function(t,e){var i=this;null!==t.fileComment&&void 0!==t.fileComment&&""!==t.fileComment&&(t["dossierId"]=i.thongTinHoSo.dossierId,t["fileComment"]=t.fileComment,t["checkInput"]=i.checkInput,t["stateEditFileCheck"]=!t["stateEditFileCheck"],i.$store.dispatch("postDossierMark",t),i.dossierTemplateItems[e].fileComment=t.fileComment)},checkStyle:function(t){var e=this;if(1===e.checkInput)return"calc(100% - 140px)";var i=0;return 1===e.originality||1!==t.partType||e.thongTinHoSo.online||1===e.checkInput||(e.onlyView?i+=140:i+=240),t.fileCheck>0&&!e.thongTinHoSo.online&&(i+=20),t.fileCheck>0&&e.thongTinHoSo.online&&(i+=40),e.onlyView||(i+=90),"calc(100% - "+i+"px)"},checkVisibleTemp:function(t,e){var i=this;if(!i.onlyView)return!0;if(3===t.partType){if(i.dossierFilesItems.length>0){var a=i.dossierFilesItems.findIndex(function(e){return e.dossierPartNo===t.partNo});return-1!==a}return!1}return!0},changeStateViewResult:function(){var t=this;if(t.dossierFilesItems.length>0){var e=t.dossierFilesItems.findIndex(function(t){return 2===t.dossierPartType||7===t.dossierPartType});-1!==e?t.$emit("tp:change-state-view-result",!0):t.$emit("tp:change-state-view-result",!1)}else(t.partTypes.includes(2)||t.partTypes.includes(7))&&t.$emit("tp:change-state-view-result",!1)},changeOtherDossierTemp:function(t){var e=this;if(3===e.originality&&e.stateAddFileOther)e.loadingAddOther=!0,e.$store.dispatch("uploadSingleOtherFile",{dossierId:e.thongTinHoSo.dossierId,displayName:t,partNo:e.dossierTemplatesItemSelect.partNo}).then(function(t){e.loadingAddOther=!1,e.dialogAddOtherTemp=!1,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then(function(t){e.dossierFilesItems=t})}).catch(function(t){e.loadingAddOther=!1});else{var i=e.dossierTemplatesItemSelect;i["dossierId"]=e.thongTinHoSo.dossierId,i["displayName"]=t,i["dossierTemplateNo"]=e.thongTinHoSo.dossierTemplateNo,e.$store.dispatch("uploadSingleFile",i).then(function(t){e.progressUploadPart="",e.dialogAddOtherTemp=!1,e.$store.dispatch("loadDossierFiles",e.thongTinHoSo.dossierId).then(function(t){if(e.dossierFilesItems=t,e.recountFileTemplates(),e.stateView&&e.dossierFilesItems){var i=e.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.dossierTemplatesItemSelect.partNo&&!t.eForm});i&&(e.fileViews=i)}})}).catch(function(t){e.progressUploadPart=""})}},downloadFileTemplate:function(t,e){var i=this;if(i.fileTemplateItems.length>0){var a=i.fileTemplateItems.find(function(e){return t.fileTemplateNo===e.fileTemplateNo});if(a){var n=i.initDataResource.serviceInfoApi+"/"+i.serviceInfoId+"/filetemplates/"+a.fileTemplateNo;window.open(n)}else console.log("ko thay file")}},addOtherTemplate:function(){var t=this;t.$refs.form.validate()&&t.changeOtherDossierTemp(t.otherDossierTemplate)},editDisplayName:function(t,e){var i=this;i.dossierFileIdView!==t.dossierFileId?(i.dossierFileIdView=t.dossierFileId,i.stateEdit=!0):(i.dossierFileIdView=t.dossierFileId,i.stateEdit=!i.stateEdit)},cancelDialog:function(){var t=this;t.dialogAddOtherTemp=!1,t.progressUploadPart=""},addFileOther:function(t){var e=this;e.dialogAddOtherTemp=!0,e.stateAddFileOther=!0,e.dossierTemplatesItemSelect=t},validDossierTemplate:function(){var t=this;if(t.dossierTemplateItems.length>0){for(var e=0;e<t.dossierTemplateItems.length;e++)if(t.dossierTemplateItems[e]["required"]&&!t.dossierTemplateItems[e]["passRequired"]&&t.partTypes.includes(t.dossierTemplateItems[e].partType)){var i="Chú ý :"+t.dossierTemplateItems[e].partName+" là thành phần bắt buộc!";return toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error(i),!1}return!0}return!0},changeDisplayName:function(t,e){var i=this,a={dossierId:i.thongTinHoSo.dossierId,value:value};i.$store.dispatch("changeDisplayNameFile",a).then(function(t){i.fileViews[e].displayName=t.displayName,i.stateEdit=!1}).catch(function(t){console.log("error")})},getDossierFileApplicants:function(t,e){var i=this,a={dossierId:i.thongTinHoSo.dossierId,applicantIdNo:t,fileTemplateNo:e};i.$store.dispatch("getDossierFilesApplicants",a).then(function(t){i.dossierFilesApplicant=t}).catch(function(t){console.log("error")})},showFilesApplicant:function(t){jquery__WEBPACK_IMPORTED_MODULE_13___default()("#fileApplicant-"+t).is(":visible")?jquery__WEBPACK_IMPORTED_MODULE_13___default()("#fileApplicant-"+t).hide():jquery__WEBPACK_IMPORTED_MODULE_13___default()("#fileApplicant-"+t).show()},checkKQhasFile:function(t){var e=this;if(e.partTypes.includes(2)){var i=e.dossierFilesItems.find(function(e){return t.partNo===e.dossierPartNo});return!!i}return!0},partNoApplicantHasFile:function(t){var e=this,i=e.dossierFilesApplicant.find(function(i){return i.dossierTemplateNo===e.thongTinHoSo["dossierTemplateNo"]&&i.dossierPartNo===t});return!!i},changeRecordCount:function(t){var e=this;if(!e.onlyView){var i=function(){e.doChange=setTimeout(function(){if(!e.onlyView&&Number(e.dossierTemplateItems[t]["recordCount"])>=0){var i=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},e.dossierTemplateItems[t],{dossierId:e.thongTinHoSo.dossierId});e.$store.dispatch("postDossierMark",i)}},3e3)};e.dossierTemplateItems[t].recordCount=e.dossierTemplateItems[t]["recordCount"]?e.dossierTemplateItems[t]["recordCount"]:"",clearTimeout(e.doChange),i()}},increaseCounter:function(t){var e=this;function i(){e.doChange=setTimeout(function(){if(!e.onlyView&&Number(e.dossierTemplateItems[t]["recordCount"])>=0){var i=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},e.dossierTemplateItems[t],{dossierId:e.thongTinHoSo.dossierId});e.$store.dispatch("postDossierMark",i)}},3e3)}e.dossierTemplateItems[t].recordCount=e.dossierTemplateItems[t]["recordCount"]?e.dossierTemplateItems[t]["recordCount"]:"",e.dossierTemplateItems[t]["recordCount"]=Number(e.dossierTemplateItems[t]["recordCount"])+1,clearTimeout(e.doChange),i()},decreaseCounter:function(t){var e=this;function i(){e.doChange=setTimeout(function(){if(!e.onlyView&&Number(e.dossierTemplateItems[t]["recordCount"])>=0){var i=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},e.dossierTemplateItems[t],{dossierId:e.thongTinHoSo.dossierId});e.$store.dispatch("postDossierMark",i)}},3e3)}e.dossierTemplateItems[t].recordCount=e.dossierTemplateItems[t]["recordCount"]?e.dossierTemplateItems[t]["recordCount"]:"",e.dossierTemplateItems[t]["recordCount"]=Number(e.dossierTemplateItems[t]["recordCount"])-1,clearTimeout(e.doChange),i()},getDocumentTypeIcon:function(t){var e="doc,docx",i="xls,xlsx",a="png,jpg,jpeg";return t?e.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:i.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===t.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:a.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:""}}}},"95d5":function(t,e,i){var a=i("40c3"),n=i("5168")("iterator"),s=i("481b");t.exports=i("584a").isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||s.hasOwnProperty(a(e))}},9684:function(t,e,i){},a4bb:function(t,e,i){t.exports=i("8aae")},a9b0:function(t,e,i){},bd86:function(t,e,i){"use strict";i.d(e,"a",function(){return s});var a=i("85f2"),n=i.n(a);function s(t,e,i){return e in t?n()(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},bf0b:function(t,e,i){var a=i("355d"),n=i("aebd"),s=i("36c3"),o=i("1bc3"),r=i("07e3"),l=i("794b"),c=Object.getOwnPropertyDescriptor;e.f=i("8e60")?c:function(t,e){if(t=s(t),e=o(e,!0),l)try{return c(t,e)}catch(i){}if(r(t,e))return n(!a.f.call(t,e),t[e])}},c23d:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"taotailieuketqua",staticStyle:{"background-color":"white",width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v(" Tài liệu kết quả\n      ")]),i("v-card",t._l(t.createFiles,function(e,a){return i("div",{key:e.partNo+"cr",staticClass:"form_alpaca",staticStyle:{position:"relative"}},[i("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",{attrs:{"hide-actions":"",value:!1}},[i("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(e){t.stateView=!1}},slot:"header"},[i("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:t.checkStyle(e)}},t._l(t.dossierFilesItems,function(a,n){return e.partNo+t.id===a.dossierPartNo+t.id?i("div",{key:n+"cr"},[i("div",{staticStyle:{width:"calc(100% - 370px)",display:"flex","align-items":"center",background:"#fff","padding-left":"25px","font-size":"12px"}},[i("span",{staticClass:"text-bold"},[t._v(t._s(n+1)+". ")]),i("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile2(a)}}},[a.eForm?i("v-icon",[t._v("border_color")]):i("v-icon",[t._v("attach_file")]),t._v("\n                        "+t._s(a.displayName)+" - \n                        "),i("i",[t._v(t._s(a.modifiedDate))])],1)])]):t._e()}),0)]),e.eForm?i("v-card",[i("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[e.daKhai&&e.eForm?i("v-btn",{attrs:{color:"primary"},on:{click:function(i){t.previewFileEfom(e,a)}}},[t._v("In")]):t._e(),i("div",{attrs:{id:"formAlpaca"+e.partNo+t.id}})],1)],1)],1)],1):t._e()],1)],1)],1)}),0),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("File đính kèm")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+t.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)],1)],1)},n=[],s=i("f716"),o=s["a"],r=i("2877"),l=i("6544"),c=i.n(l),d=i("8336"),u=i("b0af"),p=i("99d9"),h=i("169a"),f=i("cd55"),m=i("49e2"),_=i("0e8f"),g=i("132d"),v=i("a722"),y=i("490a"),b=i("9910"),T=i("71d9"),D=i("2a7f"),x=Object(r["a"])(o,a,n,!1,null,null,null);e["a"]=x.exports;c()(x,{VBtn:d["a"],VCard:u["a"],VCardText:p["b"],VDialog:h["a"],VExpansionPanel:f["a"],VExpansionPanelContent:m["a"],VFlex:_["a"],VIcon:g["a"],VLayout:v["a"],VProgressCircular:y["a"],VSpacer:b["a"],VToolbar:T["a"],VToolbarTitle:D["b"]})},c8bb:function(t,e,i){t.exports=i("54a1")},ccb9:function(t,e,i){e.f=i("5168")},ce7e:function(t,e,i){var a=i("63b6"),n=i("584a"),s=i("294c");t.exports=function(t,e){var i=(n.Object||{})[t]||Object[t],o={};o[t]=e(i),a(a.S+a.F*s(function(){i(1)}),"Object",o)}},d4c0a:function(t,e,i){},d80f:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticStyle:{width:"100%"}},["dieuchinhdulieu"!==t.type&&t.formBuilder.length>0?i("v-expansion-panel",{staticClass:"expansion-pl ext__form",attrs:{value:t.panel,expand:""}},t._l(t.formBuilder,function(e,a){return i("v-expansion-panel-content",{key:a},[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),t._v("\n      "+t._s(e.fieldLabel)+" "),!0===e.required||"true"===e.required?i("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e()]),i("v-card",[i("v-card-text",{staticClass:"py-2 px-2"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"mx-3",attrs:{xs12:""}},["textarea"===e.fieldType?i("v-text-field",{attrs:{box:"",id:e.fieldName,value:e.value,placeholder:e.placeholder,"multi-line":"",rules:!0===e.required||"true"===e.required?[t.rules.required]:[],required:!0===e.required||"true"===e.required},on:{input:function(i){t.inputChangeValue(e)}}}):t._e(),"string"===e.fieldType?i("v-text-field",{attrs:{box:"",id:e.fieldName,value:e.value,placeholder:e.placeholder,rules:!0===e.required||"true"===e.required?[t.rules.required]:[],required:!0===e.required||"true"===e.required},on:{input:function(i){t.inputChangeValue(e)}}}):t._e(),"number"===e.fieldType?i("v-text-field",{attrs:{box:"",id:e.fieldName,value:e.value,placeholder:e.placeholder,rules:!0===e.required||"true"===e.required?[t.rules.required]:[t.rules.number],required:!0===e.required||"true"===e.required},on:{input:function(i){t.inputChangeValue(e)}}}):t._e(),"date"===e.fieldType?i("v-layout",{staticClass:"pl-2",attrs:{wrap:""}},[i("v-icon",{attrs:{color:"blue"}},[t._v("event")]),i("vue-ctk-date-time-picker",{ref:"datepicker",refInFor:!0,staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{label:e.value?"":"Chọn ngày",id:e.fieldName,formatted:"DD/MM/YYYY HH:mm",format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","min-date":t.getCurentDateTime(),"without-header":!0},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}})],1):t._e()],1)],1)],1),i("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-date-picker",{attrs:{"full-width":"",landscape:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),i("v-card-actions",{staticStyle:{background:"#fff"}},[i("v-spacer"),i("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.pickDateCustom}},[t._v("\n              Xác nhận\n            ")])],1)],1)],1)],1)}),1):t._e(),"dieuchinhdulieu"===t.type?i("div",{staticClass:"ext__form px-3"},[t._l(t.formBuilder,function(e,a){return t.formBuilder.length>0?i("div",{key:a,staticClass:"mb-2",attrs:{"hide-actions":""}},[i("div",{staticClass:"py-1",staticStyle:{"border-bottom":"1px solid #8a898942"}},[i("span",{staticClass:"text-bold"},[t._v(t._s(a+1)+". ")]),t._v(t._s(e.fieldLabel)+" "),!0===e.required||"true"===e.required?i("span",{staticStyle:{color:"red"}},[t._v(" *")]):t._e()]),i("v-form",{ref:"form",refInFor:!0,attrs:{"lazy-validation":""},model:{value:t.valid2,callback:function(e){t.valid2=e},expression:"valid2"}},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"px-3 mt-2",attrs:{xs12:""}},["textarea"===e.fieldType?i("v-text-field",{attrs:{box:"",id:e.fieldName,value:e.value,placeholder:e.placeholder,"multi-line":"",rules:!0===e.required||"true"===e.required?[t.rules.required]:[],required:!0===e.required||"true"===e.required},on:{input:function(i){t.inputChangeValue(e)}}}):t._e()],1),i("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["string"===e.fieldType?i("v-text-field",{attrs:{box:"",id:e.fieldName,value:e.value,placeholder:e.placeholder,rules:!0===e.required||"true"===e.required?[t.rules.required]:[],required:!0===e.required||"true"===e.required},on:{input:function(i){t.inputChangeValue(e)}}}):t._e()],1),i("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["number"===e.fieldType?i("v-text-field",{attrs:{box:"",id:e.fieldName,value:e.value,placeholder:e.placeholder,rules:!0===e.required||"true"===e.required?[t.rules.required]:[t.rules.number],required:!0===e.required||"true"===e.required},on:{input:function(i){t.inputChangeValue(e)}}}):t._e()],1),i("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["date"===e.fieldType?i("v-layout",{staticClass:"mt-2",attrs:{wrap:""}},[i("v-icon",{attrs:{color:"blue"}},[t._v("event")]),i("vue-ctk-date-time-picker",{ref:"datepicker",refInFor:!0,staticClass:"ml-2",staticStyle:{width:"auto!important"},attrs:{label:e.value?"":"Chọn ngày",id:e.fieldName,formatted:"DD/MM/YYYY HH:mm",format:"YYYY-MM-DDTHH:mm","time-format":"HH:mm","without-header":!0},model:{value:e.value,callback:function(i){t.$set(e,"value",i)},expression:"item.value"}})],1):t._e()],1),i("v-flex",{staticClass:"px-3",attrs:{xs12:""}},["status"===e.fieldType?i("v-text-field",{attrs:{box:"",id:e.fieldName,value:e.value,placeholder:e.placeholder,rules:!0===e.required||"true"===e.required?[t.rules.required]:[],required:!0===e.required||"true"===e.required},on:{input:function(i){t.inputChangeValue(e)}}}):t._e()],1)],1)],1),i("v-dialog",{attrs:{width:"500"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[i("v-date-picker",{attrs:{"full-width":"",landscape:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}}),i("v-card-actions",{staticStyle:{background:"#fff"}},[i("v-spacer"),i("v-btn",{attrs:{color:"primary",flat:""},on:{click:t.pickDateCustom}},[t._v("\n            Xác nhận\n          ")])],1)],1)],1):t._e()}),0===t.formBuilder.length?i("div",[i("v-alert",{attrs:{outline:"",color:"warning",icon:"priority_high",value:!0}},[t._v("\n        Không có form điều chỉnh dữ liệu\n      ")])],1):t._e()],2):t._e()],1)},n=[],s=(i("28a5"),i("768b")),o=(i("6b54"),i("f576"),i("ac6a"),i("a745")),r=i.n(o);function l(t){if(r()(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var c=i("774e"),d=i.n(c),u=i("c8bb"),p=i.n(u);function h(t){if(p()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return d()(t)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function m(t){return l(t)||h(t)||f()}i("c5f6");var _=i("e30a"),g=i.n(_),v={components:{"vue-ctk-date-time-picker":g.a},props:{dossier_id:{type:Number},action_id:{type:Number},type:{type:String,default:function(){return""}}},data:function(){return{itemId:null,fieldNameID:"",date:null,dialog:!1,formBuilder:[],panel:[],valid:!1,valid2:!1,rulesValid:{number:function(t){var e=/^\d+$/;return e.test(t)||"Kiểu dữ liệu sai định dạng."}},rules:{required:function(t){return!!t||"Trường dữ liệu bắt buộc"},number:function(t){var e=/^\d+$/;return e.test(t)||"Kiểu dữ liệu sai định dạng."}}}},watch:{dossier_id:function(){var t=this,e={dossierId:t.dossier_id,actionId:t.action_id};t.$store.dispatch("getExtraForm",e).then(function(e){if(t.formBuilder=e,t.formBuilder.length>0)for(var i in t.formBuilder)"date"===t.formBuilder[i]["fieldType"]&&t.formBuilder[i]["value"]&&isNaN(new Date(t.formBuilder[i]["value"]).getTime())?t.formBuilder[i]["value"]="":"date"===t.formBuilder[i]["fieldType"]&&t.formBuilder[i]["value"]&&!isNaN(new Date(t.formBuilder[i]["value"]).getTime())&&(t.formBuilder[i]["value"]=new Date(t.formBuilder[i]["value"]))}).catch(function(){t.formBuilder=[]})},formBuilder:function(){var t=this;t.allExpand(t.formBuilder)}},created:function(){var t=this;t.$nextTick(function(){var e={dossierId:t.dossier_id,actionId:t.action_id};e["dossierId"]&&e["actionId"]&&t.$store.dispatch("getExtraForm",e).then(function(e){if(t.formBuilder=e,t.formBuilder.length>0){for(var i in t.formBuilder)"date"===t.formBuilder[i]["fieldType"]&&t.formBuilder[i]["value"]&&isNaN(new Date(t.formBuilder[i]["value"]).getTime())?t.formBuilder[i]["value"]="":"date"===t.formBuilder[i]["fieldType"]&&t.formBuilder[i]["value"]&&!isNaN(new Date(t.formBuilder[i]["value"]).getTime())&&(t.formBuilder[i]["value"]=new Date(t.formBuilder[i]["value"]));t.allExpand(t.formBuilder)}})})},methods:{allExpand:function(t){var e=this;e.panel=m(Array(t.length).keys()).map(function(t){return!0})},openDialogCustom:function(t,e){var i=this;i.dialog=!0,i.fieldNameID=e,i.itemId=t},pickDateCustom:function(){var t=this;console.log(t.date),t.date&&(t.itemId.value=new Date(t.date)),t.dialog=!1},inputChangeValue:function(t){t.value=document.getElementById(t.fieldName).value},showDatePicker:function(){this.$refs.datepicker.showDatePicker()},dateTimeView:function(t){if(t){var e=new Date(t);return"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear())}return""},parseCurrentDate:function(t){if(!t)return null;var e=t.split("/"),i=Object(s["a"])(e,3),a=i[0],n=i[1],o=i[2];return"".concat(o,"-").concat(n.padStart(2,"0"),"-").concat(a.padStart(2,"0"))},checkValid:function(){var t=this,e=!0;if(t.formBuilder.length>0)for(var i in t.formBuilder)if((!0===t.formBuilder[i]["required"]||"true"===t.formBuilder[i]["required"])&&!t.formBuilder[i]["value"])return e=!1,alert(t.formBuilder[i]["fieldLabel"]+" là bắt buộc!"),e;return e},formSubmitData:function(){var t=this,e={};if(t.formBuilder.length>0)for(var i in t.formBuilder){var a=t.formBuilder[i].value;"date"===t.formBuilder[i].fieldType&&(a=new Date(t.formBuilder[i].value).getTime()?new Date(t.formBuilder[i].value).getTime():""),e[t.formBuilder[i].fieldName]=a}else e="";return e},getCurentDateTime:function(){var t=new Date;return"".concat(t.getFullYear(),"-").concat((t.getMonth()+1).toString().padStart(2,"0"),"-").concat(t.getDate().toString().padStart(2,"0"))}},filters:{parseDate:function(t){if(!t)return"";var e="";return e=isNaN(Number(t))?new Date(t):new Date(Number(t)),e?"".concat(e.getDate().toString().padStart(2,"0"),"/").concat((e.getMonth()+1).toString().padStart(2,"0"),"/").concat(e.getFullYear()," ").concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0")):""}}},y=v,b=i("2877"),T=i("6544"),D=i.n(T),x=i("0798"),C=i("8336"),S=i("b0af"),w=i("99d9"),P=(i("63ff"),i("9d26")),k=i("b64a"),F=i("58df"),E=Object(F["a"])(k["a"]).extend({methods:{genPickerButton:function(t,e,i){var a=this,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=this[t]===e,r=function(i){i.stopPropagation(),a.$emit("update:"+t,e)};return this.$createElement("div",{staticClass:("v-picker__title__btn "+s).trim(),class:{"v-picker__title__btn--active":o,"v-picker__title__btn--readonly":n},on:o||n?void 0:{click:r}},Array.isArray(i)?i:[i])}}}),I=Object(F["a"])(E).extend({name:"v-date-picker-title",props:{date:{type:String,default:""},disabled:Boolean,readonly:Boolean,selectingYear:Boolean,value:{type:String},year:{type:[Number,String],default:""},yearIcon:{type:String}},data:function(){return{isReversing:!1}},computed:{computedTransition:function(){return this.isReversing?"picker-reverse-transition":"picker-transition"}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genYearIcon:function(){return this.$createElement(P["a"],{props:{dark:!0}},this.yearIcon)},getYearBtn:function(){return this.genPickerButton("selectingYear",!0,[String(this.year),this.yearIcon?this.genYearIcon():null],!1,"v-date-picker-title__year")},genTitleText:function(){return this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("div",{domProps:{innerHTML:this.date||"&nbsp;"},key:this.value})])},genTitleDate:function(){return this.genPickerButton("selectingYear",!1,[this.genTitleText()],!1,"v-date-picker-title__date")}},render:function(t){return t("div",{staticClass:"v-date-picker-title",class:{"v-date-picker-title--disabled":this.disabled}},[this.getYearBtn(),this.genTitleDate()])}}),O=(i("dc28"),i("afdd")),N=i("6a18"),A=function(t,e,i){return e>>=0,t=String(t),i=String(i),t.length>e?String(t):(e-=t.length,e>i.length&&(i+=i.repeat(e/i.length)),i.slice(0,e)+String(t))},M=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return A(t,e,"0")},$=function(){function t(t,e){var i=[],a=!0,n=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0)if(i.push(o.value),e&&i.length===e)break}catch(l){n=!0,s=l}finally{try{!a&&r["return"]&&r["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function j(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{start:0,length:0},a=function(t){var e=t.trim().split(" ")[0].split("-"),i=$(e,3),a=i[0],n=i[1],s=i[2];return[M(a,4),M(n||1),M(s||1)].join("-")};try{var n=new Intl.DateTimeFormat(t||void 0,e);return function(t){return n.format(new Date(a(t)+"T00:00:00+00:00"))}}catch(s){return i.start||i.length?function(t){return a(t).substr(i.start||0,i.length)}:void 0}}var B=j,V=function(){function t(t,e){var i=[],a=!0,n=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0)if(i.push(o.value),e&&i.length===e)break}catch(l){n=!0,s=l}finally{try{!a&&r["return"]&&r["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),H=function(t,e){var i=t.split("-").map(Number),a=V(i,2),n=a[0],s=a[1];return s+e===0?n-1+"-12":s+e===13?n+1+"-01":n+"-"+M(s+e)},U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},L=function(){function t(t,e){var i=[],a=!0,n=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0)if(i.push(o.value),e&&i.length===e)break}catch(l){n=!0,s=l}finally{try{!a&&r["return"]&&r["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),R=Object(F["a"])(k["a"],N["a"]).extend({name:"v-date-picker-header",props:{disabled:Boolean,format:Function,locale:{type:String,default:"en-us"},min:String,max:String,nextIcon:{type:String,default:"$vuetify.icons.next"},prevIcon:{type:String,default:"$vuetify.icons.prev"},readonly:Boolean,value:{type:[Number,String],required:!0}},data:function(){return{isReversing:!1}},computed:{formatter:function(){return this.format?this.format:String(this.value).split("-")[1]?B(this.locale,{month:"long",year:"numeric",timeZone:"UTC"},{length:7}):B(this.locale,{year:"numeric",timeZone:"UTC"},{length:4})}},watch:{value:function(t,e){this.isReversing=t<e}},methods:{genBtn:function(t){var e=this,i=this.disabled||t<0&&this.min&&this.calculateChange(t)<this.min||t>0&&this.max&&this.calculateChange(t)>this.max;return this.$createElement(O["a"],{props:{dark:this.dark,disabled:i,icon:!0,light:this.light},nativeOn:{click:function(i){i.stopPropagation(),e.$emit("input",e.calculateChange(t))}}},[this.$createElement(P["a"],t<0===!this.$vuetify.rtl?this.prevIcon:this.nextIcon)])},calculateChange:function(t){var e=String(this.value).split("-").map(Number),i=L(e,2),a=i[0],n=i[1];return null==n?""+(a+t):H(String(this.value),t)},genHeader:function(){var t=this,e=!this.disabled&&(this.color||"accent"),i=this.$createElement("div",this.setTextColor(e,{key:String(this.value)}),[this.$createElement("button",{attrs:{type:"button"},on:{click:function(){return t.$emit("toggle")}}},[this.$slots.default||this.formatter(String(this.value))])]),a=this.$createElement("transition",{props:{name:this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"}},[i]);return this.$createElement("div",{staticClass:"v-date-picker-header__value",class:{"v-date-picker-header__value--disabled":this.disabled}},[a])}},render:function(){return this.$createElement("div",{staticClass:"v-date-picker-header",class:U({"v-date-picker-header--disabled":this.disabled},this.themeClasses)},[this.genBtn(-1),this.genHeader(),this.genBtn(1)])}}),K=(i("9684"),i("c341"));function q(t,e,i,a){return(!a||a(t))&&(!e||t>=e)&&(!i||t<=i)}var W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t},Y=Object(F["a"])(k["a"],N["a"]).extend({directives:{Touch:K["a"]},props:{allowedDates:Function,current:String,disabled:Boolean,format:Function,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},locale:{type:String,default:"en-us"},min:String,max:String,readonly:Boolean,scrollable:Boolean,tableDate:{type:String,required:!0},value:[String,Array]},data:function(){return{isReversing:!1}},computed:{computedTransition:function(){return this.isReversing===!this.$vuetify.rtl?"tab-reverse-transition":"tab-transition"},displayedMonth:function(){return Number(this.tableDate.split("-")[1])-1},displayedYear:function(){return Number(this.tableDate.split("-")[0])}},watch:{tableDate:function(t,e){this.isReversing=t<e}},methods:{genButtonClasses:function(t,e,i,a){return W({"v-btn--active":i,"v-btn--flat":!i,"v-btn--icon":i&&t&&e,"v-btn--floating":e,"v-btn--depressed":!e&&i,"v-btn--disabled":!t||this.disabled&&i,"v-btn--outline":a&&!i},this.themeClasses)},genButtonEvents:function(t,e,i){var a=this;if(!this.disabled)return{click:function(){e&&!a.readonly&&a.$emit("input",t),a.$emit("click:"+i,t)},dblclick:function(){return a.$emit("dblclick:"+i,t)}}},genButton:function(t,e,i,a){var n=q(t,this.min,this.max,this.allowedDates),s=t===this.value||Array.isArray(this.value)&&-1!==this.value.indexOf(t),o=t===this.current,r=s?this.setBackgroundColor:this.setTextColor,l=(s||o)&&(this.color||"accent");return this.$createElement("button",r(l,{staticClass:"v-btn",class:this.genButtonClasses(n,e,s,o),attrs:{type:"button"},domProps:{disabled:this.disabled||!n},on:this.genButtonEvents(t,n,i)}),[this.$createElement("div",{staticClass:"v-btn__content"},[a(t)]),this.genEvents(t)])},getEventColors:function(t){var e=function(t){return Array.isArray(t)?t:[t]},i=void 0,a=[];return i=Array.isArray(this.events)?this.events.includes(t):this.events instanceof Function?this.events(t)||!1:this.events&&this.events[t]||!1,i?(a=!0!==i?e(i):"string"===typeof this.eventColor?[this.eventColor]:"function"===typeof this.eventColor?e(this.eventColor(t)):Array.isArray(this.eventColor)?this.eventColor:e(this.eventColor[t]),a.filter(function(t){return t})):[]},genEvents:function(t){var e=this,i=this.getEventColors(t);return i.length?this.$createElement("div",{staticClass:"v-date-picker-table__events"},i.map(function(t){return e.$createElement("div",e.setBackgroundColor(t))})):null},wheel:function(t,e){t.preventDefault(),this.$emit("tableDate",e(t.deltaY))},touch:function(t,e){this.$emit("tableDate",e(t))},genTable:function(t,e,i){var a=this,n=this.$createElement("transition",{props:{name:this.computedTransition}},[this.$createElement("table",{key:this.tableDate},e)]),s={name:"touch",value:{left:function(t){return t.offsetX<-15&&a.touch(1,i)},right:function(t){return t.offsetX>15&&a.touch(-1,i)}}};return this.$createElement("div",{staticClass:t,class:W({"v-date-picker-table--disabled":this.disabled},this.themeClasses),on:!this.disabled&&this.scrollable?{wheel:function(t){return a.wheel(t,i)}}:void 0,directives:[s]},[n])}}}),z=i("80d2"),G=Object(F["a"])(Y).extend({name:"v-date-picker-date-table",props:{firstDayOfWeek:{type:[String,Number],default:0},showWeek:Boolean,weekdayFormat:Function},computed:{formatter:function(){return this.format||B(this.locale,{day:"numeric",timeZone:"UTC"},{start:8,length:2})},weekdayFormatter:function(){return this.weekdayFormat||B(this.locale,{weekday:"narrow",timeZone:"UTC"})},weekDays:function(){var t=this,e=parseInt(this.firstDayOfWeek,10);return this.weekdayFormatter?Object(z["e"])(7).map(function(i){return t.weekdayFormatter("2017-01-"+(e+i+15))}):Object(z["e"])(7).map(function(t){return["S","M","T","W","T","F","S"][(t+e)%7]})}},methods:{calculateTableDate:function(t){return H(this.tableDate,Math.sign(t||1))},genTHead:function(){var t=this,e=this.weekDays.map(function(e){return t.$createElement("th",e)});return this.showWeek&&e.unshift(this.$createElement("th")),this.$createElement("thead",this.genTR(e))},weekDaysBeforeFirstDayOfTheMonth:function(){var t=new Date(this.displayedYear+"-"+M(this.displayedMonth+1)+"-01T00:00:00+00:00"),e=t.getUTCDay();return(e-parseInt(this.firstDayOfWeek)+7)%7},getWeekNumber:function(){var t=[0,31,59,90,120,151,181,212,243,273,304,334][this.displayedMonth];this.displayedMonth>1&&(this.displayedYear%4===0&&this.displayedYear%100!==0||this.displayedYear%400===0)&&t++;var e=(this.displayedYear+(this.displayedYear-1>>2)-Math.floor((this.displayedYear-1)/100)+Math.floor((this.displayedYear-1)/400)-Number(this.firstDayOfWeek))%7;return Math.floor((t+e)/7)+1},genWeekNumber:function(t){return this.$createElement("td",[this.$createElement("small",{staticClass:"v-date-picker-table--date__week"},String(t).padStart(2,"0"))])},genTBody:function(){var t=[],e=new Date(this.displayedYear,this.displayedMonth+1,0).getDate(),i=[],a=this.weekDaysBeforeFirstDayOfTheMonth(),n=this.getWeekNumber();this.showWeek&&i.push(this.genWeekNumber(n++));while(a--)i.push(this.$createElement("td"));for(a=1;a<=e;a++){var s=this.displayedYear+"-"+M(this.displayedMonth+1)+"-"+M(a);i.push(this.$createElement("td",[this.genButton(s,!0,"date",this.formatter)])),i.length%(this.showWeek?8:7)===0&&(t.push(this.genTR(i)),i=[],a<e&&this.showWeek&&i.push(this.genWeekNumber(n++)))}return i.length&&t.push(this.genTR(i)),this.$createElement("tbody",t)},genTR:function(t){return[this.$createElement("tr",t)]}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--date",[this.genTHead(),this.genTBody()],this.calculateTableDate)}}),J=Object(F["a"])(Y).extend({name:"v-date-picker-month-table",computed:{formatter:function(){return this.format||B(this.locale,{month:"short",timeZone:"UTC"},{start:5,length:2})}},methods:{calculateTableDate:function(t){return""+(parseInt(this.tableDate,10)+Math.sign(t||1))},genTBody:function(){for(var t=this,e=[],i=Array(3).fill(null),a=12/i.length,n=function(a){var n=i.map(function(e,n){var s=a*i.length+n,o=t.displayedYear+"-"+M(s+1);return t.$createElement("td",{key:s},[t.genButton(o,!1,"month",t.formatter)])});e.push(t.$createElement("tr",{key:a},n))},s=0;s<a;s++)n(s);return this.$createElement("tbody",e)}},render:function(){return this.genTable("v-date-picker-table v-date-picker-table--month",[this.genTBody()],this.calculateTableDate)}}),X=(i("a9b0"),Object(F["a"])(k["a"]).extend({name:"v-date-picker-years",props:{format:Function,locale:{type:String,default:"en-us"},min:[Number,String],max:[Number,String],readonly:Boolean,value:[Number,String]},data:function(){return{defaultColor:"primary"}},computed:{formatter:function(){return this.format||B(this.locale,{year:"numeric",timeZone:"UTC"},{length:4})}},mounted:function(){var t=this;setTimeout(function(){var e=t.$el.getElementsByClassName("active")[0];t.$el.scrollTop=e?e.offsetTop-t.$el.offsetHeight/2+e.offsetHeight/2:t.$el.scrollHeight/2-t.$el.offsetHeight/2})},methods:{genYearItem:function(t){var e=this,i=this.formatter(""+t),a=parseInt(this.value,10)===t,n=a&&(this.color||"primary");return this.$createElement("li",this.setTextColor(n,{key:t,class:{active:a},on:{click:function(){return e.$emit("input",t)}}}),i)},genYearItems:function(){for(var t=[],e=this.value?parseInt(this.value,10):(new Date).getFullYear(),i=this.max?parseInt(this.max,10):e+100,a=Math.min(i,this.min?parseInt(this.min,10):e-100),n=i;n>=a;n--)t.push(this.genYearItem(n));return t}},render:function(){return this.$createElement("ul",{staticClass:"v-date-picker-years",ref:"years"},this.genYearItems())}})),Q=(i("d9a2"),i("4c94"),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a])}return t}),Z=Object(F["a"])(k["a"],N["a"]).extend({name:"v-picker",props:{fullWidth:Boolean,landscape:Boolean,transition:{type:String,default:"fade-transition"},width:{type:[Number,String],default:290}},computed:{computedTitleColor:function(){var t=!this.isDark&&(this.color||"primary");return this.color||t}},methods:{genTitle:function(){return this.$createElement("div",this.setBackgroundColor(this.computedTitleColor,{staticClass:"v-picker__title",class:{"v-picker__title--landscape":this.landscape}}),this.$slots.title)},genBodyTransition:function(){return this.$createElement("transition",{props:{name:this.transition}},this.$slots.default)},genBody:function(){return this.$createElement("div",{staticClass:"v-picker__body",class:this.themeClasses,style:this.fullWidth?void 0:{width:Object(z["c"])(this.width)}},[this.genBodyTransition()])},genActions:function(){return this.$createElement("div",{staticClass:"v-picker__actions v-card__actions"},this.$slots.actions)}},render:function(t){return t("div",{staticClass:"v-picker v-card",class:Q({"v-picker--landscape":this.landscape,"v-picker--full-width":this.fullWidth},this.themeClasses)},[this.$slots.title?this.genTitle():null,this.genBody(),this.$slots.actions?this.genActions():null])}}),tt=Z,et=Object(F["a"])(k["a"],N["a"]).extend({name:"picker",props:{fullWidth:Boolean,headerColor:String,landscape:Boolean,noTitle:Boolean,width:{type:[Number,String],default:290}},methods:{genPickerTitle:function(){return null},genPickerBody:function(){return null},genPickerActionsSlot:function(){return this.$scopedSlots.default?this.$scopedSlots.default({save:this.save,cancel:this.cancel}):this.$slots.default},genPicker:function(t){var e=[];if(!this.noTitle){var i=this.genPickerTitle();i&&e.push(i)}var a=this.genPickerBody();return a&&e.push(a),e.push(this.$createElement("template",{slot:"actions"},[this.genPickerActionsSlot()])),this.$createElement(tt,{staticClass:t,props:{color:this.headerColor||this.color,dark:this.dark,fullWidth:this.fullWidth,landscape:this.landscape,light:this.light,width:this.width}},e)}}}),it=i("d9bd"),at=("function"===typeof Symbol&&Symbol.iterator,[0,31,28,31,30,31,30,31,31,30,31,30,31]),nt=[0,31,29,31,30,31,30,31,31,30,31,30,31];function st(t){return t%4===0&&t%100!==0||t%400===0}function ot(t,e){return st(t)?nt[e]:at[e]}var rt=function(){function t(t,e){var i=[],a=!0,n=!1,s=void 0;try{for(var o,r=t[Symbol.iterator]();!(a=(o=r.next()).done);a=!0)if(i.push(o.value),e&&i.length===e)break}catch(l){n=!0,s=l}finally{try{!a&&r["return"]&&r["return"]()}finally{if(n)throw s}}return i}return function(e,i){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,i);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function lt(t,e){var i=t.split("-"),a=rt(i,3),n=a[0],s=a[1],o=void 0===s?1:s,r=a[2],l=void 0===r?1:r;return(n+"-"+M(o)+"-"+M(l)).substr(0,{date:10,month:7,year:4}[e])}var ct=Object(F["a"])(et).extend({name:"v-date-picker",props:{allowedDates:Function,dayFormat:Function,disabled:Boolean,events:{type:[Array,Function,Object],default:function(){return null}},eventColor:{type:[Array,Function,Object,String],default:function(){return"warning"}},firstDayOfWeek:{type:[String,Number],default:0},headerDateFormat:Function,locale:{type:String,default:"en-us"},max:String,min:String,monthFormat:Function,multiple:Boolean,nextIcon:{type:String,default:"$vuetify.icons.next"},pickerDate:String,prevIcon:{type:String,default:"$vuetify.icons.prev"},reactive:Boolean,readonly:Boolean,scrollable:Boolean,showCurrent:{type:[Boolean,String],default:!0},showWeek:Boolean,titleDateFormat:Function,type:{type:String,default:"date",validator:function(t){return["date","month"].includes(t)}},value:[Array,String],weekdayFormat:Function,yearFormat:Function,yearIcon:String},data:function(){var t=this,e=new Date;return{activePicker:this.type.toUpperCase(),inputDay:null,inputMonth:null,inputYear:null,isReversing:!1,now:e,tableDate:function(){if(t.pickerDate)return t.pickerDate;var i=(t.multiple?t.value[t.value.length-1]:t.value)||e.getFullYear()+"-"+(e.getMonth()+1);return lt(i,"date"===t.type?"month":"year")}()}},computed:{lastValue:function(){return this.multiple?this.value[this.value.length-1]:this.value},selectedMonths:function(){return this.value&&this.value.length&&"month"!==this.type?this.multiple?this.value.map(function(t){return t.substr(0,7)}):this.value.substr(0,7):this.value},current:function(){return!0===this.showCurrent?lt(this.now.getFullYear()+"-"+(this.now.getMonth()+1)+"-"+this.now.getDate(),this.type):this.showCurrent||null},inputDate:function(){return"date"===this.type?this.inputYear+"-"+M(this.inputMonth+1)+"-"+M(this.inputDay):this.inputYear+"-"+M(this.inputMonth+1)},tableMonth:function(){return Number((this.pickerDate||this.tableDate).split("-")[1])-1},tableYear:function(){return Number((this.pickerDate||this.tableDate).split("-")[0])},minMonth:function(){return this.min?lt(this.min,"month"):null},maxMonth:function(){return this.max?lt(this.max,"month"):null},minYear:function(){return this.min?lt(this.min,"year"):null},maxYear:function(){return this.max?lt(this.max,"year"):null},formatters:function(){return{year:this.yearFormat||B(this.locale,{year:"numeric",timeZone:"UTC"},{length:4}),titleDate:this.titleDateFormat||(this.multiple?this.defaultTitleMultipleDateFormatter:this.defaultTitleDateFormatter)}},defaultTitleMultipleDateFormatter:function(){var t=this;return this.value.length<2?function(e){return e.length?t.defaultTitleDateFormatter(e[0]):"0 selected"}:function(t){return t.length+" selected"}},defaultTitleDateFormatter:function(){var t={year:{year:"numeric",timeZone:"UTC"},month:{month:"long",timeZone:"UTC"},date:{weekday:"short",month:"short",day:"numeric",timeZone:"UTC"}},e=B(this.locale,t[this.type],{start:0,length:{date:10,month:7,year:4}[this.type]}),i=function(t){return e(t).replace(/([^\d\s])([\d])/g,function(t,e,i){return e+" "+i}).replace(", ",",<br>")};return this.landscape?i:e}},watch:{tableDate:function(t,e){var i="month"===this.type?"year":"month";this.isReversing=lt(t,i)<lt(e,i),this.$emit("update:pickerDate",t)},pickerDate:function(t){t?this.tableDate=t:this.lastValue&&"date"===this.type?this.tableDate=lt(this.lastValue,"month"):this.lastValue&&"month"===this.type&&(this.tableDate=lt(this.lastValue,"year"))},value:function(t,e){this.checkMultipleProp(),this.setInputDate(),this.multiple||!this.value||this.pickerDate?this.multiple&&this.value.length&&!e.length&&!this.pickerDate&&(this.tableDate=lt(this.inputDate,"month"===this.type?"year":"month")):this.tableDate=lt(this.inputDate,"month"===this.type?"year":"month")},type:function(t){if(this.activePicker=t.toUpperCase(),this.value&&this.value.length){var e=(this.multiple?this.value:[this.value]).map(function(e){return lt(e,t)}).filter(this.isDateAllowed);this.$emit("input",this.multiple?e:e[0])}}},created:function(){this.checkMultipleProp(),this.pickerDate!==this.tableDate&&this.$emit("update:pickerDate",this.tableDate),this.setInputDate()},methods:{emitInput:function(t){var e=this.multiple?-1===this.value.indexOf(t)?this.value.concat([t]):this.value.filter(function(e){return e!==t}):t;this.$emit("input",e),this.multiple||this.$emit("change",t)},checkMultipleProp:function(){if(null!=this.value){var t=this.value.constructor.name,e=this.multiple?"Array":"String";t!==e&&Object(it["c"])("Value must be "+(this.multiple?"an":"a")+" "+e+", got "+t,this)}},isDateAllowed:function(t){return q(t,this.min,this.max,this.allowedDates)},yearClick:function(t){this.inputYear=t,"month"===this.type?this.tableDate=""+t:this.tableDate=t+"-"+M((this.tableMonth||0)+1),this.activePicker="MONTH",this.reactive&&!this.readonly&&!this.multiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)},monthClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,"date"===this.type?(this.inputDay&&(this.inputDay=Math.min(this.inputDay,ot(this.inputYear,this.inputMonth+1))),this.tableDate=t,this.activePicker="DATE",this.reactive&&!this.readonly&&!this.multiple&&this.isDateAllowed(this.inputDate)&&this.$emit("input",this.inputDate)):this.emitInput(this.inputDate)},dateClick:function(t){this.inputYear=parseInt(t.split("-")[0],10),this.inputMonth=parseInt(t.split("-")[1],10)-1,this.inputDay=parseInt(t.split("-")[2],10),this.emitInput(this.inputDate)},genPickerTitle:function(){var t=this;return this.$createElement(I,{props:{date:this.value?this.formatters.titleDate(this.value):"",disabled:this.disabled,readonly:this.readonly,selectingYear:"YEAR"===this.activePicker,year:this.formatters.year(this.value?""+this.inputYear:this.tableDate),yearIcon:this.yearIcon,value:this.multiple?this.value[0]:this.value},slot:"title",on:{"update:selectingYear":function(e){return t.activePicker=e?"YEAR":t.type.toUpperCase()}}})},genTableHeader:function(){var t=this;return this.$createElement(R,{props:{nextIcon:this.nextIcon,color:this.color,dark:this.dark,disabled:this.disabled,format:this.headerDateFormat,light:this.light,locale:this.locale,min:"DATE"===this.activePicker?this.minMonth:this.minYear,max:"DATE"===this.activePicker?this.maxMonth:this.maxYear,prevIcon:this.prevIcon,readonly:this.readonly,value:"DATE"===this.activePicker?M(this.tableYear,4)+"-"+M(this.tableMonth+1):""+M(this.tableYear,4)},on:{toggle:function(){return t.activePicker="DATE"===t.activePicker?"MONTH":"YEAR"},input:function(e){return t.tableDate=e}}})},genDateTable:function(){var t=this;return this.$createElement(G,{props:{allowedDates:this.allowedDates,color:this.color,current:this.current,dark:this.dark,disabled:this.disabled,events:this.events,eventColor:this.eventColor,firstDayOfWeek:this.firstDayOfWeek,format:this.dayFormat,light:this.light,locale:this.locale,min:this.min,max:this.max,readonly:this.readonly,scrollable:this.scrollable,showWeek:this.showWeek,tableDate:M(this.tableYear,4)+"-"+M(this.tableMonth+1),value:this.value,weekdayFormat:this.weekdayFormat},ref:"table",on:{input:this.dateClick,tableDate:function(e){return t.tableDate=e},"click:date":function(e){return t.$emit("click:date",e)},"dblclick:date":function(e){return t.$emit("dblclick:date",e)}}})},genMonthTable:function(){var t=this;return this.$createElement(J,{props:{allowedDates:"month"===this.type?this.allowedDates:null,color:this.color,current:this.current?lt(this.current,"month"):null,dark:this.dark,disabled:this.disabled,events:"month"===this.type?this.events:null,eventColor:"month"===this.type?this.eventColor:null,format:this.monthFormat,light:this.light,locale:this.locale,min:this.minMonth,max:this.maxMonth,readonly:this.readonly&&"month"===this.type,scrollable:this.scrollable,value:this.selectedMonths,tableDate:""+M(this.tableYear,4)},ref:"table",on:{input:this.monthClick,tableDate:function(e){return t.tableDate=e},"click:month":function(e){return t.$emit("click:month",e)},"dblclick:month":function(e){return t.$emit("dblclick:month",e)}}})},genYears:function(){return this.$createElement(X,{props:{color:this.color,format:this.yearFormat,locale:this.locale,min:this.minYear,max:this.maxYear,value:this.tableYear},on:{input:this.yearClick}})},genPickerBody:function(){var t="YEAR"===this.activePicker?[this.genYears()]:[this.genTableHeader(),"DATE"===this.activePicker?this.genDateTable():this.genMonthTable()];return this.$createElement("div",{key:this.activePicker},t)},setInputDate:function(){if(this.lastValue){var t=this.lastValue.split("-");this.inputYear=parseInt(t[0],10),this.inputMonth=parseInt(t[1],10)-1,"date"===this.type&&(this.inputDay=parseInt(t[2],10))}else this.inputYear=this.inputYear||this.now.getFullYear(),this.inputMonth=null==this.inputMonth?this.inputMonth:this.now.getMonth(),this.inputDay=this.inputDay||this.now.getDate()}},render:function(){return this.genPicker("v-picker--date")}}),dt=i("169a"),ut=i("cd55"),pt=i("49e2"),ht=i("0e8f"),ft=i("4bd4"),mt=i("132d"),_t=i("a722"),gt=i("9910"),vt=i("2677"),yt=Object(b["a"])(y,a,n,!1,null,null,null);e["default"]=yt.exports;D()(yt,{VAlert:x["a"],VBtn:C["a"],VCard:S["a"],VCardActions:w["a"],VCardText:w["b"],VDatePicker:ct,VDialog:dt["a"],VExpansionPanel:ut["a"],VExpansionPanelContent:pt["a"],VFlex:ht["a"],VForm:ft["a"],VIcon:mt["a"],VLayout:_t["a"],VSpacer:gt["a"],VTextField:vt["a"]})},d8c5:function(t,e,i){(function(e,i){t.exports=i()})(0,function(){return function(t){var e={};function i(a){if(e[a])return e[a].exports;var n=e[a]={i:a,l:!1,exports:{}};return t[a].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=t,i.c=e,i.d=function(t,e,a){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(a,n,function(e){return t[e]}.bind(null,n));return a},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s="./src/index.js")}({"./src/core/helpers/dom.helper.js":
/*!****************************************!*\
  !*** ./src/core/helpers/dom.helper.js ***!
  \****************************************/
/*! exports provided: getDroptargets, getDraggables, setInitialAtributes, removeOldDropzoneAreaElements, getContainer, addDropeffects, clearDropeffects, hasModifier */function(t,e,i){"use strict";i.r(e),i.d(e,"getDroptargets",function(){return a}),i.d(e,"getDraggables",function(){return n}),i.d(e,"setInitialAtributes",function(){return s}),i.d(e,"removeOldDropzoneAreaElements",function(){return o}),i.d(e,"getContainer",function(){return r}),i.d(e,"addDropeffects",function(){return l}),i.d(e,"clearDropeffects",function(){return c}),i.d(e,"hasModifier",function(){return d});var a=function(t){return t.querySelectorAll(this.defaultOptions.dropzoneSelector)},n=function(t){return t.querySelectorAll(this.defaultOptions.draggableSelector)},s=function(t){this.targets=a.bind(this)(t),this.items=n.bind(this)(t);for(var e=0;e<this.targets.length;e++)this.targets[e].setAttribute("aria-dropeffect","none");for(var i=0;i<this.items.length;i++)this.items[i].setAttribute("draggable","true"),this.items[i].setAttribute("aria-grabbed","false"),this.items[i].setAttribute("tabindex","0")},o=function(){for(var t=document.querySelectorAll(".item-dropzone-area"),e=0;e<t.length;e++)t[e].remove()},r=function(t){var e=t;do{if(e&&1===e.nodeType&&e.getAttribute("aria-dropeffect"))return e}while(e=e?e.parentNode:null);return null},l=function(t,e,i){for(var a=i.length,n=0;n<a;n++)i[n]!==e.owner&&"none"===i[n].getAttribute("aria-dropeffect")&&(i[n].setAttribute("aria-dropeffect","move"),i[n].setAttribute("tabindex","0"));for(var s=t.length,o=0;o<s;o++)t[o].parentNode!==e.owner&&t[o].getAttribute("aria-grabbed")&&(t[o].removeAttribute("aria-grabbed"),t[o].removeAttribute("tabindex"))},c=function(t,e,i){if(e.items.length){for(var a=0;a<i.length;a++)"none"!==i[a].getAttribute("aria-dropeffect")&&(i[a].setAttribute("aria-dropeffect","none"),i[a].removeAttribute("tabindex"));for(var n=0;n<t.length;n++)t[n].getAttribute("aria-grabbed")?"true"===t[n].getAttribute("aria-grabbed")&&t[n].setAttribute("tabindex","0"):(t[n].setAttribute("aria-grabbed","false"),t[n].setAttribute("tabindex","0"))}},d=function(t){return t.ctrlKey||t.metaKey||t.shiftKey}},"./src/core/helpers/index.js":
/*!***********************************!*\
  !*** ./src/core/helpers/index.js ***!
  \***********************************/
/*! exports provided: getDroptargets, getDraggables, setInitialAtributes, removeOldDropzoneAreaElements, getContainer, addDropeffects, clearDropeffects, hasModifier, addSelection, removeSelection, clearSelections, stopDragAndDrop */function(t,e,i){"use strict";i.r(e);var a=i(/*! ./dom.helper */"./src/core/helpers/dom.helper.js");i.d(e,"getDroptargets",function(){return a["getDroptargets"]}),i.d(e,"getDraggables",function(){return a["getDraggables"]}),i.d(e,"setInitialAtributes",function(){return a["setInitialAtributes"]}),i.d(e,"removeOldDropzoneAreaElements",function(){return a["removeOldDropzoneAreaElements"]}),i.d(e,"getContainer",function(){return a["getContainer"]}),i.d(e,"addDropeffects",function(){return a["addDropeffects"]}),i.d(e,"clearDropeffects",function(){return a["clearDropeffects"]}),i.d(e,"hasModifier",function(){return a["hasModifier"]});var n=i(/*! ./state.helper */"./src/core/helpers/state.helper.js");i.d(e,"addSelection",function(){return n["addSelection"]}),i.d(e,"removeSelection",function(){return n["removeSelection"]}),i.d(e,"clearSelections",function(){return n["clearSelections"]}),i.d(e,"stopDragAndDrop",function(){return n["stopDragAndDrop"]})},"./src/core/helpers/state.helper.js":
/*!******************************************!*\
  !*** ./src/core/helpers/state.helper.js ***!
  \******************************************/
/*! exports provided: addSelection, removeSelection, clearSelections, stopDragAndDrop */function(t,e,i){"use strict";function a(t){return o(t)||s(t)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function o(t){if(Array.isArray(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}i.r(e),i.d(e,"addSelection",function(){return r}),i.d(e,"removeSelection",function(){return l}),i.d(e,"clearSelections",function(){return c}),i.d(e,"stopDragAndDrop",function(){return d});var r=function(t){this.selections.owner||(this.selections.owner=t.parentNode),(this.defaultOptions.multipleDropzonesItemsDraggingEnabled||this.selections.owner===t.parentNode)&&(t.setAttribute("aria-grabbed","true"),this.selections.items=a(this.selections.items).concat([t]))},l=function(t){t.setAttribute("aria-grabbed","false");for(var e=0;e<this.selections.items.length;e++)if(this.selections.items[e]===t){this.selections.items.splice(e,1);break}},c=function(){if(this.selections.items.length){this.selections.owner=null;for(var t=0;t<this.selections.items.length;t++)this.selections.items[t].setAttribute("aria-grabbed","false");this.selections.items=[]}},d=function(){throw new Error("Requested D&D stop...")}},"./src/core/index.js":
/*!***************************!*\
  !*** ./src/core/index.js ***!
  \***************************/
/*! exports provided: VueDraggable */function(t,e,i){"use strict";i.r(e),i.d(e,"VueDraggable",function(){return c});var a=i(/*! ./listeners */"./src/core/listeners/index.js"),n=i(/*! ./helpers */"./src/core/helpers/index.js"),s=i(/*! ./options */"./src/core/options.js"),o=i(/*! ./state */"./src/core/state.js");function r(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){l(t,e,i[e])})}return t}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var c=r({},s["VueDraggableOptions"],o["VueDraggableState"],{registerListeners:function(t){a["attachListeners"].bind(this)(t)},initiate:function(t){n["setInitialAtributes"].bind(this)(t)}})},"./src/core/listeners/handlers/dragend.handler.js":
/*!********************************************************!*\
  !*** ./src/core/listeners/handlers/dragend.handler.js ***!
  \********************************************************/
/*! exports provided: dragendHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragendHandler",function(){return o});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js");function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){s(t,e,i[e])})}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=function(t){if("function"===typeof this.defaultOptions.onDragend)try{this.defaultOptions.onDragend(n({nativeEvent:t,stop:a["stopDragAndDrop"]},this.selections))}catch(i){return void Object(a["removeOldDropzoneAreaElements"])()}if(this.selections.droptarget){for(var e=0;e<this.selections.items.length;e++)this.nextItemElement?this.selections.droptarget.insertBefore(this.selections.items[e],this.nextItemElement):this.selections.droptarget.appendChild(this.selections.items[e]);"function"===typeof this.defaultOptions.onDrop&&this.defaultOptions.onDrop(n({nativeEvent:t,stop:function(){throw new Error("Stop method is available only for callbacks\n                    'onDragstart' and 'onDragend'. For more info look at\n                    https://github.com/Vivify-Ideas/vue-draggable/blob/master/README.md\n                  ")}},this.selections)),t.preventDefault()}this.selections.items.length&&(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),this.selections.droptarget&&(a["clearSelections"].bind(this)(),this.selections.droptarget.className=this.selections.droptarget.className.replace(/ dragover/g,""),this.selections.droptarget=null)),Object(a["removeOldDropzoneAreaElements"])()}},"./src/core/listeners/handlers/dragenter.handler.js":
/*!**********************************************************!*\
  !*** ./src/core/listeners/handlers/dragenter.handler.js ***!
  \**********************************************************/
/*! exports provided: dragenterHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragenterHandler",function(){return a});var a=function(t){this.related=t.target}},"./src/core/listeners/handlers/dragleave.handler.js":
/*!**********************************************************!*\
  !*** ./src/core/listeners/handlers/dragleave.handler.js ***!
  \**********************************************************/
/*! exports provided: dragleaveHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragleaveHandler",function(){return n});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),n=function(){var t=Object(a["getContainer"])(this.related);t!==this.selections.droptarget&&(this.selections.droptarget&&(this.selections.droptarget.className=this.selections.droptarget.className.replace(/ dragover/g,"")),t&&(t.className+=" dragover"),this.selections.droptarget=t)}},"./src/core/listeners/handlers/dragover.handler.js":
/*!*********************************************************!*\
  !*** ./src/core/listeners/handlers/dragover.handler.js ***!
  \*********************************************************/
/*! exports provided: dragoverHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragoverHandler",function(){return o});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),n={previousTarget:null,dragoverCalls:0},s=function(t){if(n.dragoverCalls%100===0||t.target!==n.previousTarget&&t.target&&"item-dropzone-area"!==t.target.className){n.dragoverCalls++,n.previousTarget=t.target,this.nextItemElement=t.target.closest(this.defaultOptions.draggableSelector),this.selections.droptarget=t.target.closest(this.defaultOptions.dropzoneSelector);var e=document.createElement("div");e.className="item-dropzone-area",Object(a["removeOldDropzoneAreaElements"])(),this.selections.droptarget&&this.nextItemElement&&this.selections.droptarget.insertBefore(e,n.previousTarget.closest(this.defaultOptions.draggableSelector)),this.selections.droptarget&&!this.nextItemElement&&this.selections.droptarget.appendChild(e)}},o=function(t){this.selections.items.length&&t.preventDefault(),this.defaultOptions.showDropzoneAreas&&s.bind(this)(t)}},"./src/core/listeners/handlers/dragstart.handler.js":
/*!**********************************************************!*\
  !*** ./src/core/listeners/handlers/dragstart.handler.js ***!
  \**********************************************************/
/*! exports provided: dragstartHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"dragstartHandler",function(){return o});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js");function n(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},a=Object.keys(i);"function"===typeof Object.getOwnPropertySymbols&&(a=a.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),a.forEach(function(e){s(t,e,i[e])})}return t}function s(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var o=function(t){var e=t.target.closest(this.defaultOptions.draggableSelector);if(this.defaultOptions.multipleDropzonesItemsDraggingEnabled||!e||this.selections.owner===e.parentNode){if("function"===typeof this.defaultOptions.onDragstart)try{this.defaultOptions.onDragstart(n({nativeEvent:t,stop:a["stopDragAndDrop"]},this.selections))}catch(i){return t.preventDefault(),void Object(a["removeOldDropzoneAreaElements"])()}Object(a["hasModifier"])(t)&&"false"===e.getAttribute("aria-grabbed")&&a["addSelection"].bind(this)(e),t.dataTransfer.setData("text",""),Object(a["addDropeffects"])(this.items,this.selections,this.targets)}else t.preventDefault()}},"./src/core/listeners/handlers/index.js":
/*!**********************************************!*\
  !*** ./src/core/listeners/handlers/index.js ***!
  \**********************************************/
/*! exports provided: mousedownHandler, mouseupHandler, dragoverHandler, dragstartHandler, dragenterHandler, dragleaveHandler, dragendHandler, keydownHandler */function(t,e,i){"use strict";i.r(e);var a=i(/*! ./mousedown.handler */"./src/core/listeners/handlers/mousedown.handler.js");i.d(e,"mousedownHandler",function(){return a["mousedownHandler"]});var n=i(/*! ./mouseup.handler */"./src/core/listeners/handlers/mouseup.handler.js");i.d(e,"mouseupHandler",function(){return n["mouseupHandler"]});var s=i(/*! ./dragover.handler */"./src/core/listeners/handlers/dragover.handler.js");i.d(e,"dragoverHandler",function(){return s["dragoverHandler"]});var o=i(/*! ./dragstart.handler */"./src/core/listeners/handlers/dragstart.handler.js");i.d(e,"dragstartHandler",function(){return o["dragstartHandler"]});var r=i(/*! ./dragenter.handler */"./src/core/listeners/handlers/dragenter.handler.js");i.d(e,"dragenterHandler",function(){return r["dragenterHandler"]});var l=i(/*! ./dragleave.handler */"./src/core/listeners/handlers/dragleave.handler.js");i.d(e,"dragleaveHandler",function(){return l["dragleaveHandler"]});var c=i(/*! ./dragend.handler */"./src/core/listeners/handlers/dragend.handler.js");i.d(e,"dragendHandler",function(){return c["dragendHandler"]});var d=i(/*! ./keydown.handler */"./src/core/listeners/handlers/keydown.handler.js");i.d(e,"keydownHandler",function(){return d["keydownHandler"]})},"./src/core/listeners/handlers/keydown.handler.js":
/*!********************************************************!*\
  !*** ./src/core/listeners/handlers/keydown.handler.js ***!
  \********************************************************/
/*! exports provided: keydownHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"keydownHandler",function(){return n});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),n=function(t){if(t.target.getAttribute("aria-grabbed")&&(32===t.keyCode&&(Object(a["hasModifier"])(t)?"true"===t.target.getAttribute("aria-grabbed")?(1===this.selections.items.length&&Object(a["clearDropeffects"])(this.items,this.selections,this.targets),a["removeSelection"].bind(this)(t.target),this.selections.items.length&&Object(a["addDropeffects"])(this.items,this.selections,this.targets),this.selections.items.length||(this.selections.owner=null)):(a["addSelection"].bind(this)(t.target),Object(a["addDropeffects"])(this.items,this.selections,this.targets)):"false"===t.target.getAttribute("aria-grabbed")?(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),a["clearSelections"].bind(this)(),a["addSelection"].bind(this)(t.target),Object(a["addDropeffects"])(this.items,this.selections,this.targets)):Object(a["addDropeffects"])(this.items,this.selections,this.targets),t.preventDefault()),77===t.keyCode&&Object(a["hasModifier"])(t))){if(this.selections.items.length)if(Object(a["addDropeffects"])(this.items,this.selections,this.targets),this.selections.owner===this.targets[this.targets.length-1])this.targets[0].focus();else for(var e=0;e<this.targets.length;e++)if(this.selections.owner===this.targets[e]){this.targets[e+1].focus();break}t.preventDefault()}if(27===t.keyCode&&this.selections.items.length&&(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),this.selections.items[this.selections.items.length-1].focus(),a["clearSelections"].bind(this)()),t.target.getAttribute("aria-dropeffect")&&(13===t.keyCode||77===t.keyCode&&Object(a["hasModifier"])(t))){for(var i=0;i<this.selections.items.length;i++)t.target.appendChild(this.selections.items[i]);Object(a["clearDropeffects"])(this.items,this.selections,this.targets),this.selections.items[this.selections.items.length-1].focus(),a["clearSelections"].bind(this)(),t.preventDefault()}}},"./src/core/listeners/handlers/mousedown.handler.js":
/*!**********************************************************!*\
  !*** ./src/core/listeners/handlers/mousedown.handler.js ***!
  \**********************************************************/
/*! exports provided: mousedownHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"mousedownHandler",function(){return n});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),n=function(t){var e=t.target.closest(this.defaultOptions.draggableSelector);e&&e.getAttribute("draggable")?(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),Object(a["hasModifier"])(t)||"false"!==e.getAttribute("aria-grabbed")||(a["clearSelections"].bind(this)(),a["addSelection"].bind(this)(e))):Object(a["hasModifier"])(t)?Object(a["clearDropeffects"])(this.items,this.selections,this.targets):(Object(a["clearDropeffects"])(this.items,this.selections,this.targets),a["clearSelections"].bind(this)())}},"./src/core/listeners/handlers/mouseup.handler.js":
/*!********************************************************!*\
  !*** ./src/core/listeners/handlers/mouseup.handler.js ***!
  \********************************************************/
/*! exports provided: mouseupHandler */function(t,e,i){"use strict";i.r(e),i.d(e,"mouseupHandler",function(){return s});var a=i(/*! ./../../helpers */"./src/core/helpers/index.js"),n=function(t,e,i){return t.parentNode===e.parentNode&&(e.offsetTop>i.offsetTop&&t.offsetTop<=e.offsetTop&&t.offsetTop>=i.offsetTop||t.offsetTop>=e.offsetTop&&t.offsetTop<=i.offsetTop)},s=function(t){var e=this,i=t.target.closest(this.defaultOptions.draggableSelector);if(i&&i.getAttribute("draggable")&&Object(a["hasModifier"])(t))if(this.selections.items.length&&t.shiftKey){var s=this.selections.items.slice(-1).pop();this.items.forEach(function(t){var o=n(t,i,s);o&&a["addSelection"].bind(e)(t)})}else"true"===i.getAttribute("aria-grabbed")?(a["removeSelection"].bind(this)(i),this.selections.items.length||(this.selections.owner=null)):a["addSelection"].bind(this)(i)}},"./src/core/listeners/index.js":
/*!*************************************!*\
  !*** ./src/core/listeners/index.js ***!
  \*************************************/
/*! exports provided: attachListeners */function(t,e,i){"use strict";i.r(e),i.d(e,"attachListeners",function(){return n});var a=i(/*! ./handlers */"./src/core/listeners/handlers/index.js"),n=function(t){var e=this;t.addEventListener("mousedown",a["mousedownHandler"].bind(this),!1),t.addEventListener("mouseup",a["mouseupHandler"].bind(this),!1),t.addEventListener("dragstart",a["dragstartHandler"].bind(this),!1),t.addEventListener("keydown",a["keydownHandler"].bind(this),!1),t.addEventListener("dragenter",function(t){return a["dragenterHandler"].bind(e)(t)},!1),t.addEventListener("dragleave",a["dragleaveHandler"].bind(this),!1),document.addEventListener("dragover",a["dragoverHandler"].bind(this),!1),t.addEventListener("dragend",a["dragendHandler"].bind(this),!1)}},"./src/core/options.js":
/*!*****************************!*\
  !*** ./src/core/options.js ***!
  \*****************************/
/*! exports provided: VueDraggableOptions */function(t,e,i){"use strict";i.r(e),i.d(e,"VueDraggableOptions",function(){return a});var a={defaultOptions:{dropzoneSelector:"ul",draggableSelector:"li",multipleDropzonesItemsDraggingEnabled:!0,showDropzoneAreas:!0,onDrop:function(){},onDragstart:function(){},onDragend:function(){}},targets:null,items:null,nextItemElement:null,related:null,selections:{items:[],owner:null,droptarget:null}}},"./src/core/state.js":
/*!***************************!*\
  !*** ./src/core/state.js ***!
  \***************************/
/*! exports provided: VueDraggableState */function(t,e,i){"use strict";i.r(e),i.d(e,"VueDraggableState",function(){return a});var a={targets:null,items:null,nextItemElement:null,related:null,selections:{items:[],owner:null,droptarget:null}}},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! exports provided: VueDraggableDirective, default */function(t,e,i){"use strict";i.r(e),i.d(e,"VueDraggableDirective",function(){return n});var a=i(/*! ./core */"./src/core/index.js"),n={bind:function(t,e){Object.assign(a["VueDraggable"].defaultOptions,e.value),a["VueDraggable"].registerListeners(t),a["VueDraggable"].initiate(t)},componentUpdated:function(t){setTimeout(function(){a["VueDraggable"].initiate(t)})}};a["VueDraggable"].install=function(t){t.directive("drag-and-drop",n)},e["default"]=a["VueDraggable"]}})})},d8d6:function(t,e,i){i("1654"),i("6c1c"),t.exports=i("ccb9").f("iterator")},d9a2:function(t,e,i){},dc28:function(t,e,i){},e211:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("6b54"),core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_regexp_to_string__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),toastr__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_6__),_TiepNhan_HoSoTrongNhom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("335e");toastr__WEBPACK_IMPORTED_MODULE_6___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{id:{type:String,default:function(){return"nm"}},detailDossier:{type:Object,default:function(){}},createFiles:{type:Array,default:function(){return[]}}},components:{"ho-so-nhom":_TiepNhan_HoSoTrongNhom__WEBPACK_IMPORTED_MODULE_7__["a"]},data:function(){return{dialogConfirm:!1,labelConfirm:"",dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],sampleCount:0,fileTemplateItems:[],currentFormView:"",pstFixed:0,pstEl:0,endEl:0,dialogSelectDosier:!1,dossierIntoGroup:[],filesAdd:[],documentType:"Tài liệu đính kèm"}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData},dossierIntoGroupSelect:function(){return this.$store.getters.getDossierIntoGroup}},created:function(){var t=this;t.page=1,t.$nextTick(function(){if(t.detailDossier["dossierId"]){var e=[];e.push(t.$store.dispatch("loadDossierFiles",t.detailDossier.dossierId)),e.push(t.$store.dispatch("loadDossierTemplates",t.detailDossier)),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_3___default.a.all(e).then(function(e){var i=e[1],a=e[0];t.dossierFilesItems=a,t.createFiles=t.mergeDossierTemplateVsDossierFiles(t.createFiles,a),0!==i.length&&t.createFiles.forEach(function(t){var e=i.find(function(e){return t.partNo===e.partNo});e&&(t["required"]=e["required"],t["partTip"]=e["partTip"])})}),t.detailDossier["groupDossierId"]&&t.getDossierIntoGroup(t.detailDossier["groupDossierId"])}})},mounted:function(){var t=this;t.$nextTick(function(){t.createFiles.length>0&&setTimeout(function(){t.genAllAlpacaForm(t.dossierFilesItems,t.createFiles)},300)})},methods:{genAllAlpacaForm:function(t,e){var i=this;if(t.length>0){var a=t.filter(function(t){return t.eForm}),n=e.filter(function(t){return t.eForm});a.length>0?a.forEach(function(t){t.eForm&&i.$store.dispatch("loadAlpcaForm",t)}):e.forEach(function(t){t.eForm&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))}),n.length!==a.length&&n.forEach(function(t){var e=a.findIndex(function(e){return t.partNo===e.dossierPartNo});-1===e&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})}else e.forEach(function(t){t.eForm&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})},mergeDossierTemplateVsDossierFiles:function(t,e){return 0!==e.length?t.forEach(function(t){var i=e.find(function(e){return t.partNo===e.dossierPartNo&&0!==e.fileSize});i?t["daKhai"]=!0:!i&&t.eForm&&(t["daKhai"]=!1)}):t.forEach(function(t){t.eForm&&(t["daKhai"]=!1)}),t},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.detailDossier.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$("#formAlpaca"+item.partNo+vm.id).empty(),formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').alpaca(formScript)})})},saveAlpacaForm:function(t,e){var i=this;console.log("itemSave",t);var a=i.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});a?(a["dossierId"]=i.detailDossier.dossierId,a["id"]=i.id,i.$store.dispatch("putAlpacaForm",a).then(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.success("Yêu cầu của bạn thực hiện thành công"),i.createFiles[e].daKhai=!0,i.dossierIntoGroup.length>0&&(i.labelConfirm="Đính kèm giấy tờ này cho hồ sơ khác?",i.dialogConfirm=!0,i.filesAdd=[t]),i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t}).catch(function(t){})}).catch(function(t){console.log("run saveForm"),toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})):(t["dossierId"]=i.detailDossier.dossierId,t["id"]=i.id,i.$store.dispatch("postEform",t).then(function(t){i.dossierIntoGroup.length>0&&(i.labelConfirm="Đính kèm giấy tờ này cho hồ sơ khác?",i.dialogConfirm=!0,i.filesAdd=[resData]),setTimeout(function(){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.success("Yêu cầu của bạn thực hiện thành công"),i.createFiles[e].daKhai=!0},3e3),i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},onDeleteAttackFiles:function(t){var e=this;console.log("delete");var i=confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?");i&&e.dossierFilesItems.forEach(function(i){i.dossierPartNo===t.partNo&&(i["dossierId"]=e.detailDossier.dossierId,e.$store.dispatch("deleteAttackFiles",i).then(function(t){e.$store.dispatch("loadDossierFiles",e.detailDossier.dossierId)}).catch(function(t){}))})},pickFile:function(t){var e=this;e.stateAddFileOther=!1,document.getElementById("file"+t.partNo).value="",document.getElementById("file"+t.partNo).click()},onUploadSingleFile:function(t,e){var i=this;i.dossierTemplatesItemSelect=e,i.progressUploadPart=e.partNo,e["dossierId"]=i.detailDossier.dossierId,e["dossierTemplateNo"]=i.detailDossier.dossierTemplateNo,i.$store.dispatch("uploadSingleFile",e).then(function(t){i.progressUploadPart="",i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t,i.createFiles=i.mergeDossierTemplateVsDossierFiles(i.createFiles,i.dossierFilesItems),console.log("createFiles",i.createFiles)}),console.log("vm.dossierIntoGroup",i.dossierIntoGroup),i.dossierIntoGroup.length>0&&(i.labelConfirm="Đính kèm giấy tờ này cho hồ sơ khác?",i.dialogConfirm=!0,i.filesAdd=t)}).catch(function(t){i.progressUploadPart=""})},loadAlpcaForm:function(t){var e=this,i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i?(i["id"]=e.id,e.$store.dispatch("loadAlpcaForm",i)):e.createFiles.forEach(function(i){i.eForm&&t.partNo===i.partNo&&(i["templateFileNo"]=e.detailDossier.dossierTemplateNo,e.showAlpacaJSFORM(i))})},loadAlpcaFormClick:function(t){var e=this;e.currentFormView==="formAlpaca"+t.partNo+e.id?e.currentFormView="":e.currentFormView="formAlpaca"+t.partNo+e.id,e.pstEl=e.endEl=0,setTimeout(function(){$("#formAlpaca"+t.partNo+e.id).height()>200&&(e.pstEl=$("#wrapForm"+t.partNo+e.id).offset().top,e.endEl=$("#formAlpaca"+t.partNo+e.id).height(),$(window).scroll(function(){e.pstFixed=$(window).scrollTop()}))},300);var i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i?(i["id"]=e.id,e.$store.dispatch("loadAlpcaForm",i)):e.createFiles.forEach(function(i){i.eForm&&t.partNo===i.partNo&&(i["templateFileNo"]=e.detailDossier.dossierTemplateNo,e.showAlpacaJSFORM(i))})},deleteSingleFileEform:function(t,e){var i=this,a=confirm("Bạn có muốn xóa?");a&&(i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e["dossierId"]=i.detailDossier.dossierId,i.$store.dispatch("deleteDossierFile",e).then(function(e){console.log("success!"),i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(e){i.dossierFilesItems=e;var a=i.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});a&&(i.fileViews=a)})}))}),i.createFiles[e].daKhai=!1)},previewFileEfom:function(t,e){var i=this;i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e["dossierId"]=i.detailDossier.dossierId,i.dialogPDFLoading=!0,i.documentType="Tài liệu khai trực tuyến",i.dialogPDF=!0,e["id"]=i.id,i.$store.dispatch("putAlpacaForm",e).then(function(t){setTimeout(function(){i.$store.dispatch("viewFile",e).then(function(t){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+i.id).src=t})},1e3)}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))})},deleteSingleFile:function(t,e){var i=this,a=confirm("Bạn có muốn xóa?");a&&(t["dossierId"]=i.detailDossier.dossierId,i.$store.dispatch("deleteDossierFile",t).then(function(a){i.fileViews.splice(e,1),i.partView=t.dossierPartNo,i.$store.dispatch("loadDossierFiles",i.detailDossier.dossierId).then(function(t){i.dossierFilesItems=t,i.createFiles=i.mergeDossierTemplateVsDossierFiles(i.createFiles,i.dossierFilesItems)})}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},viewFile:function(t){var e=this,i=this;i.dossierFilesItems.forEach(function(a){a["dossierId"]=i.detailDossier.dossierId,a.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",a)})},viewFile2:function(t){var e=this;if("doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType){var i=e.initDataResource.dossierApi+"/"+e.detailDossier.dossierId+"/files/"+t.referenceUid;window.open(i)}else e.dialogPDFLoading=!0,e.documentType="Tài liệu đính kèm",e.dialogPDF=!0,t["dossierId"]=e.detailDossier.dossierId,e.$store.dispatch("viewFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t})},viewFileWithPartNo:function(t){var e=this;if(e.dossierFilesItems){var i=e.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});if(!i)return;e.fileViews=i,e.partView!==t.partNo?(e.stateView=!0,e.partView=t.partNo):(e.stateView=!e.stateView,e.partView=t.partNo)}},checkStyle:function(t){return"calc(100% - 140px)"},downloadFileTemplate:function(t,e){var i=this;if(i.fileTemplateItems.length>0){var a=i.fileTemplateItems.find(function(e){return t.fileTemplateNo===e.fileTemplateNo});if(a){var n=i.initDataResource.serviceInfoApi+"/"+a.serviceCode+"/filetemplates/"+a.fileTemplateNo;window.open(n)}else console.log("ko thay file")}},cancelDialog:function(){var t=this;t.dialogAddOtherTemp=!1,t.progressUploadPart=""},addFileOther:function(t){var e=this;e.dialogAddOtherTemp=!0,e.stateAddFileOther=!0,e.dossierTemplatesItemSelect=t},changeDisplayName:function(t,e){var i=this,a={dossierId:i.detailDossier.dossierId,value:value};i.$store.dispatch("changeDisplayNameFile",a).then(function(t){i.fileViews[e].displayName=t.displayName,i.stateEdit=!1}).catch(function(t){console.log("error")})},validCreateFileTemplate:function(){var t=this;if(t.createFiles.length>0){for(var e=0;e<t.createFiles.length;e++)if(t.createFiles[e]["required"]&&!t.createFiles[e]["daKhai"]){var i="Chú ý :"+t.createFiles[e].partName+" là thành phần bắt buộc!";return toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error(i),!1}return!0}return!0},getDossierIntoGroup:function(t){var e=this,i={groupDossierId:t};e.dossierIntoGroup=[],e.$store.dispatch("getDossiersIntoGroup",i).then(function(t){e.dossierIntoGroup=t,e.dossierIntoGroup=e.dossierIntoGroup.filter(function(t){return String(t["stepCode"])===String(e.detailDossier["stepCode"])&&String(t["dossierId"])!==String(e.detailDossier["dossierId"])})})},addFileToDossier:function(){var t=this,e=t.dossierIntoGroupSelect.map(function(t){return t.dossierId}).toString(),i=t.filesAdd.map(function(t){return t.dossierFileId}).toString(),a={dossierIds:e,dossierFileId:i};t.$store.dispatch("uploadFileDossierGroup",a).then(function(e){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.success("Đính kèm tài liệu thành công"),t.dialogSelectDosier=!1,t.filesAdd=[],t.$store.commit("setSelectDossierGroup",[])})},attachOtherDossier:function(t){var e=this;e.filesAdd=[t],e.dialogSelectDosier=!0},cancelAddFile:function(){var t=this;t.dialogSelectDosier=!1,t.filesAdd=[],t.$store.commit("setSelectDossierGroup",[])},confirmAction:function(t){var e=this;e.dialogConfirm=!1,e.dialogSelectDosier=!0},getDocumentTypeIcon:function(t){var e="doc,docx",i="xls,xlsx",a="png,jpg,jpeg";return t?e.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:i.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===t.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:a.indexOf(t.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:{icon:"attach_file",color:"primary",size:14}}}}},ebfd:function(t,e,i){var a=i("62a0")("meta"),n=i("f772"),s=i("07e3"),o=i("d9f6").f,r=0,l=Object.isExtensible||function(){return!0},c=!i("294c")(function(){return l(Object.preventExtensions({}))}),d=function(t){o(t,a,{value:{i:"O"+ ++r,w:{}}})},u=function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!s(t,a)){if(!l(t))return"F";if(!e)return"E";d(t)}return t[a].i},p=function(t,e){if(!s(t,a)){if(!l(t))return!0;if(!e)return!1;d(t)}return t[a].w},h=function(t){return c&&f.NEED&&l(t)&&!s(t,a)&&d(t),t},f=t.exports={KEY:a,NEED:!1,fastKey:u,getWeak:p,onFreeze:h}},f374:function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"payment-info",staticStyle:{width:"100%"}},[i("v-expansion-panel",{staticClass:"expansion-pl",attrs:{value:[!0],expand:""}},[i("v-expansion-panel-content",[i("div",{attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"background-triangle-small"},[i("v-icon",{attrs:{size:"18",color:"white"}},[t._v("star_rate")])],1),1===t.data_payment.requestPayment||4===t.data_payment.requestPayment||5===t.data_payment.requestPayment?i("span",[t._v(t._s(t.data_payment.paymentFee))]):t._e(),2===t.data_payment.requestPayment?i("span",[t._v("Lập phiếu thanh toán")]):t._e()]),i("v-card",[i("v-card-text",{staticClass:"pb-1"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Lệ phí: ")])],1),i("v-flex",{attrs:{xs12:"",sm3:""}},[1===t.data_payment.editable||3===t.data_payment.editable?i("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.feeAmount,callback:function(e){t.$set(t.data_payment,"feeAmount",e)},expression:"data_payment.feeAmount"}}):i("p",{staticClass:"mt-1 mb-0"},[t._v(t._s(t.currency(t.data_payment.feeAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),i("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Phí: ")])],1),i("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm3:""}},[2===t.data_payment.editable||3===t.data_payment.editable?i("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.serviceAmount,callback:function(e){t.$set(t.data_payment,"serviceAmount",e)},expression:"data_payment.serviceAmount"}}):i("p",{staticClass:"mt-1 mb-0"},[t._v(t._s(t.currency(t.data_payment.serviceAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),i("v-flex",{attrs:{xs12:"",sm2:""}}),2!==t.viaPortal&&"2"!==t.viaPortal||0===t.data_payment.shipAmount?t._e():i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[t._v("Phí chuyển phát: ")])],1),2!==t.viaPortal&&"2"!==t.viaPortal||0===t.data_payment.shipAmount?t._e():i("v-flex",{attrs:{xs12:"",sm3:""}},[1===t.data_payment.editable||3===t.data_payment.editable?i("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.shipAmount,callback:function(e){t.$set(t.data_payment,"shipAmount",e)},expression:"data_payment.shipAmount"}}):i("p",{staticClass:"mt-1 mb-0"},[t._v(t._s(t.currency(t.data_payment.shipAmount.toString().replace(/\./g,"")))+"    vnđ")])],1),i("v-flex",{attrs:{xs12:"",sm2:""}})],1)],1),i("v-card-text",{staticClass:"pt-0"},[i("v-layout",{attrs:{wrap:""}},[1===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Tổng: ")])])],1):t._e(),1===t.data_payment.requestPayment?i("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),1===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),2===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Tổng: ")])])],1):t._e(),2===t.data_payment.requestPayment?i("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),2===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),4===t.data_payment.requestPayment||5===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Tổng: ")])])],1):t._e(),4===t.data_payment.requestPayment||5===t.data_payment.requestPayment?i("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.feeTong.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),4===t.data_payment.requestPayment?i("v-flex",{staticClass:"pt-1",attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Đã tạm nộp: ")])])],1):t._e(),4===t.data_payment.requestPayment?i("v-flex",{staticClass:"pt-1",staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[1===t.data_payment.editable||3===t.data_payment.editable?i("v-text-field",{directives:[{name:"money",rawName:"v-money",value:t.money,expression:"money"}],attrs:{suffix:"vnđ"},on:{keyup:t.changeFee},model:{value:t.data_payment.advanceAmount,callback:function(e){t.$set(t.data_payment,"advanceAmount",e)},expression:"data_payment.advanceAmount"}}):i("span",[t._v(t._s(t.currency(Number(t.data_payment.advanceAmount.toString().replace(/\./g,"")).toString().replace(/\./g,"")))+"    vnđ")])],1):t._e(),4===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e(),4===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm2:""}},[i("v-subheader",{staticClass:"pl-0 text-right"},[i("span",{staticClass:"text-bold"},[t._v("Còn phải nộp: ")])])],1):t._e(),4===t.data_payment.requestPayment?i("v-flex",{staticStyle:{"padding-top":"7px"},attrs:{xs12:"",sm3:""}},[i("span",[t._v(t._s(t.currency(t.totalFee.toString().replace(/\./g,"")))+"    vnđ")])]):t._e(),4===t.data_payment.requestPayment?i("v-flex",{attrs:{xs12:"",sm1:""}}):t._e()],1),i("v-layout",{staticStyle:{position:"relative"},attrs:{wrap:""}},[i("v-flex",{staticClass:"my-0 py-1",staticStyle:{width:"70px"}},[i("span",{staticClass:"red--text"},[t._v("* ")]),t._v(" Ghi chú:")]),i("v-flex",{staticStyle:{width:"calc(100% - 80px)"}},[0==t.activeEdit?i("div",{staticClass:"pl-2"},[i("v-textarea",{staticClass:"py-0",attrs:{row:"2",readonly:t.activeEdit,required:""},model:{value:t.data_payment.paymentNote,callback:function(e){t.$set(t.data_payment,"paymentNote",e)},expression:"data_payment.paymentNote"}})],1):t._e(),t.activeEdit||""===t.data_payment.paymentNote?i("p",{staticClass:"px-2 my-0 py-1"},[t._v("\n                "+t._s(t.data_payment.paymentNote)+"   \n                "),1==t.activeEdit?i("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"blue",size:"20",title:"Sửa",grey:"","darken-4":""},on:{click:function(e){e.stopPropagation(),t.activeEdit=!1}}},[t._v("\n                  create\n                ")]):t._e()],1):t._e(),i("span",{staticStyle:{position:"absolute",top:"15px",right:"10px"}},[0==t.activeEdit?i("v-icon",{staticClass:"hover-pointer btn-add mx-0 my-0",attrs:{color:"green",size:"25",grey:"","darken-4":""},on:{click:function(e){e.stopPropagation(),t.activeEdit=!0}}},[t._v("\n                  check\n                ")]):t._e()],1)])],1),t.paymentFile&&5===t.data_payment.requestPayment?i("div",[i("span",[i("span",{staticClass:"red--text"},[t._v("* ")]),t._v(" File báo thanh toán:")]),t._v(" \n            "),i("span",{staticStyle:{cursor:"pointer"},on:{click:function(e){e.stopPropagation(),t.viewFile()}}},[i("v-icon",[t._v("attach_file")]),t._v("\n              "+t._s(t.paymentFileName)+"\n            ")],1),i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:"",ripple:""},on:{click:function(e){e.stopPropagation(),t.downloadPaymentFile(t.item)}},slot:"activator"},[i("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{size:"16",color:"primary"}},[t._v("save_alt")])],1),i("span",[t._v("Tải xuống")])],1)],1):t._e()],1)],1)],1)],1),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:t.dialogPDF,callback:function(e){t.dialogPDF=e},expression:"dialogPDF"}},[i("v-card",[i("v-toolbar",{attrs:{flat:"",dark:"",color:"primary"}},[i("v-toolbar-title",[t._v("File đính kèm")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.dialogPDF=!1}}},[i("v-icon",[t._v("close")])],1)],1),t.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):t._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!t.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPreview",src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},n=[],s=(i("6b54"),i("a481"),i("c5f6"),i("cadf"),i("551c"),i("097d"),i("716b")),o={props:{payments:{type:Object,default:function(){}},viaPortal:{type:Number,default:function(){return 0}},detailDossier:{type:Object,default:function(){}}},model:{prop:"payments"},data:function(){return{data_payment:{},money:{decimal:"",thousands:".",prefix:"",suffix:"",precision:0,masked:!1},totalFee:0,feeTamThu:0,feeTong:0,checkPaid:!0,activeEdit:!0,paymentFile:"",dialogPDF:!1,dialogPDFLoading:!0}},directives:{money:s["VMoney"]},created:function(){var t=this;t.data_payment=t.payments,t.payments&&setTimeout(function(){var e="number"===typeof t.payments.feeAmount?Number(t.payments.feeAmount):Number(t.payments.feeAmount.toString().replace(/\./g,""));if(1===t.payments.requestPayment){var i="number"===typeof t.payments.serviceAmount?Number(t.payments.serviceAmount):Number(t.payments.serviceAmount.toString().replace(/\./g,""));t.feeTong=e+i,t.totalFee=e+i}else if(2===t.payments.requestPayment){var a=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0,n=t.payments.shipAmount?Number(t.payments.shipAmount.toString().replace(/\./g,"")):0;2!==t.viaPortal&&"2"!==t.viaPortal||0===n?t.totalFee=e+a:t.totalFee=e+a+n}else{var s=t.payments.advanceAmount?Number(t.payments.advanceAmount.toString().replace(/\./g,"")):0,o=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0,r=t.payments.shipAmount?Number(t.payments.shipAmount.toString().replace(/\./g,"")):0;if(2!==t.viaPortal&&"2"!==t.viaPortal||0===r?(t.feeTong=e+o,t.totalFee=e+o-s):(t.feeTong=e+o+r,t.totalFee=e+o+r-s),5===t.payments.requestPayment){var l=t.detailDossier;t.$store.dispatch("getPaymentFiles",l).then(function(e){t.paymentFile=e})}}t.totalFee<0&&(t.totalFee=0)},300)},computed:{paymentFileName:function(){return this.$store.getters.getPaymentFileName},originality:function(){var t=this;return t.getOriginality()}},watch:{viaPortal:function(t){console.log("viaPortal",t),this.changeFee()},detailDossier:function(t){var e=this;if(5===e.payments.requestPayment){var i=t;console.log("run get paymentfile",i),e.$store.dispatch("getPaymentFiles",i).then(function(t){e.paymentFile=t})}}},methods:{changeFee:function(){var t=this,e=t.data_payment,i=e.feeAmount?Number(e.feeAmount.toString().replace(/\./g,"")):0;if(1===e.requestPayment){var a=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0;t.feeTong=i+a,t.totalFee=i+a}else if(2===e.requestPayment){var n=t.payments.serviceAmount?Number(t.payments.serviceAmount.toString().replace(/\./g,"")):0,s=t.payments.shipAmount?Number(t.payments.shipAmount.toString().replace(/\./g,"")):0;2!==t.viaPortal&&"2"!==t.viaPortal||0===s?t.totalFee=i+n:t.totalFee=i+n+s}else{var o=Number(e.advanceAmount.toString().replace(/\./g,"")),r=Number(e.serviceAmount.toString().replace(/\./g,"")),l=Number(e.shipAmount.toString().replace(/\./g,""));2!==t.viaPortal&&"2"!==t.viaPortal||0===l?(t.feeTong=i+r,t.totalFee=i+r-o):(t.feeTong=i+r+l,t.totalFee=i+r+l-o)}t.totalFee<0&&(t.totalFee=0)},viewFile:function(){var t=this;t.dialogPDFLoading=!0,t.dialogPDF=!0;var e={dossierId:t.detailDossier.dossierId,referenceUid:t.detailDossier.referenceUid};t.$store.dispatch("viewPaymentFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPreview").src=e})},downloadPaymentFile:function(t){var e=this,i="/o/rest/v2/dossiers/"+e.detailDossier.dossierId+"/payments/"+e.detailDossier.referenceUid+"/confirmfile";window.open(i)},currency:function(t){if(t){var e=(t/1).toFixed(0).replace(".",",");return e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,".")}return""},goBack:function(){window.history.back()}},filters:{}},r=o,l=i("2877"),c=i("6544"),d=i.n(c),u=i("8336"),p=i("b0af"),h=i("99d9"),f=i("169a"),m=i("cd55"),_=i("49e2"),g=i("0e8f"),v=i("132d"),y=i("a722"),b=i("490a"),T=i("9910"),D=i("e0c7"),x=i("2677"),C=i("a844"),S=i("71d9"),w=i("2a7f"),P=i("3a2f"),k=Object(l["a"])(r,a,n,!1,null,null,null);e["a"]=k.exports;d()(k,{VBtn:u["a"],VCard:p["a"],VCardText:h["b"],VDialog:f["a"],VExpansionPanel:m["a"],VExpansionPanelContent:_["a"],VFlex:g["a"],VIcon:v["a"],VLayout:y["a"],VProgressCircular:b["a"],VSpacer:T["a"],VSubheader:D["a"],VTextField:x["a"],VTextarea:C["a"],VToolbar:S["a"],VToolbarTitle:w["b"],VTooltip:P["a"]})},f716:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_5__),toastr__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_6__);toastr__WEBPACK_IMPORTED_MODULE_6___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{id:{type:String,default:function(){return"nm"}},detailDossier:{type:Object,default:function(){}},createFiles:{type:Array,default:function(){return[]}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],sampleCount:0,fileTemplateItems:[]}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var t=this;return t.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData}},created:function(){var t=this;t.page=1,t.$nextTick(function(){console.log("vm.detailDossier------------",t.detailDossier),t.detailDossier["dossierId"]&&t.$store.dispatch("loadDossierFiles",t.detailDossier.dossierId).then(function(e){t.dossierFilesItems=e,t.createFiles=t.mergeDossierTemplateVsDossierFiles(t.createFiles,e),console.log("vm.createFiles------------",t.createFiles),console.log("vm.dossierFilesItems------------",t.dossierFilesItems)}).catch(function(t){})})},mounted:function(){var t=this;t.$nextTick(function(){t.createFiles.length>0&&setTimeout(function(){console.log("vm.createFiles------------",t.createFiles),console.log("vm.dossierFilesItems------------",t.dossierFilesItems),t.genAllAlpacaForm(t.dossierFilesItems,t.createFiles)},300)})},methods:{genAllAlpacaForm:function(t,e){var i=this;if(t.length>0){var a=t.filter(function(t){return t.eForm}),n=e.filter(function(t){return t.eForm});a.length>0?a.forEach(function(t){t.eForm&&i.$store.dispatch("loadAlpcaForm",t)}):e.forEach(function(t){t.eForm&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))}),n.length!==a.length&&n.forEach(function(t){var e=a.findIndex(function(e){return t.partNo===e.dossierPartNo});-1===e&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})}else e.forEach(function(t){t.eForm&&(t["templateFileNo"]=i.detailDossier.dossierTemplateNo,i.showAlpacaJSFORM(t))})},mergeDossierTemplateVsDossierFiles:function(t,e){return 0!==e.length?t.forEach(function(t){var i=e.find(function(e){return t.partNo===e.dossierPartNo&&e.eForm});i?t["daKhai"]=!0:!i&&t.eForm&&(t["daKhai"]=!1)}):t.forEach(function(t){t.eForm&&(t["daKhai"]=!1)}),t},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.detailDossier.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$("#formAlpaca"+item.partNo+vm.id).empty(),formScript=resScript?eval("("+resScript+")"):{},formData=resData?eval("("+resData+")"):{},formScript.data=formData,window.$("#formAlpaca"+item.partNo+vm.id).alpaca(formScript)})})},loadAlpcaForm:function(t){var e=this,i=e.dossierFilesItems.find(function(e){return e.dossierPartNo===t.partNo&&e.eForm});i?(i["id"]=e.id,e.$store.dispatch("loadAlpcaForm",i)):e.createFiles.forEach(function(i){i.eForm&&t.partNo===i.partNo&&(i["templateFileNo"]=e.detailDossier.dossierTemplateNo,e.showAlpacaJSFORM(i))})},previewFileEfom:function(t,e){var i=this;i.dossierFilesItems.forEach(function(e){e.dossierPartNo===t.partNo&&e.eForm&&(e["dossierId"]=i.detailDossier.dossierId,i.dialogPDFLoading=!0,i.dialogPDF=!0,e["id"]=i.id,i.$store.dispatch("putAlpacaForm",e).then(function(t){setTimeout(function(){i.$store.dispatch("viewFile",e).then(function(t){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+i.id).src=t})},1e3)}).catch(function(t){toastr__WEBPACK_IMPORTED_MODULE_6___default.a.error("Yêu cầu của bạn được thực hiện thất bại.")}))})},viewFile:function(t){var e=this,i=this;i.dossierFilesItems.forEach(function(a){a["dossierId"]=i.detailDossier.dossierId,a.dossierPartNo===t.partNo&&e.$store.dispatch("viewFile",a)})},viewFile2:function(t){var e=this;if("doc"===t.fileType||"docx"===t.fileType||"xlsx"===t.fileType||"xls"===t.fileType||"zip"===t.fileType||"rar"===t.fileType||"txt"===t.fileType){var i=e.initDataResource.dossierApi+"/"+e.detailDossier.dossierId+"/files/"+t.referenceUid;window.open(i)}else e.dialogPDFLoading=!0,e.dialogPDF=!0,t["dossierId"]=e.detailDossier.dossierId,e.$store.dispatch("viewFile",t).then(function(t){e.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+e.id).src=t})},viewFileWithPartNo:function(t){var e=this;if(e.dossierFilesItems){var i=e.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.partNo&&!e.eForm});if(!i)return;e.fileViews=i,e.partView!==t.partNo?(e.stateView=!0,e.partView=t.partNo):(e.stateView=!e.stateView,e.partView=t.partNo)}},checkStyle:function(t){return"calc(100% - 50px)"},downloadFileTemplate:function(t,e){var i=this;if(i.fileTemplateItems.length>0){var a=i.fileTemplateItems.find(function(e){return t.fileTemplateNo===e.fileTemplateNo});if(a){var n=i.initDataResource.serviceInfoApi+"/"+a.serviceCode+"/filetemplates/"+a.fileTemplateNo;window.open(n)}else console.log("ko thay file")}}}}},f921:function(t,e,i){i("014b"),i("c207"),i("69d3"),i("765d"),t.exports=i("584a").Symbol}}]);
//# sourceMappingURL=chunk-7fcbbdc5.js.map