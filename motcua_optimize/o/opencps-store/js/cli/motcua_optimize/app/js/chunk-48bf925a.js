(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-48bf925a"],{"2a7f":function(e,t,i){"use strict";var o=i("80d2"),s=i("71d9"),r=i("afdd"),a=i("9d26"),n={name:"v-toolbar-side-icon",functional:!0,render:function(e,t){var i=t.slots,o=t.listeners,s=t.props,n=t.data,l=n.staticClass?n.staticClass+" v-toolbar__side-icon":"v-toolbar__side-icon",c=Object.assign(n,{staticClass:l,props:Object.assign(s,{icon:!0}),on:o}),d=i().default;return e(r["a"],c,d||[e(a["a"],"$vuetify.icons.menu")])}};i.d(t,"b",function(){return l}),i.d(t,"a",function(){return c});var l=Object(o["e"])("v-toolbar__title"),c=Object(o["e"])("v-toolbar__items");s["a"]},"4ca6":function(e,t,i){"use strict";i("d4c0a");var o=i("b64a"),s=i("98a1"),r=i("c22b"),a=i("00ab"),n=i("58df");t["a"]=Object(n["a"])(o["a"],s["a"],Object(r["b"])(["left","bottom"]),a["a"]).extend({name:"v-badge",props:{color:{type:String,default:"primary"},overlap:Boolean,transition:{type:String,default:"fab-transition"},value:{default:!0}},computed:{classes:function(){return{"v-badge--bottom":this.bottom,"v-badge--left":this.left,"v-badge--overlap":this.overlap}}},render:function(e){var t=this.$slots.badge&&[e("span",this.setBackgroundColor(this.color,{staticClass:"v-badge__badge",attrs:this.$attrs,directives:[{name:"show",value:this.isActive}]}),this.$slots.badge)];return e("span",{staticClass:"v-badge",class:this.classes},[this.$slots.default,e("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},t)])}})},"6e92":function(e,t,i){"use strict";var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("v-card",{attrs:{flat:""}},[e._l(e.dossierTemplateItemsFilter,function(t,o){return i("div",{key:t.partNo,staticClass:"form_alpaca",staticStyle:{position:"relative",overflow:"hidden"}},[i("v-expansion-panel",{staticClass:"expaned__list__data",attrs:{expand:"",value:e.currentFormView==="formAlpaca"+t.partNo+e.id?[!0]:[!1]}},[i("v-expansion-panel-content",{attrs:{"hide-actions":""}},[i("div",{staticStyle:{"background-color":"#fff"},attrs:{slot:"header"},on:{click:function(t){e.stateView=!1}},slot:"header"},[i("div",{staticStyle:{"align-items":"center",background:"#fff","padding-left":"25px"},style:{width:e.checkStyle(t)}},[i("div",{staticClass:"mr-2",staticStyle:{"min-width":"20px",display:"flex"},on:{click:function(i){t.hasForm&&e.loadAlpcaFormClick(t)}}},[i("div",{staticClass:"header__tphs",staticStyle:{"min-width":"20px"}},[i("span",{staticClass:"text-bold"},[e._v(e._s(o+1)+".")]),e._v("  ")]),i("div",{staticClass:"header__tphs",staticStyle:{"text-align":"justify"}},[t.partTip&&t.partTip["tip"]?i("v-tooltip",{staticStyle:{"max-width":"100% !important"},attrs:{top:""}},[i("span",{attrs:{slot:"activator"},slot:"activator"},[e._v("\n                      "+e._s(t.partName)+"\n                      "),t.required?i("span",{staticStyle:{color:"red"}},[e._v("   (*) ")]):e._e()]),t.partTip["tip"]?i("span",[e._v(e._s(t.partTip["tip"]))]):e._e()]):i("span",[e._v("\n                    "+e._s(t.partName)+" "),t.required?i("span",{staticStyle:{color:"red"}},[e._v("   (*) ")]):e._e(),t.hasForm?i("span",{staticStyle:{color:"#004b94"}},[e._v("(Bản khai trực tuyến)")]):e._e()]),e._v("\n                    \n                  "),!t.hasForm&&t.hasFileTemp?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticStyle:{color:"#0d71bb"},attrs:{slot:"activator",size:"16",color:"primary"},on:{click:function(i){i.stopPropagation(),e.downloadFileTemplate(t,o)}},slot:"activator"},[e._v("save_alt")]),i("span",[e._v("Biểu mẫu điền thủ công")])],1):e._e()],1)]),i("div",{staticStyle:{display:"flex"}},[1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?i("v-text-field",{attrs:{placeholder:"Nhập lý do",rules:[function(e){return!!e||"Bạn phải nhập lý do trước khi gửi"}],required:""},on:{keyup:function(i){if(!("button"in i)&&e._k(i.keyCode,"enter",13,i.key,"Enter"))return null;e.changeFileComment(t,o)}},model:{value:t.fileComment,callback:function(i){e.$set(t,"fileComment",i)},expression:"item.fileComment"}}):e._e(),1===e.checkInput&&2===t.fileCheck&&t.stateEditFileCheck?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){i.stopPropagation(),e.changeFileComment(t,o)}},slot:"activator"},[i("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("send")])],1),i("span",[e._v("Gửi")])],1):e._e()],1),t.fileComment&&!t.stateEditFileCheck?i("i",{staticStyle:{"font-size":"12px",color:"#0d71bb","margin-left":"10px"}},[e._v(e._s(t.fileComment))]):e._e(),t.fileComment&&!t.stateEditFileCheck&&1===e.checkInput?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticStyle:{"font-size":"13px",color:"#0d71bb","margin-left":"10px",cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(e){e.stopPropagation(),t.stateEditFileCheck=!t.stateEditFileCheck}},slot:"activator"},[e._v("edit")]),i("span",[e._v("Chỉnh sửa ý kiến")])],1):e._e(),e._l(e.dossierFilesItems,function(o,s){return t.partNo===o.dossierPartNo?i("div",{key:s},[o.eForm?e._e():i("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center",background:"#fff","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"0px"}},[i("span",{staticClass:"ml-3",staticStyle:{cursor:"pointer"},on:{click:function(t){t.stopPropagation(),e.viewFile2(o)}}},[0!==o.fileSize?i("v-icon",{staticClass:"mr-1",attrs:{color:e.getDocumentTypeIcon(o.fileType)["color"],size:e.getDocumentTypeIcon(o.fileType)["size"]}},[e._v("\n                      "+e._s(e.getDocumentTypeIcon(o.fileType)["icon"])+"\n                    ")]):e._e(),e._v("\n                    "+e._s(o.displayName)+" - \n                    "),i("i",[e._v(e._s(o.modifiedDate))])],1),e.onlyView||1===e.checkInput?e._e():i("v-btn",{staticClass:"mx-0 my-0",attrs:{icon:"",ripple:""},on:{click:function(t){t.stopPropagation(),e.deleteSingleFile(o,s)}}},[i("v-icon",{staticStyle:{color:"red"}},[e._v("delete_outline")])],1)],1)]):e._e()}),i("div",{staticClass:"mr-3 my-2 py-2",staticStyle:{display:"none","max-height":"250px",overflow:"auto",border:"1px dashed #f3ae75","border-radius":"5px",position:"relative"},attrs:{id:"fileApplicant-"+t.partNo}},[e._l(e.dossierFilesApplicant,function(s,r){return s.dossierTemplateNo===e.thongTinHoSo["dossierTemplateNo"]&&t.partNo===s.dossierPartNo?i("div",{key:r},[s.eForm&&0!==s.fileSize?i("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"3px"}},[i("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[i("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(s)}},slot:"activator"},[i("i",{staticClass:"ml-1 fa fa-file-o",staticStyle:{color:"#0d71bb","font-size":"13px"}}),e._v("  \n                        "+e._s(s.dossierTemplateNo?s.dossierTemplateNo:s.referenceUid)+"."+e._s(s.fileType)+" - \n                        "),i("i",[e._v(e._s(s.modifiedDate))])]),i("span",[e._v("Bản khai trực tuyến")])]),e.progressUploadPart===s.dossierFileId?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.onlyView||e.progressUploadPart?e._e():i("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(t){e.attachToDossier(s,o)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[e._v("cloud_download")])],1)],1),i("span",[e._v("Sử dụng giấy tờ này")])],1)],1):i("div",{style:{width:"calc(100% - 0px)",display:"flex","align-items":"center","padding-left":"15px","font-size":"12px","margin-bottom":e.onlyView?"5px":"3px"}},[i("v-tooltip",{staticStyle:{"max-width":"100%"},attrs:{top:""}},[i("span",{staticStyle:{cursor:"pointer"},attrs:{slot:"activator"},on:{click:function(t){t.stopPropagation(),e.viewGiayToDaNop(s)}},slot:"activator"},[0!==s.fileSize?i("v-icon",{staticStyle:{color:"#0d71bb"}},[e._v("attach_file")]):e._e(),e._v("\n                        "+e._s(s.displayName)+" - \n                        "),i("i",[e._v(e._s(s.modifiedDate))])],1),i("span",[e._v("Đính kèm")])]),e.progressUploadPart===s.dossierFileId?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.onlyView||e.progressUploadPart?e._e():i("v-tooltip",{staticClass:"ml-2",attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(t){e.attachToDossier(s,o)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"16",color:"orange darken-3"}},[e._v("cloud_download")])],1)],1),i("span",[e._v("Sử dụng giấy tờ này")])],1)],1)]):e._e()}),i("v-btn",{staticClass:"mx-0 my-0",staticStyle:{position:"absolute",right:"0px",top:"0px"},attrs:{flat:"",icon:"",color:"red"},on:{click:function(i){i.stopPropagation(),e.showFilesApplicant(t.partNo)}}},[i("v-icon",[e._v("clear")])],1)],2)],2)]),t.hasForm?i("v-card",{attrs:{flat:""}},[i("v-card-text",{staticStyle:{"background-color":"rgba(244, 247, 213, 0.19)"}},[i("v-layout",{attrs:{wrap:""}},[e.stateView?e._e():i("v-flex",{staticClass:"text-xs-right",attrs:{xs12:""}},[i("div",{style:e.pstFixed>e.pstEl&&e.pstFixed<e.endEl+e.pstEl?"position:fixed;top:5px;z-index:101":"",attrs:{id:"wrapForm"+t.partNo+e.id}},[t["editForm"]&&t.hasForm&&!e.onlyView&&1!==e.checkInput?i("v-btn",{attrs:{color:"primary",disabled:e.loadingApacal},on:{click:function(i){i.stopPropagation(),e.saveAlpacaForm(t,o)}}},[e.loadingApacal?i("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):i("v-icon",{attrs:{color:"white"}},[e._v("save")]),e._v(" \n                      Lưu lại\n                    ")],1):e._e(),t["editForm"]&&t.daKhai&&t.hasForm?i("v-btn",{attrs:{color:"primary",disabled:e.loadingApacal},on:{click:function(i){i.stopPropagation(),e.previewFormAlpaca(t,o)}}},[e.loadingApacal?i("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):i("v-icon",{attrs:{color:"white"}},[e._v("print")]),e._v(" \n                      Xem\n                    ")],1):e._e(),t["editForm"]||!t.hasForm||e.onlyView?e._e():i("v-btn",{attrs:{color:"primary"},on:{click:function(i){i.stopPropagation(),e.editFormAlpaca(t)}}},[i("v-icon",{attrs:{color:"white"}},[e._v("edit")]),e._v(" \n                      Sửa\n                    ")],1),t.daKhai&&t.hasForm&&!e.onlyView&&1!==e.checkInput?i("v-btn",{attrs:{color:"primary",disabled:e.loadingApacal},on:{click:function(i){i.stopPropagation(),e.deleteSingleFileEform(t,o)}}},[e.loadingApacal?i("i",{staticClass:"fa fa-spinner",attrs:{"aria-hidden":"true"}}):i("v-icon",{attrs:{color:"white"}},[e._v("delete")]),e._v(" \n                      Xóa\n                    ")],1):e._e()],1),t["editForm"]?i("div",{style:{"pointer-events: none":e.onlyView},attrs:{id:"formAlpaca"+t.partNo+e.id}}):e._e(),t["editForm"]?e._e():i("iframe",{staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"displayPDF"+t.partNo+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})])],1)],1)],1):e._e()],1)],1),i("div",{staticClass:"absolute__btn group__thanh_phan mr-1"},[e.loading?i("content-placeholders",{staticClass:"mt-1"},[i("content-placeholders-text",{attrs:{lines:1}})],1):i("v-layout",{attrs:{row:"",wrap:""}},[1===e.originality||e.onlyView?e._e():i("v-flex",{staticClass:"layout wrap mr-2",staticStyle:{width:"100px"}},[i("v-text-field",{staticClass:"counter-up-down text-xs-center",staticStyle:{width:"100px"},style:e.onlyView?"pointer-events: none":"",attrs:{title:"Số lượng","append-icon":"add","prepend-inner-icon":"remove","clear-icon":"mdi-close-circle",type:"number",solo:"",flat:"",height:"32"},on:{"click:append":function(t){e.increaseCounter(o)},"click:prepend-inner":function(t){e.decreaseCounter(o)},input:function(t){e.changeRecordCount(o)}},model:{value:e.dossierTemplateItems[o]["recordCount"],callback:function(t){e.$set(e.dossierTemplateItems[o],"recordCount",t)},expression:"dossierTemplateItems[index]['recordCount']"}})],1),1===e.originality||1!==t.partType||e.thongTinHoSo.online||1===e.checkInput?e._e():i("v-flex",{staticClass:"layout wrap",staticStyle:{width:"100px"}},[i("v-select",{style:e.onlyView?"pointer-events: none":"",attrs:{items:e.fileMarkItems},on:{change:function(t){e.changeFileMark(t,o)}},model:{value:e.dossierTemplateItems[o].fileMark,callback:function(t){e.$set(e.dossierTemplateItems[o],"fileMark",t)},expression:"dossierTemplateItems[index].fileMark"}})],1),1===e.checkInput?i("v-flex",{staticClass:"layout wrap",staticStyle:{width:"120px"}},[i("v-select",{attrs:{items:e.fileCheckItems,"item-text":"text","item-value":"value"},on:{change:function(t){e.changeFileCheck(t,o)}},model:{value:e.dossierTemplateItems[o].fileCheck,callback:function(t){e.$set(e.dossierTemplateItems[o],"fileCheck",t)},expression:"dossierTemplateItems[index].fileCheck"}})],1):t.fileCheck>0?i("v-flex",{staticClass:"layout wrap",style:{width:"40px","align-items":"center","margin-left":"10px","margin-top":e.thongTinHoSo.online?"10px":"0px"}},[1===t.fileCheck?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[e._v("done")]),i("span",[e._v("Đạt")])],1):2===t.fileCheck?i("v-tooltip",{attrs:{top:""}},[i("v-icon",{staticClass:"mx-0",attrs:{slot:"activator",size:"24",color:"primary"},slot:"activator"},[e._v("close")]),i("span",[e._v("Không đạt")])],1):e._e()],1):e._e(),1!==e.checkInput?i("v-flex",{class:{"text-xs-right":e.onlyView},style:{width:e.onlyView?"auto":"120px"}},[t["multiple"]?i("input",{staticStyle:{display:"none"},attrs:{type:"file",multiple:"",id:"file"+t.partNo},on:{change:function(i){e.onUploadSingleFile(i,t,o)}}}):i("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"file"+t.partNo},on:{change:function(i){e.onUploadSingleFile(i,t,o)}}}),3!==t.partType||3!==e.originality||e.onlyView?e._e():i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){e.addFileOther(t)}},slot:"activator"},[i("v-icon",{staticClass:"mx-0",attrs:{size:"16",color:"primary"}},[e._v("add")])],1),i("span",[e._v("Thêm giấy tờ khác")])],1),e.progressUploadPart===t.partNo?i("v-progress-circular",{attrs:{width:2,size:25,color:"green",indeterminate:""}}):e._e(),e.progressUploadPart!==t.partNo&&!e.onlyView&t.hasForm?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){i.stopPropagation(),e.loadAlpcaFormClick(t)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("edit")])],1)],1),i("span",[e._v("Khai trực tuyến")])],1):e._e(),e.progressUploadPart!==t.partNo&&e.onlyView&t.hasForm?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-1 my-0",staticStyle:{height:"25px",width:"25px"},attrs:{slot:"activator",fab:"",dark:"",small:"",color:"primary"},on:{click:function(i){e.loadAlpcaFormClick(t)}},slot:"activator"},[i("v-icon",{staticStyle:{"font-size":"14px"}},[e._v("visibility")])],1),i("span",[e._v("Xem")])],1):e._e(),e.progressUploadPart===t.partNo||e.onlyView?e._e():i("v-tooltip",{attrs:{left:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){e.pickFile(t)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"#004b94"}},[e._v("cloud_upload")])],1)],1),t.partTip["extensions"]||t.partTip["maxSize"]?i("span",[e._v("Tải giấy tờ lên (Chấp nhận tải lên các định dạng: "+e._s(t.partTip["extensions"])+". Tối đa "+e._s(t.partTip["maxSize"])+" MB)")]):i("span",[e._v("Tải giấy tờ lên")])],1),e.partNoApplicantHasFile(t.partNo)&&!e.onlyView?i("v-tooltip",{attrs:{top:""}},[i("v-btn",{staticClass:"mx-0 my-0",attrs:{slot:"activator",icon:""},on:{click:function(i){e.showFilesApplicant(t.partNo)}},slot:"activator"},[i("v-badge",[i("v-icon",{attrs:{size:"24",color:"orange darken-3"}},[e._v("folder")])],1)],1),i("span",[e._v("Giấy tờ đã nộp")])],1):e._e()],1):e._e()],1)],1)],1)}),e.partTypes.includes(2)||3!==e.originality||e.partTypes.includes(6)||e.partTypes.includes(7)?e._e():i("div",[i("v-card",{attrs:{flat:""}},[i("v-card-text",{staticClass:"py-0 px-3 pl-4",attrs:{flat:""}},[e.onlyView?e._e():i("div",{staticClass:"my-2"},[i("v-textarea",{staticClass:"py-0",attrs:{box:"",rows:"3",label:"Ghi chú"},on:{input:e.changeApplicantNote},model:{value:e.applicantNoteDossier,callback:function(t){e.applicantNoteDossier=t},expression:"applicantNoteDossier"}})],1),e.onlyView&&e.applicantNoteDossier?i("v-text-field",{staticClass:"my-2",attrs:{label:"Ghi chú",readonly:"",box:""},model:{value:e.applicantNoteDossier,callback:function(t){e.applicantNoteDossier=t},expression:"applicantNoteDossier"}}):e._e()],1)],1)],1),i("v-dialog",{attrs:{"max-width":"400",transition:"fade-transition",persistent:""},model:{value:e.dialogAddOtherTemp,callback:function(t){e.dialogAddOtherTemp=t},expression:"dialogAddOtherTemp"}},[i("v-card",[i("v-form",{ref:"form",attrs:{"lazy-validation":""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[e._v("Tên giấy tờ")]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[i("v-icon",[e._v("close")])],1)],1),i("v-card-text",{staticClass:"pb-0 pt-4"},[i("v-layout",{attrs:{wrap:""}},[i("v-flex",{staticClass:"px-2 pb-3 fix__label",attrs:{xs12:""}},[i("v-text-field",{attrs:{label:"Tên giấy tờ:",rules:[function(e){return!!e||"Bạn phải điền tên giấy tờ."}],required:""},model:{value:e.otherDossierTemplate,callback:function(t){e.otherDossierTemplate=t},expression:"otherDossierTemplate"}})],1)],1)],1),i("v-card-actions",[i("v-spacer"),i("v-btn",{attrs:{color:"red darken-3",flat:"flat",loading:e.loadingAddOther},nativeOn:{click:function(t){return e.cancelDialog(t)}}},[e._v("\n              Quay lại\n              "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])]),i("v-btn",{attrs:{color:"primary",flat:"flat",loading:e.loadingAddOther},nativeOn:{click:function(t){return e.addOtherTemplate(t)}}},[e._v("\n              Đồng ý\n              "),i("span",{attrs:{slot:"loader"},slot:"loader"},[e._v("Loading...")])])],1)],1)],1)],1)],2),i("v-dialog",{staticStyle:{overflow:"hidden"},attrs:{"max-width":"900",transition:"fade-transition"},model:{value:e.dialogPDF,callback:function(t){e.dialogPDF=t},expression:"dialogPDF"}},[i("v-card",[i("v-toolbar",{attrs:{dark:"",color:"primary"}},[i("v-toolbar-title",[e.pdfEform?i("span",[e._v("Bản in đã khai trực tuyến")]):i("span",[e._v("Tài liệu đính kèm")])]),i("v-spacer"),i("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(t){e.dialogPDF=!1}}},[i("v-icon",[e._v("close")])],1)],1),e.dialogPDFLoading?i("div",{staticStyle:{"min-height":"600px","text-align":"center",margin:"auto",padding:"25%"}},[i("v-progress-circular",{attrs:{size:100,width:1,color:"primary",indeterminate:""}})],1):e._e(),i("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.dialogPDFLoading,expression:"!dialogPDFLoading"}],staticStyle:{overflow:"auto","min-height":"600px"},attrs:{id:"dialogPDFPreview"+e.id,src:"",type:"application/pdf",width:"100%",height:"100%",frameborder:"0"}})],1)],1)],1)},s=[],r=i("92fe"),a=r["a"],n=i("2877"),l=i("6544"),c=i.n(l),d=i("4ca6"),_=i("8336"),p=i("b0af"),u=i("99d9"),m=i("169a"),f=i("cd55"),h=i("49e2"),v=i("0e8f"),g=i("4bd4"),T=i("132d"),E=i("a722"),I=i("490a"),y=i("b56d"),D=i("9910"),P=i("2677"),F=i("a844"),C=i("71d9"),b=i("2a7f"),S=i("3a2f"),w=Object(n["a"])(a,o,s,!1,null,null,null);t["a"]=w.exports;c()(w,{VBadge:d["a"],VBtn:_["a"],VCard:p["a"],VCardActions:u["a"],VCardText:u["b"],VDialog:m["a"],VExpansionPanel:f["a"],VExpansionPanelContent:h["a"],VFlex:v["a"],VForm:g["a"],VIcon:T["a"],VLayout:E["a"],VProgressCircular:I["a"],VSelect:y["a"],VSpacer:D["a"],VTextField:P["a"],VTextarea:F["a"],VToolbar:C["a"],VToolbarTitle:b["b"],VTooltip:S["a"]})},"71d9":function(e,t,i){"use strict";i("ae8d");var o=i("c6f7"),s=i("b64a"),r=i("6a18"),a=i("b57a");function n(e,t){var i=t.value,o=t.options||{passive:!0},s=t.arg?document.querySelector(t.arg):window;s&&(s.addEventListener("scroll",i,o),e._onScroll={callback:i,options:o,target:s})}function l(e){if(e._onScroll){var t=e._onScroll,i=t.callback,o=t.options,s=t.target;s.removeEventListener("scroll",i,o),delete e._onScroll}}var c={inserted:n,unbind:l},d=i("d9bd"),_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o])}return e};t["a"]={name:"v-toolbar",directives:{Scroll:c},mixins:[Object(o["a"])("top",["clippedLeft","clippedRight","computedHeight","invertedScroll","manualScroll"]),s["a"],a["a"],r["a"]],props:{card:Boolean,clippedLeft:Boolean,clippedRight:Boolean,dense:Boolean,extended:Boolean,extensionHeight:{type:[Number,String],validator:function(e){return!isNaN(parseInt(e))}},flat:Boolean,floating:Boolean,height:{type:[Number,String],validator:function(e){return!isNaN(parseInt(e))}},invertedScroll:Boolean,manualScroll:Boolean,prominent:Boolean,scrollOffScreen:Boolean,scrollToolbarOffScreen:Boolean,scrollTarget:String,scrollThreshold:{type:Number,default:300},tabs:Boolean},data:function(){return{activeTimeout:null,currentScroll:0,heights:{mobileLandscape:48,mobile:56,desktop:64,dense:48},isActive:!0,isExtended:!1,isScrollingUp:!1,previousScroll:null,previousScrollDirection:null,savedScroll:0,target:null}},computed:{canScroll:function(){return this.scrollToolbarOffScreen?(Object(d["d"])("scrollToolbarOffScreen","scrollOffScreen",this),!0):this.scrollOffScreen||this.invertedScroll},computedContentHeight:function(){return this.height?parseInt(this.height):this.dense?this.heights.dense:this.prominent||this.$vuetify.breakpoint.mdAndUp?this.heights.desktop:this.$vuetify.breakpoint.smAndDown&&this.$vuetify.breakpoint.width>this.$vuetify.breakpoint.height?this.heights.mobileLandscape:this.heights.mobile},computedExtensionHeight:function(){return this.tabs?48:this.extensionHeight?parseInt(this.extensionHeight):this.computedContentHeight},computedHeight:function(){return this.isExtended?this.computedContentHeight+this.computedExtensionHeight:this.computedContentHeight},computedMarginTop:function(){return this.app?this.$vuetify.application.bar:0},classes:function(){return _({"v-toolbar":!0,"elevation-0":this.flat||!this.isActive&&!this.tabs&&this.canScroll,"v-toolbar--absolute":this.absolute,"v-toolbar--card":this.card,"v-toolbar--clipped":this.clippedLeft||this.clippedRight,"v-toolbar--dense":this.dense,"v-toolbar--extended":this.isExtended,"v-toolbar--fixed":!this.absolute&&(this.app||this.fixed),"v-toolbar--floating":this.floating,"v-toolbar--prominent":this.prominent},this.themeClasses)},computedPaddingLeft:function(){return!this.app||this.clippedLeft?0:this.$vuetify.application.left},computedPaddingRight:function(){return!this.app||this.clippedRight?0:this.$vuetify.application.right},computedTransform:function(){return this.isActive?0:this.canScroll?-this.computedContentHeight:-this.computedHeight},currentThreshold:function(){return Math.abs(this.currentScroll-this.savedScroll)},styles:function(){return{marginTop:this.computedMarginTop+"px",paddingRight:this.computedPaddingRight+"px",paddingLeft:this.computedPaddingLeft+"px",transform:"translateY("+this.computedTransform+"px)"}}},watch:{currentThreshold:function(e){if(this.invertedScroll)return this.isActive=this.currentScroll>this.scrollThreshold;e<this.scrollThreshold||!this.isBooted||(this.isActive=this.isScrollingUp,this.savedScroll=this.currentScroll)},isActive:function(){this.savedScroll=0},invertedScroll:function(e){this.isActive=!e},manualScroll:function(e){this.isActive=!e},isScrollingUp:function(){this.savedScroll=this.savedScroll||this.currentScroll}},created:function(){(this.invertedScroll||this.manualScroll)&&(this.isActive=!1)},mounted:function(){this.scrollTarget&&(this.target=document.querySelector(this.scrollTarget))},methods:{onScroll:function(){if(this.canScroll&&!this.manualScroll&&"undefined"!==typeof window){var e=this.target||window;this.currentScroll=this.scrollTarget?e.scrollTop:e.pageYOffset||document.documentElement.scrollTop,this.isScrollingUp=this.currentScroll<this.previousScroll,this.previousScroll=this.currentScroll}},updateApplication:function(){return this.invertedScroll||this.manualScroll?0:this.computedHeight}},render:function(e){this.isExtended=this.extended||!!this.$slots.extension;var t=[],i=this.setBackgroundColor(this.color,{class:this.classes,style:this.styles,on:this.$listeners});return i.directives=[{arg:this.scrollTarget,name:"scroll",value:this.onScroll}],t.push(e("div",{staticClass:"v-toolbar__content",style:{height:this.computedContentHeight+"px"},ref:"content"},this.$slots.default)),this.isExtended&&t.push(e("div",{staticClass:"v-toolbar__extension",style:{height:this.computedExtensionHeight+"px"}},this.$slots.extension)),e("nav",i,t)}}},"92fe":function(module,__webpack_exports__,__webpack_require__){"use strict";var d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("5176"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("20d6"),core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es6_array_find_index__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("7514"),core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es6_array_find__WEBPACK_IMPORTED_MODULE_2__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("a745"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3__),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("795b"),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("5df3"),core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_es6_string_iterator__WEBPACK_IMPORTED_MODULE_5__),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("ac6a"),core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(core_js_modules_web_dom_iterable__WEBPACK_IMPORTED_MODULE_6__),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("6762"),core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(core_js_modules_es7_array_includes__WEBPACK_IMPORTED_MODULE_7__),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("2fdb"),core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(core_js_modules_es6_string_includes__WEBPACK_IMPORTED_MODULE_8__),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("c5f6"),core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_9___default=__webpack_require__.n(core_js_modules_es6_number_constructor__WEBPACK_IMPORTED_MODULE_9__),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("cadf"),core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(core_js_modules_es6_array_iterator__WEBPACK_IMPORTED_MODULE_10__),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("551c"),core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(core_js_modules_es6_promise__WEBPACK_IMPORTED_MODULE_11__),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("097d"),core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(core_js_modules_es7_promise_finally__WEBPACK_IMPORTED_MODULE_12__),jquery__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("1157"),jquery__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_13__),toastr__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__("854a"),toastr__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(toastr__WEBPACK_IMPORTED_MODULE_14__);toastr__WEBPACK_IMPORTED_MODULE_14___default.a.options={closeButton:!0,timeOut:"5000"},__webpack_exports__["a"]={props:{onlyView:{type:Boolean,default:function(){return!1}},id:{type:String,default:function(){return"nm"}},partTypes:{type:Array,default:function(){return[1,3]}},checkInput:{type:Number,default:function(){return 0}}},data:function(){return{dossierTemplateItems:[],dossierMarksItems:[],dossierFilesItems:[],thongTinHoSo:{},valid:!0,stateView:!1,dialogAddOtherTemp:!1,loadingAddOther:!1,loadingApacal:!1,otherDossierTemplate:"",sheet:!1,partView:"",dossierFileIdView:"",stateEdit:!1,progressUploadPart:"",dialogPDF:!1,dialogPDFLoading:!0,stateAddFileOther:!1,dossierTemplatesItemSelect:{},fileViews:[],pdfEform:!1,sampleCount:0,serviceInfoId:0,fileMarkItems:[{text:"Không có",value:0},{text:"Bản chụp",value:1},{text:"Bản sao",value:2},{text:"Bản gốc",value:3},{text:"Bản dịch",value:4}],fileCheckItems:[{text:"Chưa kiểm tra",value:0},{text:"Đạt",value:1},{text:"Không đạt",value:2}],fileTemplateItems:[],fileTemplateNoString:"",dossierFilesApplicant:[],stateViewResult:!0,currentFormView:"",pstFixed:0,pstEl:0,endEl:0,applicantNoteDossier:"",doChange:""}},computed:{loading:function(){return this.$store.getters.loading},originality:function(){var e=this;return e.getOriginality()},initDataResource:function(){return this.$store.getters.loadingInitData},dossierTemplateItemsFilter:function(){var e=this,t=e.dossierTemplateItems;if(t.length>0){var i=t.filter(function(t){return e.partTypes.includes(t.partType)&&e.checkVisibleTemp(t,0)});return i}},applicantBussinessExit:function(){return this.$store.getters.getApplicantBussinessExit},applicantId:function(){return this.$store.getters.getApplicantIdNo},applicantNote:function(){return this.$store.getters.getApplicantNote}},mounted:function(){var e=this;e.page=1,e.$nextTick(function(){})},watch:{applicantBussinessExit:function(e){var t=this;e&&t.fileTemplateNoString&&t.getDossierFileApplicants(e,t.fileTemplateNoString)},applicantId:function(e){var t=this;e&&t.fileTemplateNoString&&t.getDossierFileApplicants(e,t.fileTemplateNoString)}},methods:{resetCounterTemplate:function(e,t){e.commit,e.state;var i=this;i.dossierTemplateItems.forEach(function(e){e.partNo===t.partNo&&(e.hasForm?e.count=1:e.count=0)})},recountFileTemplates:function(){var e=this;e.dossierTemplateItems.forEach(function(t){t.count=0,e.dossierFilesItems.forEach(function(e){t.partNo!==e.dossierPartNo||e.eForm||t.count++})})},initData:function(e){var t=this;t.thongTinHoSo=e,t.applicantNoteDossier=e["applicantNote"]&&String(e["applicantNote"]).indexOf("<br>[")<0?e["applicantNote"]:"";var i=[];null!==e["sampleCount"]&&void 0!==e["sampleCount"]&&"undefined"!==e["sampleCount"]&&(t.sampleCount=e["sampleCount"]),i.push(t.$store.dispatch("loadDossierTemplates",e)),i.push(t.$store.dispatch("loadDossierMark",e)),i.push(t.$store.dispatch("loadDossierFiles",e.dossierId)),i.push(t.$store.dispatch("getServiceInfo",{serviceInfoId:e.serviceCode})),d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_promise__WEBPACK_IMPORTED_MODULE_4___default.a.all(i).then(function(e){var i=e[0],o=e[1],s=e[2],r=[];e[3].hasOwnProperty("serviceInfoId")&&(t.serviceInfoId=e[3].serviceInfoId),e[3].fileTemplates&&(d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_array_is_array__WEBPACK_IMPORTED_MODULE_3___default()(e[3].fileTemplates)?r=e[3].fileTemplates:r.push(e[3].fileTemplates));var a=t.mergeDossierTemplateVsDossierFiles(i,s);if(a=t.mergeDossierTemplateVsDossierMark(a,o),a=t.mergeDossierTemplateVsFileTemplates(a,r),t.dossierFilesItems=s,t.dossierMarksItems=o,t.fileTemplateItems=r,t.dossierTemplateItems=a,(t.partTypes.includes(2)||t.partTypes.includes(7))&&t.dossierTemplateItems.length>0){var n=[];t.dossierTemplateItems.forEach(function(e){var i=t.dossierFilesItems.find(function(t){return e.partNo===t.dossierPartNo&&(2===e.partType||7===e.partType)});i&&n.push(e)}),t.dossierTemplateItems=n}t.changeStateViewResult(),setTimeout(function(e){t.genAllAlpacaForm(s,a),t.recountFileTemplates()},500);var l=[];for(var c in t.dossierTemplateItems)t.dossierTemplateItems[c]["fileTemplateNo"]&&l.push(t.dossierTemplateItems[c]["fileTemplateNo"]);l.length>0&&(t.fileTemplateNoString=l.toString(),t.applicantId&&!t.onlyView&&t.getDossierFileApplicants(t.applicantId,t.fileTemplateNoString))}).catch(function(e){})},genAllAlpacaForm:function(e,t){var i=this;if(e.length>0){var o=e.filter(function(e){return e.eForm}),s=t.filter(function(e){return e.hasForm&&i.partTypes.includes(e.partType)});o.length>0?o.forEach(function(e){e.eForm&&i.$store.dispatch("loadAlpcaForm",e)}):t.forEach(function(e){e.hasForm&&i.partTypes.includes(e.partType)&&(e["templateFileNo"]=i.thongTinHoSo.dossierTemplateNo,i.showAlpacaJSFORM(e))}),s.length!==o.length&&s.forEach(function(e){var t=o.findIndex(function(t){return e.partNo===t.dossierPartNo});-1===t&&(e["templateFileNo"]=i.thongTinHoSo.dossierTemplateNo,i.showAlpacaJSFORM(e))})}else t.forEach(function(e){e.hasForm&&i.partTypes.includes(e.partType)&&(e["templateFileNo"]=i.thongTinHoSo.dossierTemplateNo,i.showAlpacaJSFORM(e))})},postDossierMark:function(e,t){var i=this;e["dossierId"]=i.thongTinHoSo.dossierId,i.$store.dispatch("postDossierMark",e).then(function(e){}).catch(function(e){})},mergeDossierTemplateVsDossierFiles:function(e,t){var i=this;return 0!==t.length?e.forEach(function(e){e["editForm"]=!0,e["daKhai"]=!1,e["passRequired"]=!1;var o=t.find(function(t){return e.partNo===t.dossierPartNo&&i.partTypes.includes(e.partType)&&t.eForm&&!t.removed&&0!==t.fileSize});o&&(e["daKhai"]=!0,e["hasForm"]=!0,e["referenceUid"]=o["referenceUid"]),t.forEach(function(t){e.partNo===t.dossierPartNo&&(e["passRequired"]=!0)})}):e.forEach(function(e){e.hasForm&&(e["daKhai"]=!1,e["passRequired"]=!1,e["editForm"]=!0)}),e},mergeDossierTemplateVsDossierMark:function(e,t){return 0!==t.length?e.map(function(e){e["count"]=0,e["stateEditFileCheck"]=!1;var i=t.find(function(t){return t.dossierPartNo===e.partNo});return null!==i&&void 0!==i?(e["fileMark"]=i.fileMark,e["fileComment"]=i.fileComment,e["fileCheck"]=i.fileCheck,e["recordCount"]=i.recordCount):(e["fileMark"]=0,e["fileComment"]="",e["fileCheck"]=0,e["recordCount"]=""),e}):e&&e.forEach(function(e){e["stateEditFileCheck"]=!1,e["count"]=0,e["fileMark"]=0,e["fileComment"]="",e["fileCheck"]=0,e["stateEditFileCheck"]=!1}),e},mergeDossierTemplateVsFileTemplates:function(e,t){return 0!==t.length?e.map(function(e){var i=t.find(function(t){return t.fileTemplateNo===e.fileTemplateNo});return e["hasFileTemp"]=null!==i&&void 0!==i?i.fileTemplateNo:"",e}):e&&e.forEach(function(e){e["hasFileTemp"]=""}),e},showAlpacaJSFORM:function showAlpacaJSFORM(item){var vm=this;item["dossierId"]=vm.thongTinHoSo.dossierId,vm.$store.dispatch("loadFormScript",item).then(function(resScript){vm.$store.dispatch("loadFormData",item).then(function(resData){var formScript,formData;window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').empty(),formScript=resScript?eval("("+resScript+")"):{},resData?(formData=eval("("+resData+")"),item["loaded"]=!0):formData={},formScript.data=formData,window.$('div[id="formAlpaca'+item.partNo+vm.id+'"]').alpaca(formScript)})})},saveAlpacaForm:function(e,t){var i=this,o=i.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm&&0!==t.fileSize});o?(o["dossierId"]=i.thongTinHoSo.dossierId,o["id"]=i.id,i.loadingApacal=!0,i.$store.dispatch("putAlpacaForm",o).then(function(e){setTimeout(function(){i.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.success("Thực hiện thành công")},3e3),i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(e){i.dossierFilesItems=e}).catch(function(e){}),i.dossierTemplateItems[t]["passRequired"]=!0}).catch(function(e){i.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})):(e["dossierId"]=i.thongTinHoSo.dossierId,e["id"]=i.id,i.loadingApacal=!0,i.$store.dispatch("postEform",e).then(function(e){setTimeout(function(){i.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.success("Thực hiện thành công"),i.dossierTemplateItems[t].daKhai=!0},3e3),i.dossierTemplateItems[t]["passRequired"]=!0,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(e){i.dossierFilesItems=e}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})}).catch(function(e){i.loadingApacal=!1,toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},onDeleteAttackFiles:function(e){var t=this;console.log("delete");var i=confirm("Bạn có muốn xóa toàn bộ file trong thành phần hồ sơ này?");i&&t.dossierFilesItems.forEach(function(i){i.dossierPartNo===e.partNo&&(i["dossierId"]=t.thongTinHoSo.dossierId,t.$store.dispatch("deleteAttackFiles",i).then(function(i){t.resetCounterTemplate(e),t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId)}).catch(function(e){}))})},changeApplicantNote:function(){var e=this;console.log("applicantNoteEdit",e.applicantNoteDossier),e.$store.commit("setApplicantNote",e.applicantNoteDossier)},pickFile:function(e){var t=this;t.stateAddFileOther=!1,document.getElementById("file"+e.partNo).value="",document.getElementById("file"+e.partNo).click()},onUploadSingleFile:function(e,t,i){var o=this;if(o.dossierTemplatesItemSelect=t,o.progressUploadPart=t.partNo,t["dossierId"]=o.thongTinHoSo.dossierId,t["dossierTemplateNo"]=o.thongTinHoSo.dossierTemplateNo,3!==t.partType)o.$store.dispatch("uploadSingleFile",t).then(function(e){o.dossierTemplateItems[i]["passRequired"]=!0,o.progressUploadPart="",o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(e){o.dossierFilesItems=e,o.recountFileTemplates()})}).catch(function(e){e.length>0&&(o.dossierTemplateItems[i]["passRequired"]=!0),o.progressUploadPart="",o.$store.dispatch("loadDossierFiles",o.thongTinHoSo.dossierId).then(function(e){o.dossierFilesItems=e,o.recountFileTemplates()})});else{if(0===window.$('input[id="file'+t.partNo+'"]')[0].files.length)return void(o.progressUploadPart="");o.partView=t.partNo,o.stateView=!0,o.dialogAddOtherTemp=!0}},loadAlpcaForm:function(e){var t=this,i=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});i?(i["id"]=t.id,t.$store.dispatch("loadAlpcaForm",i)):t.dossierTemplateItems.forEach(function(i){i.hasForm&&e.partNo===i.partNo&&(i["templateFileNo"]=t.thongTinHoSo.dossierTemplateNo,t.showAlpacaJSFORM(i))})},loadAlpcaFormClick:function(e){var t=this;t.currentFormView==="formAlpaca"+e.partNo+t.id?t.currentFormView="":t.currentFormView="formAlpaca"+e.partNo+t.id,t.pstEl=t.endEl=0,setTimeout(function(){window.$('div[id="formAlpaca'+e.partNo+t.id+'"]').height()>200&&(t.pstEl=window.$('div[id="wrapForm'+e.partNo+t.id+'"]').offset().top,t.endEl=window.$('div[id="formAlpaca'+e.partNo+t.id+'"]').height(),jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).scroll(function(){t.pstFixed=jquery__WEBPACK_IMPORTED_MODULE_13___default()(window).scrollTop()}))},500);var i=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm&&t.fileSize});i?(i["id"]=t.id,t.$store.dispatch("loadAlpcaForm",i),e["editForm"]=!1,t.$store.dispatch("viewFile",i).then(function(e){document.getElementById("displayPDF"+i.dossierPartNo+t.id).src=e})):t.dossierTemplateItems.forEach(function(i){i.hasForm&&e.partNo===i.partNo&&(i["templateFileNo"]=t.thongTinHoSo.dossierTemplateNo,i["loaded"]||t.showAlpacaJSFORM(i))})},editFormAlpaca:function(e){var t=this;e["editForm"]=!0,setTimeout(function(){var i=t.dossierFilesItems.find(function(t){return t.dossierPartNo===e.partNo&&t.eForm});i["id"]=t.id,t.$store.dispatch("loadAlpcaForm",i)},200)},deleteSingleFileEform:function(e,t){var i=this,o=confirm("Bạn có chắc chắn xóa file?");o&&i.dossierFilesItems.forEach(function(o){o.dossierPartNo===e.partNo&&o.eForm&&(o["dossierId"]=i.thongTinHoSo.dossierId,i.$store.dispatch("deleteDossierFile",o).then(function(o){i.dossierTemplateItems[t].daKhai=!1,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(o){if(i.dossierFilesItems=o,i.recountFileTemplates(),e["editForm"]=!0,setTimeout(function(){i.loadAlpcaForm(e)},200),0!==i.dossierFilesItems.length){var s=i.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo});i.dossierTemplateItems[t]["passRequired"]=!!s}else i.dossierTemplateItems[t]["passRequired"]=!1})}))})},previewFileEfom:function(e,t){var i=this;i.dossierFilesItems.forEach(function(t){t.dossierPartNo===e.partNo&&t.eForm&&!t.removed&&(t["dossierId"]=i.thongTinHoSo.dossierId,i.dialogPDFLoading=!0,i.dialogPDF=!0,i.onlyView?i.$store.dispatch("viewFile",t).then(function(e){i.dialogPDFLoading=!1,t["eForm"]?i.pdfEform=!0:i.pdfEform=!1,document.getElementById("dialogPDFPreview"+i.id).src=e}):(t["id"]=i.id,i.$store.dispatch("putAlpacaForm",t).then(function(e){setTimeout(function(){i.$store.dispatch("viewFile",t).then(function(e){i.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+i.id).src=e})},1e3)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))})},previewFormAlpaca:function(e,t){var i=this;i.dossierFilesItems.forEach(function(t){t.dossierPartNo===e.partNo&&t.eForm&&!t.removed&&(t["dossierId"]=i.thongTinHoSo.dossierId,i.onlyView?(e["editForm"]=!1,i.$store.dispatch("viewFile",t).then(function(o){t["eForm"]?i.pdfEform=!0:i.pdfEform=!1,document.getElementById("displayPDF"+e.dossierPartNo+i.id).src=o})):(t["id"]=i.id,i.$store.dispatch("putAlpacaForm",t).then(function(o){e["editForm"]=!1,setTimeout(function(){i.$store.dispatch("viewFile",t).then(function(e){document.getElementById("displayPDF"+t.dossierPartNo+i.id).src=e})},500)}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")})))})},deleteSingleFile:function(e,t){var i=this,o=confirm("Bạn có chắc chắn xóa file đính kèm ?");o&&(e["dossierId"]=i.thongTinHoSo.dossierId,i.$store.dispatch("deleteDossierFile",e).then(function(o){i.fileViews.splice(t,1),i.partView=e.dossierPartNo,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(t){i.dossierFilesItems=t,i.setDaKhai(e)})}).catch(function(e){toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Yêu cầu của bạn thực hiện thất bại.")}))},viewFile:function(e){var t=this,i=this;i.dossierFilesItems.forEach(function(o){o["dossierId"]=i.thongTinHoSo.dossierId,o.dossierPartNo===e.partNo&&t.$store.dispatch("viewFile",o)})},setDaKhai:function(e){var t=this,i=t.dossierFilesItems.findIndex(function(t){return t.dossierPartNo===e.dossierPartNo});if(-1===i){for(var o=0;o<t.dossierTemplateItems.length;o++)if(t.dossierTemplateItems[o].partNo===e.dossierPartNo){t.dossierTemplateItems[o]["passRequired"]=!1;break}}else for(o=0;o<t.dossierTemplateItems.length;o++)if(t.dossierTemplateItems[o].partNo===e.dossierPartNo){t.dossierTemplateItems[o]["passRequired"]=!0;break}},checkPartType3:function(){var e=this;if(0!==e.dossierTemplateItems.length)for(var t=0;t<e.dossierTemplateItems.length;t++)if(3===e.dossierTemplateItems[t].partType)return!0;return!1},viewFile2:function(e){var t=this;if(0!==e.fileSize)if(e["eForm"]?t.pdfEform=!0:t.pdfEform=!1,"doc"===e.fileType||"docx"===e.fileType||"xlsx"===e.fileType||"xls"===e.fileType||"zip"===e.fileType||"rar"===e.fileType||"txt"===e.fileType||"mp3"===e.fileType||"mp4"===e.fileType){var i=t.initDataResource.dossierApi+"/"+t.thongTinHoSo.dossierId+"/files/"+e.referenceUid;window.open(i)}else e["dossierId"]=t.thongTinHoSo.dossierId,e.referenceUid?(t.dialogPDFLoading=!0,t.dialogPDF=!0,t.$store.dispatch("viewFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+t.id).src=e})):(toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("File dữ liệu không tồn tại"))},attachToDossier:function(e,t){var i=this;console.log(e,t),e["dossierId"]=i.thongTinHoSo.dossierId,3!==e.partType&&(i.progressUploadPart=e.dossierFileId,i.$store.dispatch("copyFile",e).then(function(e){i.progressUploadPart="",i.dossierTemplateItems[t]["passRequired"]=!0,i.$store.dispatch("loadDossierFiles",i.thongTinHoSo.dossierId).then(function(e){i.dossierFilesItems=e,i.recountFileTemplates()})}).catch(function(e){i.progressUploadPart="",toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("Đính kèm tài liệu thất bại")}))},viewGiayToDaNop:function(e){var t=this;if(0!==e.fileSize)if(e["eForm"]?t.pdfEform=!0:t.pdfEform=!1,"doc"===e.fileType||"docx"===e.fileType||"xlsx"===e.fileType||"xls"===e.fileType||"zip"===e.fileType||"rar"===e.fileType||"txt"===e.fileType||"mp3"===e.fileType||"mp4"===e.fileType){var i=t.initDataResource.dossierApi+"/"+e.dossierId+"/files/"+e.referenceUid;window.open(i)}else e.referenceUid?(t.dialogPDFLoading=!0,t.dialogPDF=!0,t.$store.dispatch("viewFile",e).then(function(e){t.dialogPDFLoading=!1,document.getElementById("dialogPDFPreview"+t.id).src=e})):(toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error("File dữ liệu không tồn tại"))},viewFileWithPartNo:function(e){var t=this;if(t.dossierFilesItems){var i=t.dossierFilesItems.filter(function(t){return t.dossierPartNo===e.partNo&&!t.eForm});if(!i)return;t.fileViews=i,t.partView!==e.partNo?(t.stateView=!0,t.partView=e.partNo):(t.stateView=!t.stateView,t.partView=e.partNo)}},saveMark:function(){var e=this;e.dossierTemplateItems&&e.dossierTemplateItems.forEach(function(t,i){1===t.partType&&(t["dossierId"]=e.thongTinHoSo.dossierId,e.$store.dispatch("postDossierMark",t))})},changeFileMark:function(e,t){var i=this;if(!i.onlyView){var o=i.dossierTemplateItems[t];o["dossierId"]=i.thongTinHoSo.dossierId,o["fileMark"]=e,o["checkInput"]=i.checkInput,i.$store.dispatch("postDossierMark",o),i.dossierTemplateItems[t].fileMark=e}},changeFileCheck:function(e,t){var i=this,o=i.dossierTemplateItems[t];o["dossierId"]=i.thongTinHoSo.dossierId,o["fileCheck"]=e,o["checkInput"]=i.checkInput,2!==e?(o["fileComment"]="",i.$store.dispatch("postDossierMark",o),i.dossierTemplateItems[t].fileCheck=e):o["stateEditFileCheck"]=!0},changeFileComment:function(e,t){var i=this;null!==e.fileComment&&void 0!==e.fileComment&&""!==e.fileComment&&(e["dossierId"]=i.thongTinHoSo.dossierId,e["fileComment"]=e.fileComment,e["checkInput"]=i.checkInput,e["stateEditFileCheck"]=!e["stateEditFileCheck"],i.$store.dispatch("postDossierMark",e),i.dossierTemplateItems[t].fileComment=e.fileComment)},checkStyle:function(e){var t=this;if(1===t.checkInput)return"calc(100% - 140px)";var i=0;return 1===t.originality||1!==e.partType||t.thongTinHoSo.online||1===t.checkInput||(t.onlyView?i+=140:i+=240),e.fileCheck>0&&!t.thongTinHoSo.online&&(i+=20),e.fileCheck>0&&t.thongTinHoSo.online&&(i+=40),t.onlyView||(i+=90),"calc(100% - "+i+"px)"},checkVisibleTemp:function(e,t){var i=this;if(!i.onlyView)return!0;if(3===e.partType){if(i.dossierFilesItems.length>0){var o=i.dossierFilesItems.findIndex(function(t){return t.dossierPartNo===e.partNo});return-1!==o}return!1}return!0},changeStateViewResult:function(){var e=this;if(e.dossierFilesItems.length>0){var t=e.dossierFilesItems.findIndex(function(e){return 2===e.dossierPartType||7===e.dossierPartType});-1!==t?e.$emit("tp:change-state-view-result",!0):e.$emit("tp:change-state-view-result",!1)}else(e.partTypes.includes(2)||e.partTypes.includes(7))&&e.$emit("tp:change-state-view-result",!1)},changeOtherDossierTemp:function(e){var t=this;if(3===t.originality&&t.stateAddFileOther)t.loadingAddOther=!0,t.$store.dispatch("uploadSingleOtherFile",{dossierId:t.thongTinHoSo.dossierId,displayName:e,partNo:t.dossierTemplatesItemSelect.partNo}).then(function(e){t.loadingAddOther=!1,t.dialogAddOtherTemp=!1,t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then(function(e){t.dossierFilesItems=e})}).catch(function(e){t.loadingAddOther=!1});else{var i=t.dossierTemplatesItemSelect;i["dossierId"]=t.thongTinHoSo.dossierId,i["displayName"]=e,i["dossierTemplateNo"]=t.thongTinHoSo.dossierTemplateNo,t.$store.dispatch("uploadSingleFile",i).then(function(e){t.progressUploadPart="",t.dialogAddOtherTemp=!1,t.$store.dispatch("loadDossierFiles",t.thongTinHoSo.dossierId).then(function(e){if(t.dossierFilesItems=e,t.recountFileTemplates(),t.stateView&&t.dossierFilesItems){var i=t.dossierFilesItems.filter(function(e){return e.dossierPartNo===t.dossierTemplatesItemSelect.partNo&&!e.eForm});i&&(t.fileViews=i)}})}).catch(function(e){t.progressUploadPart=""})}},downloadFileTemplate:function(e,t){var i=this;if(i.fileTemplateItems.length>0){var o=i.fileTemplateItems.find(function(t){return e.fileTemplateNo===t.fileTemplateNo});if(o){var s=i.initDataResource.serviceInfoApi+"/"+i.serviceInfoId+"/filetemplates/"+o.fileTemplateNo;window.open(s)}else console.log("ko thay file")}},addOtherTemplate:function(){var e=this;e.$refs.form.validate()&&e.changeOtherDossierTemp(e.otherDossierTemplate)},editDisplayName:function(e,t){var i=this;i.dossierFileIdView!==e.dossierFileId?(i.dossierFileIdView=e.dossierFileId,i.stateEdit=!0):(i.dossierFileIdView=e.dossierFileId,i.stateEdit=!i.stateEdit)},cancelDialog:function(){var e=this;e.dialogAddOtherTemp=!1,e.progressUploadPart=""},addFileOther:function(e){var t=this;t.dialogAddOtherTemp=!0,t.stateAddFileOther=!0,t.dossierTemplatesItemSelect=e},validDossierTemplate:function(){var e=this;if(e.dossierTemplateItems.length>0){for(var t=0;t<e.dossierTemplateItems.length;t++)if(e.dossierTemplateItems[t]["required"]&&!e.dossierTemplateItems[t]["passRequired"]&&e.partTypes.includes(e.dossierTemplateItems[t].partType)){var i="Chú ý :"+e.dossierTemplateItems[t].partName+" là thành phần bắt buộc!";return toastr__WEBPACK_IMPORTED_MODULE_14___default.a.clear(),toastr__WEBPACK_IMPORTED_MODULE_14___default.a.error(i),!1}return!0}return!0},changeDisplayName:function(e,t){var i=this,o={dossierId:i.thongTinHoSo.dossierId,value:value};i.$store.dispatch("changeDisplayNameFile",o).then(function(e){i.fileViews[t].displayName=e.displayName,i.stateEdit=!1}).catch(function(e){console.log("error")})},getDossierFileApplicants:function(e,t){var i=this,o={dossierId:i.thongTinHoSo.dossierId,applicantIdNo:e,fileTemplateNo:t};i.$store.dispatch("getDossierFilesApplicants",o).then(function(e){i.dossierFilesApplicant=e}).catch(function(e){console.log("error")})},showFilesApplicant:function(e){jquery__WEBPACK_IMPORTED_MODULE_13___default()("#fileApplicant-"+e).is(":visible")?jquery__WEBPACK_IMPORTED_MODULE_13___default()("#fileApplicant-"+e).hide():jquery__WEBPACK_IMPORTED_MODULE_13___default()("#fileApplicant-"+e).show()},checkKQhasFile:function(e){var t=this;if(t.partTypes.includes(2)){var i=t.dossierFilesItems.find(function(t){return e.partNo===t.dossierPartNo});return!!i}return!0},partNoApplicantHasFile:function(e){var t=this,i=t.dossierFilesApplicant.find(function(i){return i.dossierTemplateNo===t.thongTinHoSo["dossierTemplateNo"]&&i.dossierPartNo===e});return!!i},changeRecordCount:function(e){var t=this;if(!t.onlyView){var i=function(){t.doChange=setTimeout(function(){if(!t.onlyView&&Number(t.dossierTemplateItems[e]["recordCount"])>=0){var i=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},t.dossierTemplateItems[e],{dossierId:t.thongTinHoSo.dossierId});t.$store.dispatch("postDossierMark",i)}},3e3)};t.dossierTemplateItems[e].recordCount=t.dossierTemplateItems[e]["recordCount"]?t.dossierTemplateItems[e]["recordCount"]:"",clearTimeout(t.doChange),i()}},increaseCounter:function(e){var t=this;function i(){t.doChange=setTimeout(function(){if(!t.onlyView&&Number(t.dossierTemplateItems[e]["recordCount"])>=0){var i=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},t.dossierTemplateItems[e],{dossierId:t.thongTinHoSo.dossierId});t.$store.dispatch("postDossierMark",i)}},3e3)}t.dossierTemplateItems[e].recordCount=t.dossierTemplateItems[e]["recordCount"]?t.dossierTemplateItems[e]["recordCount"]:"",t.dossierTemplateItems[e]["recordCount"]=Number(t.dossierTemplateItems[e]["recordCount"])+1,clearTimeout(t.doChange),i()},decreaseCounter:function(e){var t=this;function i(){t.doChange=setTimeout(function(){if(!t.onlyView&&Number(t.dossierTemplateItems[e]["recordCount"])>=0){var i=d_SourseCode_FDS_OPENCPS_front_end_opencps_frontend_opencps_v2_1_motcua_optimize_node_modules_babel_runtime_corejs2_core_js_object_assign__WEBPACK_IMPORTED_MODULE_0___default()({},t.dossierTemplateItems[e],{dossierId:t.thongTinHoSo.dossierId});t.$store.dispatch("postDossierMark",i)}},3e3)}t.dossierTemplateItems[e].recordCount=t.dossierTemplateItems[e]["recordCount"]?t.dossierTemplateItems[e]["recordCount"]:"",t.dossierTemplateItems[e]["recordCount"]=Number(t.dossierTemplateItems[e]["recordCount"])-1,clearTimeout(t.doChange),i()},getDocumentTypeIcon:function(e){var t="doc,docx",i="xls,xlsx",o="png,jpg,jpeg";return e?t.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-word-o",color:"blue",size:14}:i.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-excel-o",color:"green",size:14}:"pdf"===e.toLowerCase()?{icon:"fa fa-file-pdf-o",color:"red",size:14}:o.indexOf(e.toLowerCase())>=0?{icon:"fas fa fa-file-image-o",color:"primary",size:14}:{icon:"fas fa fa-paperclip",color:"",size:14}:""}}}},ae8d:function(e,t,i){},d4c0a:function(e,t,i){}}]);
//# sourceMappingURL=chunk-48bf925a.js.map